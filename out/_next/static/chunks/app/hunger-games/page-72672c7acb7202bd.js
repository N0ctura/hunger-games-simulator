(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[70],{5400:(e,t,a)=>{Promise.resolve().then(a.bind(a,1514))},1514:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>eS});var i=a(5155),l=a(2115),n=a(6046);let s={musicVolume:.4,sfxVolume:.7,cannonEnabled:!0,swordEnabled:!0,musicEnabled:!0,cornucopiaEnabled:!0},r={dayDuration:3,nightDuration:2,feastFrequency:3,autoPlay:!1,autoPlaySpeed:2e3,enableCornucopia:!0,phaseImages:{day:"/images/giorno.webp",night:"/images/notte.webp",feast:"/images/banchetto.webp",cornucopia:"/images/cornucopia.webp"},audio:s},o=["spada","arco","lancia","pugnale","ascia","trappola","veleno","rete","freccia","pietra","fionda","corda","torcia","scudo","mazza","tridente","accetta","bastone","coltello da lancio","machete"],d=()=>{let e=["R0ck","vincy","Cato","Clove","Beetee","Volpona","Finnick","Mags","Lil Bro","Conte edw","Saetta","Storto","Nabbo","Johanna","Il 3","xXkingXx","S3bo","Brock","Noctura","Ginettone","ambrogio","scimmietta 05","Peeta","La Foca"],t=["https://api.dicebear.com/7.x/avataaars/svg?seed=T1","https://api.dicebear.com/7.x/avataaars/svg?seed=T2","https://api.dicebear.com/7.x/avataaars/svg?seed=T3","https://api.dicebear.com/7.x/avataaars/svg?seed=T4","https://api.dicebear.com/7.x/avataaars/svg?seed=T5","images/volpe.png","https://api.dicebear.com/7.x/bottts/svg?seed=B1","https://api.dicebear.com/7.x/bottts/svg?seed=B2","https://api.dicebear.com/7.x/bottts/svg?seed=B3","https://api.dicebear.com/7.x/bottts/svg?seed=B4","https://api.dicebear.com/7.x/bottts/svg?seed=B5","https://api.dicebear.com/7.x/bottts/svg?seed=B6","https://api.dicebear.com/7.x/lorelei/svg?seed=L1","https://api.dicebear.com/7.x/lorelei/svg?seed=L2","https://api.dicebear.com/7.x/lorelei/svg?seed=L3","https://api.dicebear.com/7.x/lorelei/svg?seed=L4","https://api.dicebear.com/7.x/lorelei/svg?seed=L5","https://api.dicebear.com/7.x/lorelei/svg?seed=L6","https://api.dicebear.com/7.x/pixel-art/svg?seed=P1","https://api.dicebear.com/7.x/pixel-art/svg?seed=P2","https://api.dicebear.com/7.x/pixel-art/svg?seed=P3","https://api.dicebear.com/7.x/pixel-art/svg?seed=P4","https://api.dicebear.com/7.x/pixel-art/svg?seed=P5","images/foca.png"];return Array.from({length:24},(a,i)=>{let l=Math.floor(i/2)+1,n=e[i]||"Tributo D".concat(l).concat(i%2==0?"M":"F");return{id:"tribute-".concat(i+1),name:n,district:l,image:t[i]||null,isAlive:!0,kills:0,usedEvents:[]}})},c=[{id:"d1",text:"{P1} raccoglie bacche commestibili.",type:"day",isFatal:!1,killCount:0,weight:5},{id:"d2",text:"{P1} trova una sorgente d'acqua.",type:"day",isFatal:!1,killCount:0,weight:5},{id:"d3",text:"{P1} costruisce un riparo improvvisato.",type:"day",isFatal:!1,killCount:0,weight:5},{id:"d4",text:"{P1} osserva {P2} da lontano.",type:"day",isFatal:!1,killCount:0,weight:5},{id:"d5",text:"{P1} e {P2} decidono di collaborare temporaneamente.",type:"day",isFatal:!1,killCount:0,weight:5},{id:"d6",text:"{P1} ruba provviste a {P2} mentre dorme.",type:"day",isFatal:!1,killCount:0,weight:5},{id:"d7",text:"{P1} cammina per ore senza trovare acqua.",type:"day",isFatal:!1,killCount:0,weight:5},{id:"d8",text:"{P1} si nasconde tra i cespugli.",type:"day",isFatal:!1,killCount:0,weight:5},{id:"d9",text:"{P1} riceve un paracadute con zuppa calda dagli sponsor.",type:"day",isFatal:!1,killCount:0,weight:5},{id:"d10",text:"{P1} riceve medicine dagli sponsor.",type:"day",isFatal:!1,killCount:0,weight:5},{id:"d11",text:"{P1} si arrampica su un albero per avere una visuale migliore.",type:"day",isFatal:!1,killCount:0,weight:5},{id:"d12",text:"{P1} pesca con le mani nude.",type:"day",isFatal:!1,killCount:0,weight:5},{id:"d13",text:"{P1} e {P2} si alleano.",type:"day",isFatal:!1,killCount:0,weight:5},{id:"d14",text:"{P1}, {P2} e {P3} formano un'alleanza.",type:"day",isFatal:!1,killCount:0,weight:5},{id:"d15",text:"{P1} caccia un coniglio.",type:"day",isFatal:!1,killCount:0,weight:5},{id:"d16",text:"{P1} trova un rifugio abbandonato.",type:"day",isFatal:!1,killCount:0,weight:5},{id:"d17",text:"{P1} ripara le sue ferite con foglie medicinali.",type:"day",isFatal:!1,killCount:0,weight:5},{id:"d18",text:"{P1} scopre una grotta nascosta.",type:"day",isFatal:!1,killCount:0,weight:5},{id:"d19",text:"{P1} si camuffa con fango e foglie.",type:"day",isFatal:!1,killCount:0,weight:5},{id:"d20",text:"{P1} evita {P2} per un soffio.",type:"day",isFatal:!1,killCount:0,weight:5},{id:"d21",text:"{P1} costruisce una trappola per piccoli animali.",type:"day",isFatal:!1,killCount:0,weight:5},{id:"d22",text:"{P1} segue le tracce di {P2}.",type:"day",isFatal:!1,killCount:0,weight:5},{id:"d23",text:"{P1} affila il suo coltello su una pietra.",type:"day",isFatal:!1,killCount:0,weight:5},{id:"d24",text:"{P1} raccoglie legna per il fuoco.",type:"day",isFatal:!1,killCount:0,weight:5},{id:"d25",text:"{P1} sente il cannone in lontananza e sorride.",type:"day",isFatal:!1,killCount:0,weight:5},{id:"d26",text:"{P1} trova un arco abbandonato.",type:"day",isFatal:!1,killCount:0,weight:5},{id:"d27",text:"{P1} riceve una benda dagli sponsor.",type:"day",isFatal:!1,killCount:0,weight:5},{id:"d28",text:"{P1} medita sulla strategia da adottare.",type:"day",isFatal:!1,killCount:0,weight:5},{id:"d29",text:"{P1} si riposa all'ombra di un albero.",type:"day",isFatal:!1,killCount:0,weight:5},{id:"d30",text:"{P1} controlla il territorio circostante.",type:"day",isFatal:!1,killCount:0,weight:5},{id:"d31",text:"{P1} esplora la foresta.",type:"day",isFatal:!1,killCount:0,weight:5},{id:"d32",text:"{P1} cucina un piccolo animale.",type:"day",isFatal:!1,killCount:0,weight:5},{id:"d33",text:"{P1} pratica con l'arco.",type:"day",isFatal:!1,killCount:0,weight:5},{id:"d34",text:"{P1} pratica con la lancia.",type:"day",isFatal:!1,killCount:0,weight:5},{id:"d35",text:"{P1} e {P2} condividono le provviste.",type:"day",isFatal:!1,killCount:0,weight:5},{id:"d36",text:"{P1} cerca di decifrare i suoni della foresta.",type:"day",isFatal:!1,killCount:0,weight:5},{id:"d37",text:"{P1} trova uno zaino abbandonato.",type:"day",isFatal:!1,killCount:0,weight:5},{id:"d38",text:"{P1} riceve acqua purificata dagli sponsor.",type:"day",isFatal:!1,killCount:0,weight:5},{id:"d39",text:"{P1} crea una mappa mentale dell'arena.",type:"day",isFatal:!1,killCount:0,weight:5},{id:"d40",text:"{P1} attraversa un fiume poco profondo.",type:"day",isFatal:!1,killCount:0,weight:5},{id:"d41",text:"{P1} si arrampica su una roccia per osservare l'orizzonte.",type:"day",isFatal:!1,killCount:0,weight:5},{id:"d42",text:"{P1} incontra {P2} ma decidono di non combattere.",type:"day",isFatal:!1,killCount:0,weight:5},{id:"d43",text:"{P1} si lava in un ruscello.",type:"day",isFatal:!1,killCount:0,weight:5},{id:"d44",text:"{P1} cerca erbe curative.",type:"day",isFatal:!1,killCount:0,weight:5},{id:"d45",text:"{P1} disarma una trappola lasciata da {P2}.",type:"day",isFatal:!1,killCount:0,weight:5},{id:"d46",text:"{P1} scava una buca per nascondere le provviste.",type:"day",isFatal:!1,killCount:0,weight:5},{id:"d47",text:"{P1} sente dei passi e si nasconde velocemente.",type:"day",isFatal:!1,killCount:0,weight:5},{id:"d48",text:"{P1} riceve un messaggio di speranza dagli sponsor.",type:"day",isFatal:!1,killCount:0,weight:5},{id:"d49",text:"{P1} raccoglie funghi commestibili.",type:"day",isFatal:!1,killCount:0,weight:5},{id:"d50",text:"{P1} distrae {P2} con un rumore.",type:"day",isFatal:!1,killCount:0,weight:5},{id:"d51",text:"{P1} sale su un albero per sfuggire a {P2}.",type:"day",isFatal:!1,killCount:0,weight:5},{id:"d52",text:"{P1} trova delle frecce sparse.",type:"day",isFatal:!1,killCount:0,weight:5},{id:"d53",text:"{P1} pianifica un attacco contro {P2}.",type:"day",isFatal:!1,killCount:0,weight:5},{id:"d54",text:"{P1} sabota la trappola di {P2}.",type:"day",isFatal:!1,killCount:0,weight:5},{id:"d55",text:"{P1} corre attraverso i campi aperti.",type:"day",isFatal:!1,killCount:0,weight:5},{id:"d56",text:"{P1} spia {P2} e {P3} da dietro un cespuglio.",type:"day",isFatal:!1,killCount:0,weight:5},{id:"d57",text:"{P1} si ferisce leggermente ma continua.",type:"day",isFatal:!1,killCount:0,weight:5},{id:"d58",text:"{P1} avvista {P2} in lontananza e cambia direzione.",type:"day",isFatal:!1,killCount:0,weight:5},{id:"d59",text:"{P1} prepara una fionda artigianale.",type:"day",isFatal:!1,killCount:0,weight:5},{id:"d60",text:"{P1} raccoglie radici commestibili.",type:"day",isFatal:!1,killCount:0,weight:5},{id:"d61",text:"{P1} si addormenta brevemente all'ombra.",type:"day",isFatal:!1,killCount:0,weight:5},{id:"d62",text:"{P1} costruisce una lancia con un ramo.",type:"day",isFatal:!1,killCount:0,weight:5},{id:"d63",text:"{P1} sente voci in lontananza e si nasconde.",type:"day",isFatal:!1,killCount:0,weight:5},{id:"d64",text:"{P1} guarda il cielo pensando ai propri cari.",type:"day",isFatal:!1,killCount:0,weight:5},{id:"d65",text:"{P1} attraversa un campo di fiori velenosi con cautela.",type:"day",isFatal:!1,killCount:0,weight:5},{id:"d66",text:"{P1} scopre una cascata nascosta.",type:"day",isFatal:!1,killCount:0,weight:5},{id:"d67",text:"{P1} riceve un coltello dagli sponsor.",type:"day",isFatal:!1,killCount:0,weight:5},{id:"d68",text:"{P1} e {P2} si scambiano informazioni.",type:"day",isFatal:!1,killCount:0,weight:5},{id:"d69",text:"{P1} medita vendetta contro {P2}.",type:"day",isFatal:!1,killCount:0,weight:5},{id:"d70",text:"{P1} decide di spostarsi verso nord.",type:"day",isFatal:!1,killCount:0,weight:5},{id:"d71",text:"{P1} trova impronte fresche e le segue.",type:"day",isFatal:!1,killCount:0,weight:5},{id:"d72",text:"{P1} ripara il proprio rifugio.",type:"day",isFatal:!1,killCount:0,weight:5},{id:"d73",text:"{P1} si esercita nel lancio dei coltelli.",type:"day",isFatal:!1,killCount:0,weight:5},{id:"d74",text:"{P1} raccoglie pietre affilate.",type:"day",isFatal:!1,killCount:0,weight:5},{id:"d75",text:"{P1} sente un rumore sospetto ma \xe8 solo il vento.",type:"day",isFatal:!1,killCount:0,weight:5},{id:"d76",text:"{P1} cammina lungo il fiume.",type:"day",isFatal:!1,killCount:0,weight:5},{id:"d77",text:"{P1} nasconde le proprie tracce.",type:"day",isFatal:!1,killCount:0,weight:5},{id:"d78",text:"{P1} e {P2} si fronteggiano ma nessuno attacca.",type:"day",isFatal:!1,killCount:0,weight:5},{id:"d79",text:"{P1} trova un nido di uova e le mangia crude.",type:"day",isFatal:!1,killCount:0,weight:5},{id:"d80",text:"{P1} vede fumo in lontananza.",type:"day",isFatal:!1,killCount:0,weight:5},{id:"d81",text:"{P1} si allontana dalla Cornucopia.",type:"day",isFatal:!1,killCount:0,weight:5},{id:"d82",text:"{P1} trova una borraccia vuota.",type:"day",isFatal:!1,killCount:0,weight:5},{id:"d83",text:"{P1} si rifugia in una cavit\xe0 dell'albero.",type:"day",isFatal:!1,killCount:0,weight:5},{id:"d84",text:"{P1} raccoglie corteccia per accendere il fuoco.",type:"day",isFatal:!1,killCount:0,weight:5},{id:"d85",text:"{P1} marca il territorio con segni sugli alberi.",type:"day",isFatal:!1,killCount:0,weight:5},{id:"d86",text:"{P1} vede una colonna di fumo e la evita.",type:"day",isFatal:!1,killCount:0,weight:5},{id:"d87",text:"{P1} attraversa un campo di spine con difficolt\xe0.",type:"day",isFatal:!1,killCount:0,weight:5},{id:"d88",text:"{P1} e {P2} si inseguono ma si perdono nella foresta.",type:"day",isFatal:!1,killCount:0,weight:5},{id:"d89",text:"{P1} trova uno scudo arrugginito.",type:"day",isFatal:!1,killCount:0,weight:5},{id:"d90",text:"{P1} fa una pausa per riposare le gambe.",type:"day",isFatal:!1,killCount:0,weight:5},{id:"d91",text:"{P1} riceve un accendino dagli sponsor.",type:"day",isFatal:!1,killCount:0,weight:5},{id:"d92",text:"{P1} scopre una pozza d'acqua torbida e la purifica.",type:"day",isFatal:!1,killCount:0,weight:5},{id:"d93",text:"{P1} canta sottovoce per farsi coraggio.",type:"day",isFatal:!1,killCount:0,weight:5},{id:"d94",text:"{P1} scambia sguardi tesi con {P2} da lontano.",type:"day",isFatal:!1,killCount:0,weight:5},{id:"d95",text:"{P1} organizza le proprie provviste.",type:"day",isFatal:!1,killCount:0,weight:5},{id:"d96",text:"{P1} studia il movimento delle nuvole.",type:"day",isFatal:!1,killCount:0,weight:5},{id:"d97",text:"{P1} setaccia un'area alla ricerca di utensili.",type:"day",isFatal:!1,killCount:0,weight:5},{id:"d98",text:"{P1} crea un segnale di fumo per confondere i nemici.",type:"day",isFatal:!1,killCount:0,weight:5},{id:"d99",text:"{P1} prepara un agguato che non viene mai usato.",type:"day",isFatal:!1,killCount:0,weight:5},{id:"d100",text:"{P1} trova un vecchio zaino con cibo avariato.",type:"day",isFatal:!1,killCount:0,weight:5},{id:"d101",text:"{P1} si arrampica su una collina per vedere meglio.",type:"day",isFatal:!1,killCount:0,weight:5},{id:"d102",text:"{P1} scava una trincea per proteggersi.",type:"day",isFatal:!1,killCount:0,weight:5},{id:"d103",text:"{P1} cerca di imitare il verso degli uccelli.",type:"day",isFatal:!1,killCount:0,weight:5},{id:"d104",text:"{P1} costruisce una zattera improvvisata.",type:"day",isFatal:!1,killCount:0,weight:5},{id:"d105",text:"{P1} scopre le rovine di un vecchio accampamento.",type:"day",isFatal:!1,killCount:0,weight:5},{id:"d106",text:"{P1} e {P2} si promettono di non tradirsi.",type:"day",isFatal:!1,killCount:0,weight:5},{id:"d107",text:"{P1} raccoglie fango per mimetizzarsi.",type:"day",isFatal:!1,killCount:0,weight:5},{id:"d108",text:"{P1} avvista un paracadute ma era per {P2}.",type:"day",isFatal:!1,killCount:0,weight:5},{id:"d109",text:"{P1} cammina in cerchio senza accorgersene.",type:"day",isFatal:!1,killCount:0,weight:5},{id:"d110",text:"{P1} trova un pugnale incastrato in un albero.",type:"day",isFatal:!1,killCount:0,weight:5},{id:"d111",text:"{P1} raccoglie muschio per le ferite.",type:"day",isFatal:!1,killCount:0,weight:5},{id:"d112",text:"{P1} si copre con foglie per mimetizzarsi.",type:"day",isFatal:!1,killCount:0,weight:5},{id:"d113",text:"{P1} sente l'inno di Panem e si emoziona.",type:"day",isFatal:!1,killCount:0,weight:5},{id:"d114",text:"{P1} insegue una farfalla colorata per distrarsi.",type:"day",isFatal:!1,killCount:0,weight:5},{id:"d115",text:"{P1} urla contro il cielo per liberare la tensione.",type:"day",isFatal:!1,killCount:0,weight:5},{id:"d116",text:"{P1} contempla la possibilit\xe0 di arrendersi.",type:"day",isFatal:!1,killCount:0,weight:5},{id:"d117",text:"{P1} cerca di contare quanti tributi sono ancora vivi.",type:"day",isFatal:!1,killCount:0,weight:5},{id:"d118",text:"{P1} promette a se stesso di tornare a casa.",type:"day",isFatal:!1,killCount:0,weight:5},{id:"d119",text:"{P1} nasconde del cibo in un punto strategico.",type:"day",isFatal:!1,killCount:0,weight:5},{id:"d120",text:"{P1} si allena mentalmente per il prossimo scontro.",type:"day",isFatal:!1,killCount:0,weight:5},{id:"d121",text:"{P1} tende un'imboscata a {P2} e lo uccide.",type:"day",isFatal:!0,killCount:1,killer:1,victims:[2],weight:5},{id:"d122",text:"{P1} scaglia una lancia contro {P2}.",type:"day",isFatal:!0,killCount:1,killer:1,victims:[2],weight:5},{id:"d123",text:"{P1} cade in una trappola mortale.",type:"day",isFatal:!0,killCount:1,killer:null,victims:[1],weight:5},{id:"d124",text:"{P1} mangia bacche velenose.",type:"day",isFatal:!0,killCount:1,killer:null,victims:[1],weight:5},{id:"d125",text:"{P1} viene colpito dalla pioggia acida e muore tra le fiamme.",type:"day",isFatal:!0,killCount:1,killer:null,victims:[1],weight:5},{id:"d126",text:"{P1} tradisce {P2} e lo pugnala a morte.",type:"day",isFatal:!0,killCount:1,killer:1,victims:[2],weight:5},{id:"d127",text:"{P1} cade da un albero e muore sul colpo.",type:"day",isFatal:!0,killCount:1,killer:null,victims:[1],weight:5},{id:"d128",text:"{P1} viene attaccato dalle vespe aghi-mortali e muore dissanguato.",type:"day",isFatal:!0,killCount:1,killer:null,victims:[1],weight:5},{id:"d129",text:"{P1} strangola {P2} con una corda.",type:"day",isFatal:!0,killCount:1,killer:1,victims:[2],weight:5},{id:"d130",text:"{P1} viene morso da un serpente velenoso e muore in pochi minuti.",type:"day",isFatal:!0,killCount:1,killer:null,victims:[1],weight:5}],u=[{id:"n1",text:"{P1} dorme a turni.",type:"night",isFatal:!1,killCount:0,weight:5},{id:"n2",text:"{P1} piange pensando a casa.",type:"night",isFatal:!1,killCount:0,weight:5},{id:"n3",text:"{P1} cerca di accendere un fuoco.",type:"night",isFatal:!1,killCount:0,weight:5},{id:"n7",text:"{P1} guarda le stelle cercando conforto.",type:"night",isFatal:!1,killCount:0,weight:5},{id:"n8",text:"{P1} sente rumori inquietanti nel bosco.",type:"night",isFatal:!1,killCount:0,weight:5},{id:"n9",text:"{P1} fa la guardia mentre {P2} dorme.",type:"night",isFatal:!1,killCount:0,weight:5},{id:"n10",text:"{P1} si sveglia di soprassalto da un incubo.",type:"night",isFatal:!1,killCount:0,weight:5},{id:"n11",text:"{P1} racconta storie a {P2} davanti al fuoco.",type:"night",isFatal:!1,killCount:0,weight:5},{id:"n12",text:"{P1} trema dal freddo tutta la notte.",type:"night",isFatal:!1,killCount:0,weight:5},{id:"n13",text:"{P1} sente ululati in lontananza.",type:"night",isFatal:!1,killCount:0,weight:5},{id:"n14",text:"{P1} cura le proprie ferite al buio.",type:"night",isFatal:!1,killCount:0,weight:5},{id:"n15",text:"{P1} si rannicchia per conservare il calore.",type:"night",isFatal:!1,killCount:0,weight:5},{id:"n16",text:"{P1} e {P2} si stringono per riscaldarsi.",type:"night",isFatal:!1,killCount:0,weight:5},{id:"n17",text:"{P1} vede i volti dei caduti proiettati nel cielo.",type:"night",isFatal:!1,killCount:0,weight:5},{id:"n18",text:"{P1} pensa a una strategia per l'indomani.",type:"night",isFatal:!1,killCount:0,weight:5},{id:"n19",text:"{P1} ascolta il silenzio della notte.",type:"night",isFatal:!1,killCount:0,weight:5},{id:"n20",text:"{P1} si addormenta per sfinimento.",type:"night",isFatal:!1,killCount:0,weight:5},{id:"n21",text:"{P1} ha allucinazioni a causa della fame.",type:"night",isFatal:!1,killCount:0,weight:5},{id:"n22",text:"{P1} controlla il perimetro del campo.",type:"night",isFatal:!1,killCount:0,weight:5},{id:"n23",text:"{P1} sente passi ma non vede nessuno.",type:"night",isFatal:!1,killCount:0,weight:5},{id:"n24",text:"{P1} medita in silenzio.",type:"night",isFatal:!1,killCount:0,weight:5},{id:"n25",text:"{P1} affila la lama alla luce della luna.",type:"night",isFatal:!1,killCount:0,weight:5},{id:"n26",text:"{P1} si copre con foglie per proteggersi dal freddo.",type:"night",isFatal:!1,killCount:0,weight:5},{id:"n27",text:"{P1} prega per la propria salvezza.",type:"night",isFatal:!1,killCount:0,weight:5},{id:"n28",text:"{P1} sogna la propria famiglia.",type:"night",isFatal:!1,killCount:0,weight:5},{id:"n29",text:"{P1} ripensa agli eventi del giorno.",type:"night",isFatal:!1,killCount:0,weight:5},{id:"n30",text:"{P1} fischia una melodia per calmarsi.",type:"night",isFatal:!1,killCount:0,weight:5},{id:"n31",text:"{P1} si domanda chi rimarr\xe0 vivo all'alba.",type:"night",isFatal:!1,killCount:0,weight:5},{id:"n32",text:"{P1} nasconde le armi sotto il rifugio.",type:"night",isFatal:!1,killCount:0,weight:5},{id:"n33",text:"{P1} osserva la luna piena.",type:"night",isFatal:!1,killCount:0,weight:5},{id:"n34",text:"{P1} sente il cannone e conta i colpi.",type:"night",isFatal:!1,killCount:0,weight:5},{id:"n35",text:"{P1} si sveglia ogni ora per paura.",type:"night",isFatal:!1,killCount:0,weight:5},{id:"n36",text:"{P1} stringe il coltello mentre cerca di dormire.",type:"night",isFatal:!1,killCount:0,weight:5},{id:"n37",text:"{P1} sente un fruscio tra gli alberi.",type:"night",isFatal:!1,killCount:0,weight:5},{id:"n38",text:"{P1} si chiede se gli sponsor lo stanno guardando.",type:"night",isFatal:!1,killCount:0,weight:5},{id:"n39",text:"{P1} ricorda il giorno della Mietitura.",type:"night",isFatal:!1,killCount:0,weight:5},{id:"n40",text:"{P1} si addormenta tenendo stretta l'arma.",type:"night",isFatal:!1,killCount:0,weight:5},{id:"n41",text:"{P1} ascolta il canto degli insetti notturni.",type:"night",isFatal:!1,killCount:0,weight:5},{id:"n42",text:"{P1} si avvolge nella coperta termica degli sponsor.",type:"night",isFatal:!1,killCount:0,weight:5},{id:"n43",text:"{P1} spera che domani sar\xe0 un giorno migliore.",type:"night",isFatal:!1,killCount:0,weight:5},{id:"n44",text:"{P1} riflette su chi fidarsi.",type:"night",isFatal:!1,killCount:0,weight:5},{id:"n45",text:"{P1} vede delle ombre muoversi.",type:"night",isFatal:!1,killCount:0,weight:5},{id:"n46",text:"{P1} rimane sveglio tutta la notte.",type:"night",isFatal:!1,killCount:0,weight:5},{id:"n47",text:"{P1} cerca di decifrare i suoni della notte.",type:"night",isFatal:!1,killCount:0,weight:5},{id:"n48",text:"{P1} pensa a come vincere i Giochi.",type:"night",isFatal:!1,killCount:0,weight:5},{id:"n49",text:"{P1} si riscalda vicino al fuoco morente.",type:"night",isFatal:!1,killCount:0,weight:5},{id:"n50",text:"{P1} sussurra parole di incoraggiamento a se stesso.",type:"night",isFatal:!1,killCount:0,weight:5},{id:"n51",text:"{P1} vede gli occhi di un animale nel buio.",type:"night",isFatal:!1,killCount:0,weight:5},{id:"n52",text:"{P1} ripara il rifugio danneggiato.",type:"night",isFatal:!1,killCount:0,weight:5},{id:"n53",text:"{P1} lotta contro il sonno per rimanere vigile.",type:"night",isFatal:!1,killCount:0,weight:5},{id:"n54",text:"{P1} nasconde il fuoco per non farsi vedere.",type:"night",isFatal:!1,killCount:0,weight:5},{id:"n55",text:"{P1} e {P2} condividono ricordi felici.",type:"night",isFatal:!1,killCount:0,weight:5},{id:"n56",text:"{P1} ha la febbre ma resiste.",type:"night",isFatal:!1,killCount:0,weight:5},{id:"n57",text:"{P1} beve acqua alla luce della luna.",type:"night",isFatal:!1,killCount:0,weight:5},{id:"n58",text:"{P1} sente delle grida lontane.",type:"night",isFatal:!1,killCount:0,weight:5},{id:"n59",text:"{P1} si interroga sulla propria umanit\xe0.",type:"night",isFatal:!1,killCount:0,weight:5},{id:"n60",text:"{P1} conta le stelle per passare il tempo.",type:"night",isFatal:!1,killCount:0,weight:5},{id:"n61",text:"{P1} si chiede chi morir\xe0 per primo domani.",type:"night",isFatal:!1,killCount:0,weight:5},{id:"n62",text:"{P1} dorme abbracciato alle proprie provviste.",type:"night",isFatal:!1,killCount:0,weight:5},{id:"n63",text:"{P1} osserva il chiarore dell'alba avvicinarsi.",type:"night",isFatal:!1,killCount:0,weight:5},{id:"n64",text:"{P1} tossisce per il fumo del fuoco.",type:"night",isFatal:!1,killCount:0,weight:5},{id:"n65",text:"{P1} ripensa al discorso del mentore.",type:"night",isFatal:!1,killCount:0,weight:5},{id:"n66",text:"{P1} sente freddo alle ossa.",type:"night",isFatal:!1,killCount:0,weight:5},{id:"n67",text:"{P1} scrive mentalmente una lettera a casa.",type:"night",isFatal:!1,killCount:0,weight:5},{id:"n68",text:"{P1} si prepara psicologicamente per il giorno successivo.",type:"night",isFatal:!1,killCount:0,weight:5},{id:"n69",text:"{P1} cerca di ricordare le regole dell'arena.",type:"night",isFatal:!1,killCount:0,weight:5},{id:"n70",text:"{P1} si domanda se la famiglia lo sta guardando.",type:"night",isFatal:!1,killCount:0,weight:5},{id:"n71",text:"{P1} vede bagliori in lontananza.",type:"night",isFatal:!1,killCount:0,weight:5},{id:"n72",text:"{P1} si lamenta sottovoce del dolore.",type:"night",isFatal:!1,killCount:0,weight:5},{id:"n73",text:"{P1} stringe i denti per il freddo pungente.",type:"night",isFatal:!1,killCount:0,weight:5},{id:"n74",text:"{P1} canta una ninna nanna del distretto.",type:"night",isFatal:!1,killCount:0,weight:5},{id:"n75",text:"{P1} pianifica una fuga verso le montagne.",type:"night",isFatal:!1,killCount:0,weight:5},{id:"n76",text:"{P1} sente battere forte il proprio cuore.",type:"night",isFatal:!1,killCount:0,weight:5},{id:"n77",text:"{P1} si chiede cosa stanno tramando gli altri tributi.",type:"night",isFatal:!1,killCount:0,weight:5},{id:"n78",text:"{P1} rabbrividisce sentendo urla nella foresta.",type:"night",isFatal:!1,killCount:0,weight:5},{id:"n79",text:"{P1} si chiede se merita di vincere.",type:"night",isFatal:!1,killCount:0,weight:5},{id:"n80",text:"{P1} si addormenta recitando una preghiera.",type:"night",isFatal:!1,killCount:0,weight:5},{id:"n81",text:"{P1} controlla pi\xf9 volte che le armi siano al sicuro.",type:"night",isFatal:!1,killCount:0,weight:5},{id:"n82",text:"{P1} alimenta il fuoco con rametti secchi.",type:"night",isFatal:!1,killCount:0,weight:5},{id:"n83",text:"{P1} sente il vento fischiare tra gli alberi.",type:"night",isFatal:!1,killCount:0,weight:5},{id:"n84",text:"{P1} si copre il volto con le mani e piange in silenzio.",type:"night",isFatal:!1,killCount:0,weight:5},{id:"n85",text:"{P1} cerca di restare ottimista.",type:"night",isFatal:!1,killCount:0,weight:5},{id:"n86",text:"{P1} ascolta attentamente ogni suono.",type:"night",isFatal:!1,killCount:0,weight:5},{id:"n87",text:"{P1} si promette di sopravvivere un altro giorno.",type:"night",isFatal:!1,killCount:0,weight:5},{id:"n88",text:"{P1} si chiede se \xe8 ancora umano dopo tutto quello che ha fatto.",type:"night",isFatal:!1,killCount:0,weight:5},{id:"n89",text:"{P1} ricorda il sapore del pane fresco.",type:"night",isFatal:!1,killCount:0,weight:5},{id:"n90",text:"{P1} osserva le braci morire lentamente.",type:"night",isFatal:!1,killCount:0,weight:5},{id:"n91",text:"{P1} immagina la vittoria e il ritorno a casa.",type:"night",isFatal:!1,killCount:0,weight:5},{id:"n92",text:"{P1} cerca di non pensare ai caduti.",type:"night",isFatal:!1,killCount:0,weight:5},{id:"n93",text:"{P1} si rannicchia in posizione fetale.",type:"night",isFatal:!1,killCount:0,weight:5},{id:"n94",text:"{P1} sente qualcuno camminare nel buio ma rimane immobile.",type:"night",isFatal:!1,killCount:0,weight:5},{id:"n95",text:"{P1} guarda il cielo e cerca costellazioni familiari.",type:"night",isFatal:!1,killCount:0,weight:5},{id:"n96",text:"{P1} sente il profumo della pioggia in arrivo.",type:"night",isFatal:!1,killCount:0,weight:5},{id:"n97",text:"{P1} stringe i pugni per non urlare dalla paura.",type:"night",isFatal:!1,killCount:0,weight:5},{id:"n98",text:"{P1} si addormenta mormorando il nome di qualcuno.",type:"night",isFatal:!1,killCount:0,weight:5},{id:"n99",text:"{P1} rivede mentalmente la mappa dell'arena.",type:"night",isFatal:!1,killCount:0,weight:5},{id:"n100",text:"{P1} si sveglia convinto di aver sentito il proprio nome.",type:"night",isFatal:!1,killCount:0,weight:5},{id:"n101",text:"{P1} cerca di ricordare un momento felice.",type:"night",isFatal:!1,killCount:0,weight:5},{id:"n102",text:"{P1} si domanda se i suoi amici sono ancora vivi.",type:"night",isFatal:!1,killCount:0,weight:5},{id:"n103",text:"{P1} sente qualcosa strisciare vicino ma non si muove.",type:"night",isFatal:!1,killCount:0,weight:5},{id:"n104",text:"{P1} sussulta a ogni rumore.",type:"night",isFatal:!1,killCount:0,weight:5},{id:"n105",text:"{P1} si asciuga le lacrime in silenzio.",type:"night",isFatal:!1,killCount:0,weight:5},{id:"n106",text:"{P1} si addormenta fantasticando sulla colazione a casa.",type:"night",isFatal:!1,killCount:0,weight:5},{id:"n107",text:"{P1} sente il freddo penetrare nelle ossa.",type:"night",isFatal:!1,killCount:0,weight:5},{id:"n108",text:"{P1} ripete un mantra per restare calmo.",type:"night",isFatal:!1,killCount:0,weight:5},{id:"n109",text:"{P1} si chiede quanto durer\xe0 ancora.",type:"night",isFatal:!1,killCount:0,weight:5},{id:"n110",text:"{P1} si sveglia tremante da un sogno terribile.",type:"night",isFatal:!1,killCount:0,weight:5},{id:"n111",text:"{P1} vede occhi luminosi nel buio e si paralizza.",type:"night",isFatal:!1,killCount:0,weight:5},{id:"n112",text:"{P1} dorme con una mano sul coltello.",type:"night",isFatal:!1,killCount:0,weight:5},{id:"n113",text:"{P1} sente la propria coscienza pesare.",type:"night",isFatal:!1,killCount:0,weight:5},{id:"n114",text:"{P1} cerca di riscaldare le mani sul fuoco.",type:"night",isFatal:!1,killCount:0,weight:5},{id:"n115",text:"{P1} sente la solitudine divorarlo.",type:"night",isFatal:!1,killCount:0,weight:5},{id:"n116",text:"{P1} osserva le ombre danzare alla luce del fuoco.",type:"night",isFatal:!1,killCount:0,weight:5},{id:"n117",text:"{P1} pensa a cosa direbbe ai familiari se potesse.",type:"night",isFatal:!1,killCount:0,weight:5},{id:"n118",text:"{P1} si chiede se il Capitol sta guardando in questo momento.",type:"night",isFatal:!1,killCount:0,weight:5},{id:"n119",text:"{P1} ascolta il suono della propria respirazione.",type:"night",isFatal:!1,killCount:0,weight:5},{id:"n120",text:"{P1} si addormenta sperando di non svegliarsi mai pi\xf9.",type:"night",isFatal:!1,killCount:0,weight:5},{id:"n121",text:"{P1} uccide {P2} nel sonno.",type:"night",isFatal:!0,killCount:1,killer:1,victims:[2],weight:5},{id:"n122",text:"{P1} muore di ipotermia.",type:"night",isFatal:!0,killCount:1,killer:null,victims:[1],weight:5},{id:"n123",text:"{P1} viene sbranato dai lupi mutanti.",type:"night",isFatal:!0,killCount:1,killer:null,victims:[1],weight:5},{id:"n124",text:"{P1} viene aggredito da {P2} e ucciso silenziosamente.",type:"night",isFatal:!0,killCount:1,killer:2,victims:[1],weight:5},{id:"n125",text:"{P1} viene avvolto dalla nebbia tossica e muore soffocato.",type:"night",isFatal:!0,killCount:1,killer:null,victims:[1],weight:5},{id:"n126",text:"{P1} cade in un burrone nel buio.",type:"night",isFatal:!0,killCount:1,killer:null,victims:[1],weight:5},{id:"n127",text:"{P1} viene attaccato dalle scimmie mutanti e fatto a pezzi.",type:"night",isFatal:!0,killCount:1,killer:null,victims:[1],weight:5},{id:"n128",text:"{P1} sgozza {P2} mentre dorme.",type:"night",isFatal:!0,killCount:1,killer:1,victims:[2],weight:5},{id:"n129",text:"{P1} viene morso da un ragno velenoso e muore in agonia.",type:"night",isFatal:!0,killCount:1,killer:null,victims:[1],weight:5},{id:"n130",text:"{P1} viene trascinato sott'acqua da una creatura mutante.",type:"night",isFatal:!0,killCount:1,killer:null,victims:[1],weight:5}],p=[{id:"f1",text:"{P1} corre alla Cornucopia e prende uno zaino.",type:"feast",isFatal:!1,killCount:0,weight:5},{id:"f2",text:"{P1} decide di non andare al banchetto.",type:"feast",isFatal:!1,killCount:0,weight:5},{id:"f3",text:"{P1} e {P2} si scontrano per le provviste.",type:"feast",isFatal:!1,killCount:0,weight:5},{id:"f6",text:"{P1} afferra medicine e scappa velocemente.",type:"feast",isFatal:!1,killCount:0,weight:5},{id:"f7",text:"{P1} ruba lo zaino di {P2} e fugge.",type:"feast",isFatal:!1,killCount:0,weight:5},{id:"f8",text:"{P1} aspetta che gli altri se ne vadano prima di avvicinarsi.",type:"feast",isFatal:!1,killCount:0,weight:5},{id:"f9",text:"{P1} osserva il caos da lontano.",type:"feast",isFatal:!1,killCount:0,weight:5},{id:"f10",text:"{P1} prende cibo e acqua senza essere visto.",type:"feast",isFatal:!1,killCount:0,weight:5},{id:"f11",text:"{P1} e {P2} collaborano per raccogliere provviste.",type:"feast",isFatal:!1,killCount:0,weight:5},{id:"f12",text:"{P1} viene ferito leggermente ma riesce a fuggire.",type:"feast",isFatal:!1,killCount:0,weight:5},{id:"f13",text:"{P1} cerca di prendere un'arma ma viene bloccato da {P2}.",type:"feast",isFatal:!1,killCount:0,weight:5},{id:"f14",text:"{P1} afferra uno zaino e corre verso la foresta.",type:"feast",isFatal:!1,killCount:0,weight:5},{id:"f15",text:"{P1} inciampa ma si rialza in tempo.",type:"feast",isFatal:!1,killCount:0,weight:5},{id:"f16",text:"{P1} decide all'ultimo di non rischiare.",type:"feast",isFatal:!1,killCount:0,weight:5},{id:"f17",text:"{P1} lancia una pietra per distrarre {P2}.",type:"feast",isFatal:!1,killCount:0,weight:5},{id:"f18",text:"{P1} nasconde provviste per dopo.",type:"feast",isFatal:!1,killCount:0,weight:5},{id:"f19",text:"{P1} corre alla Cornucopia e prende un arco.",type:"feast",isFatal:!1,killCount:0,weight:5},{id:"f20",text:"{P1} evita {P2} per un soffio.",type:"feast",isFatal:!1,killCount:0,weight:5},{id:"f21",text:"{P1} schiva un attacco di {P2} e scappa.",type:"feast",isFatal:!1,killCount:0,weight:5},{id:"f22",text:"{P1} prende una lancia e si allontana.",type:"feast",isFatal:!1,killCount:0,weight:5},{id:"f23",text:"{P1} osserva {P2} combattere contro {P3}.",type:"feast",isFatal:!1,killCount:0,weight:5},{id:"f24",text:"{P1} afferra una borsa di medicinali.",type:"feast",isFatal:!1,killCount:0,weight:5},{id:"f25",text:"{P1} si scontra con {P2} ma entrambi fuggono.",type:"feast",isFatal:!1,killCount:0,weight:5},{id:"f26",text:"{P1} prende cibo e si nasconde tra le rocce.",type:"feast",isFatal:!1,killCount:0,weight:5},{id:"f27",text:"{P1} cerca di prendere uno zaino ma \xe8 troppo lento.",type:"feast",isFatal:!1,killCount:0,weight:5},{id:"f28",text:"{P1} riesce a prendere solo una borraccia.",type:"feast",isFatal:!1,killCount:0,weight:5},{id:"f29",text:"{P1} aspetta pazientemente il momento giusto.",type:"feast",isFatal:!1,killCount:0,weight:5},{id:"f30",text:"{P1} afferra uno zaino e cade ma si rialza.",type:"feast",isFatal:!1,killCount:0,weight:5},{id:"f31",text:"{P1} vede {P2} morire ma continua a raccogliere provviste.",type:"feast",isFatal:!1,killCount:0,weight:5},{id:"f32",text:"{P1} ruba l'arma di {P2} nel caos.",type:"feast",isFatal:!1,killCount:0,weight:5},{id:"f33",text:"{P1} lotta con {P2} ma nessuno prevale.",type:"feast",isFatal:!1,killCount:0,weight:5},{id:"f34",text:"{P1} si ritira dopo aver preso solo cibo.",type:"feast",isFatal:!1,killCount:0,weight:5},{id:"f35",text:"{P1} corre verso la Cornucopia ma cambia idea.",type:"feast",isFatal:!1,killCount:0,weight:5},{id:"f36",text:"{P1} prende un pugnale e scappa.",type:"feast",isFatal:!1,killCount:0,weight:5},{id:"f37",text:"{P1} riceve un taglio superficiale ma sopravvive.",type:"feast",isFatal:!1,killCount:0,weight:5},{id:"f38",text:"{P1} aiuta {P2} a raccogliere provviste.",type:"feast",isFatal:!1,killCount:0,weight:5},{id:"f39",text:"{P1} si nasconde dietro la Cornucopia.",type:"feast",isFatal:!1,killCount:0,weight:5},{id:"f40",text:"{P1} corre pi\xf9 veloce di {P2} e prende lo zaino.",type:"feast",isFatal:!1,killCount:0,weight:5},{id:"f41",text:"{P1} afferra un'ascia e la porta via.",type:"feast",isFatal:!1,killCount:0,weight:5},{id:"f42",text:"{P1} trova una borsa nascosta.",type:"feast",isFatal:!1,killCount:0,weight:5},{id:"f43",text:"{P1} spinge {P2} e scappa con le provviste.",type:"feast",isFatal:!1,killCount:0,weight:5},{id:"f44",text:"{P1} combatte con {P2} per uno zaino ma lo lascia andare.",type:"feast",isFatal:!1,killCount:0,weight:5},{id:"f45",text:"{P1} si accorge di essere circondato e fugge.",type:"feast",isFatal:!1,killCount:0,weight:5},{id:"f46",text:"{P1} prende delle frecce e se ne va.",type:"feast",isFatal:!1,killCount:0,weight:5},{id:"f47",text:"{P1} osserva il banchetto da una posizione sicura.",type:"feast",isFatal:!1,killCount:0,weight:5},{id:"f48",text:"{P1} afferra un kit di primo soccorso.",type:"feast",isFatal:!1,killCount:0,weight:5},{id:"f49",text:"{P1} viene inseguito da {P2} ma riesce a scappare.",type:"feast",isFatal:!1,killCount:0,weight:5},{id:"f50",text:"{P1} prende una spada e si allontana.",type:"feast",isFatal:!1,killCount:0,weight:5},{id:"f51",text:"{P1} combatte brevemente con {P2} poi fugge.",type:"feast",isFatal:!1,killCount:0,weight:5},{id:"f52",text:"{P1} trova un riparo temporaneo vicino alla Cornucopia.",type:"feast",isFatal:!1,killCount:0,weight:5},{id:"f53",text:"{P1} afferra acqua e cibo velocemente.",type:"feast",isFatal:!1,killCount:0,weight:5},{id:"f54",text:"{P1} prende solo ci\xf2 di cui ha bisogno e scappa.",type:"feast",isFatal:!1,killCount:0,weight:5},{id:"f55",text:"{P1} vede {P2} e {P3} combattere e ne approfitta.",type:"feast",isFatal:!1,killCount:0,weight:5},{id:"f56",text:"{P1} afferra una rete e se ne va.",type:"feast",isFatal:!1,killCount:0,weight:5},{id:"f57",text:"{P1} trova una coperta termica.",type:"feast",isFatal:!1,killCount:0,weight:5},{id:"f58",text:"{P1} viene bloccato da {P2} ma riesce a divincolarsi.",type:"feast",isFatal:!1,killCount:0,weight:5},{id:"f59",text:"{P1} prende un tridente dalla Cornucopia.",type:"feast",isFatal:!1,killCount:0,weight:5},{id:"f60",text:"{P1} corre in cerchio per confondere {P2}.",type:"feast",isFatal:!1,killCount:0,weight:5},{id:"f61",text:"{P1} afferra una torcia e la usa per scappare.",type:"feast",isFatal:!1,killCount:0,weight:5},{id:"f62",text:"{P1} lascia cadere lo zaino ma prende cibo.",type:"feast",isFatal:!1,killCount:0,weight:5},{id:"f63",text:"{P1} si ferisce alla gamba ma continua a correre.",type:"feast",isFatal:!1,killCount:0,weight:5},{id:"f64",text:"{P1} inganna {P2} con una finta.",type:"feast",isFatal:!1,killCount:0,weight:5},{id:"f65",text:"{P1} raccoglie ci\xf2 che pu\xf2 e se ne va.",type:"feast",isFatal:!1,killCount:0,weight:5},{id:"f66",text:"{P1} evita un combattimento e prende solo acqua.",type:"feast",isFatal:!1,killCount:0,weight:5},{id:"f67",text:"{P1} si nasconde finch\xe9 il caos non si placa.",type:"feast",isFatal:!1,killCount:0,weight:5},{id:"f68",text:"{P1} afferra una mazza e corre via.",type:"feast",isFatal:!1,killCount:0,weight:5},{id:"f69",text:"{P1} prende un machete e lo nasconde.",type:"feast",isFatal:!1,killCount:0,weight:5},{id:"f70",text:"{P1} trova uno scudo abbandonato.",type:"feast",isFatal:!1,killCount:0,weight:5},{id:"f71",text:"{P1} corre verso la foresta con uno zaino.",type:"feast",isFatal:!1,killCount:0,weight:5},{id:"f72",text:"{P1} prende corde e frecce.",type:"feast",isFatal:!1,killCount:0,weight:5},{id:"f73",text:"{P1} viene inseguito ma trova una via di fuga.",type:"feast",isFatal:!1,killCount:0,weight:5},{id:"f74",text:"{P1} afferra pillole per il dolore.",type:"feast",isFatal:!1,killCount:0,weight:5},{id:"f75",text:"{P1} si allea temporaneamente con {P2} al banchetto.",type:"feast",isFatal:!1,killCount:0,weight:5},{id:"f76",text:"{P1} prende un paio di guanti rinforzati.",type:"feast",isFatal:!1,killCount:0,weight:5},{id:"f77",text:"{P1} raccoglie bende e disinfettante.",type:"feast",isFatal:!1,killCount:0,weight:5},{id:"f78",text:"{P1} trova uno zaino pieno di cibo in scatola.",type:"feast",isFatal:!1,killCount:0,weight:5},{id:"f79",text:"{P1} prende una baionetta e se ne va.",type:"feast",isFatal:!1,killCount:0,weight:5},{id:"f80",text:"{P1} evita di essere visto e prende provviste.",type:"feast",isFatal:!1,killCount:0,weight:5},{id:"f81",text:"{P1} corre alla Cornucopia e trova un coltello da caccia.",type:"feast",isFatal:!1,killCount:0,weight:5},{id:"f82",text:"{P1} cerca di aiutare {P2} ma fugge.",type:"feast",isFatal:!1,killCount:0,weight:5},{id:"f83",text:"{P1} prende solo l'essenziale e corre via.",type:"feast",isFatal:!1,killCount:0,weight:5},{id:"f84",text:"{P1} trova una fionda e delle pietre.",type:"feast",isFatal:!1,killCount:0,weight:5},{id:"f85",text:"{P1} schiva {P2} e {P3} durante il caos.",type:"feast",isFatal:!1,killCount:0,weight:5},{id:"f86",text:"{P1} afferra pillole per purificare l'acqua.",type:"feast",isFatal:!1,killCount:0,weight:5},{id:"f87",text:"{P1} vede {P2} cadere ma continua a correre.",type:"feast",isFatal:!1,killCount:0,weight:5},{id:"f88",text:"{P1} raccoglie una sacca di semi commestibili.",type:"feast",isFatal:!1,killCount:0,weight:5},{id:"f89",text:"{P1} prende del veleno per difendersi.",type:"feast",isFatal:!1,killCount:0,weight:5},{id:"f90",text:"{P1} trova un kit per accendere il fuoco.",type:"feast",isFatal:!1,killCount:0,weight:5},{id:"f91",text:"{P1} afferra un giubbotto protettivo.",type:"feast",isFatal:!1,killCount:0,weight:5},{id:"f92",text:"{P1} nasconde alcune provviste per il futuro.",type:"feast",isFatal:!1,killCount:0,weight:5},{id:"f93",text:"{P1} prende una sacca di erbe medicinali.",type:"feast",isFatal:!1,killCount:0,weight:5},{id:"f94",text:"{P1} combatte per uno zaino ma lo perde.",type:"feast",isFatal:!1,killCount:0,weight:5},{id:"f95",text:"{P1} trova occhiali per la visione notturna.",type:"feast",isFatal:!1,killCount:0,weight:5},{id:"f96",text:"{P1} raccoglie filo spinato per trappole.",type:"feast",isFatal:!1,killCount:0,weight:5},{id:"f97",text:"{P1} prende cibo disidratato e acqua.",type:"feast",isFatal:!1,killCount:0,weight:5},{id:"f98",text:"{P1} afferra un corno per segnali.",type:"feast",isFatal:!1,killCount:0,weight:5},{id:"f99",text:"{P1} osserva {P2} rubare provviste.",type:"feast",isFatal:!1,killCount:0,weight:5},{id:"f100",text:"{P1} trova stivali resistenti.",type:"feast",isFatal:!1,killCount:0,weight:5},{id:"f101",text:"{P1} prende un accendino e cerini.",type:"feast",isFatal:!1,killCount:0,weight:5},{id:"f102",text:"{P1} raccoglie barattoli di miele.",type:"feast",isFatal:!1,killCount:0,weight:5},{id:"f103",text:"{P1} afferra una bisaccia piena di barrette energetiche.",type:"feast",isFatal:!1,killCount:0,weight:5},{id:"f104",text:"{P1} trova un piccone e lo porta via.",type:"feast",isFatal:!1,killCount:0,weight:5},{id:"f105",text:"{P1} vede {P2} ma decide di non combattere.",type:"feast",isFatal:!1,killCount:0,weight:5},{id:"f106",text:"{P1} prende fiale di antidoto.",type:"feast",isFatal:!1,killCount:0,weight:5},{id:"f107",text:"{P1} nasconde uno zaino tra i cespugli.",type:"feast",isFatal:!1,killCount:0,weight:5},{id:"f108",text:"{P1} afferra una rete da pesca.",type:"feast",isFatal:!1,killCount:0,weight:5},{id:"f109",text:"{P1} raccoglie cartucce esplosive.",type:"feast",isFatal:!1,killCount:0,weight:5},{id:"f110",text:"{P1} trova un manuale di sopravvivenza.",type:"feast",isFatal:!1,killCount:0,weight:5},{id:"f111",text:"{P1} prende una lanterna a olio.",type:"feast",isFatal:!1,killCount:0,weight:5},{id:"f112",text:"{P1} raccoglie compresse vitaminiche.",type:"feast",isFatal:!1,killCount:0,weight:5},{id:"f113",text:"{P1} trova un binocolo e lo nasconde.",type:"feast",isFatal:!1,killCount:0,weight:5},{id:"f114",text:"{P1} afferra un kit di riparazione per armi.",type:"feast",isFatal:!1,killCount:0,weight:5},{id:"f115",text:"{P1} prende una mappa parziale dell'arena.",type:"feast",isFatal:!1,killCount:0,weight:5},{id:"f116",text:"{P1} raccoglie una coperta impermeabile.",type:"feast",isFatal:!1,killCount:0,weight:5},{id:"f117",text:"{P1} trova sali minerali e li porta via.",type:"feast",isFatal:!1,killCount:0,weight:5},{id:"f118",text:"{P1} afferra una bussola e scappa.",type:"feast",isFatal:!1,killCount:0,weight:5},{id:"f119",text:"{P1} prende aghi e filo per suturare.",type:"feast",isFatal:!1,killCount:0,weight:5},{id:"f120",text:"{P1} raccoglie sapone antibatterico e se ne va.",type:"feast",isFatal:!1,killCount:0,weight:5},{id:"f121",text:"{P1} uccide {P2} con un'ascia alla Cornucopia.",type:"feast",isFatal:!0,killCount:1,killer:1,victims:[2],weight:5},{id:"f122",text:"{P1} lancia un coltello a {P2}, uccidendolo.",type:"feast",isFatal:!0,killCount:1,killer:1,victims:[2],weight:5},{id:"f123",text:"{P1} viene trafitto da {P2} con una lancia.",type:"feast",isFatal:!0,killCount:1,killer:2,victims:[1],weight:5},{id:"f124",text:"{P1} spezza il collo di {P2} alla Cornucopia.",type:"feast",isFatal:!0,killCount:1,killer:1,victims:[2],weight:5},{id:"f125",text:"{P1} calpesta una mina esplosiva e muore.",type:"feast",isFatal:!0,killCount:1,killer:null,victims:[1],weight:5},{id:"f126",text:"{P1} viene abbattuto da {P2} con una freccia.",type:"feast",isFatal:!0,killCount:1,killer:2,victims:[1],weight:5},{id:"f127",text:"{P1} decapita {P2} con una spada alla Cornucopia.",type:"feast",isFatal:!0,killCount:1,killer:1,victims:[2],weight:5},{id:"f128",text:"{P1} viene schiacciato nella ressa alla Cornucopia.",type:"feast",isFatal:!0,killCount:1,killer:null,victims:[1],weight:5},{id:"f129",text:"{P1} sgozza {P2} con un coltello da caccia.",type:"feast",isFatal:!0,killCount:1,killer:1,victims:[2],weight:5},{id:"f130",text:"{P1} viene pugnalato ripetutamente da {P2} alla Cornucopia.",type:"feast",isFatal:!0,killCount:1,killer:2,victims:[1],weight:5}],m=[{id:"c1",text:"{P1} scatta verso la Cornucopia e afferra uno zaino.",type:"arena",isFatal:!1,killCount:0,weight:6},{id:"c2",text:"{P1} corre verso la Cornucopia ma decide di fuggire nella foresta.",type:"arena",isFatal:!1,killCount:0,weight:6},{id:"c3",text:"{P1} e {P2} si scontrano per lo stesso zaino ma si separano indenni.",type:"arena",isFatal:!1,killCount:0,weight:5},{id:"c4",text:"{P1} prende un'arma e scappa nella foresta.",type:"arena",isFatal:!1,killCount:0,weight:6},{id:"c5",text:"{P1} evita {P2} per un pelo e corre verso i boschi.",type:"arena",isFatal:!1,killCount:0,weight:5},{id:"c6",text:"{P1} inciampa ma si rialza e scappa con uno zaino.",type:"arena",isFatal:!1,killCount:0,weight:5},{id:"c7",text:"{P1} si nasconde dietro la Cornucopia aspettando che la ressa finisca.",type:"arena",isFatal:!1,killCount:0,weight:4},{id:"c8",text:"{P1} prende medicine e si allontana di corsa.",type:"arena",isFatal:!1,killCount:0,weight:5},{id:"c9",text:"{P1} e {P2} si guardano negli occhi: entrambi scelgono di scappare.",type:"arena",isFatal:!1,killCount:0,weight:4},{id:"c10",text:"{P1} afferra solo una borraccia prima di fuggire nel caos.",type:"arena",isFatal:!1,killCount:0,weight:5},{id:"c11",text:"{P1} schiva un coltello lanciato da {P2} e fugge.",type:"arena",isFatal:!1,killCount:0,weight:5},{id:"c12",text:"{P1} prende un arco e una faretra e scompare nella giungla.",type:"arena",isFatal:!1,killCount:0,weight:5},{id:"c13",text:"{P1} si ferisce a una mano ma porta via uno zaino.",type:"arena",isFatal:!1,killCount:0,weight:4},{id:"c14",text:"{P1} decide di non rischiare e si ritira subito nell'arena.",type:"arena",isFatal:!1,killCount:0,weight:5},{id:"c15",text:"{P1} ruba lo zaino di {P2} e scappa a perdifiato.",type:"arena",isFatal:!1,killCount:0,weight:5},{id:"c16",text:"{P1} e {P2} si coprano a vicenda e fuggono insieme.",type:"arena",isFatal:!1,killCount:0,weight:4},{id:"c17",text:"{P1} raccoglie cibo e acqua nel caos generale.",type:"arena",isFatal:!1,killCount:0,weight:5},{id:"c18",text:"{P1} spinge via {P2} e prende l'arma migliore.",type:"arena",isFatal:!1,killCount:0,weight:4},{id:"c19",text:"{P1} sopravvive al bloodbath nascondendosi tra i cadaveri.",type:"arena",isFatal:!1,killCount:0,weight:3},{id:"c20",text:"{P1} corre pi\xf9 veloce di tutti e ottiene lo zaino d'oro.",type:"arena",isFatal:!1,killCount:0,weight:4},{id:"c21",text:"{P1} abbatte {P2} con un'ascia al primo secondo dei Giochi.",type:"arena",isFatal:!0,killCount:1,killer:1,victims:[2],weight:8},{id:"c22",text:"{P1} lancia un coltello a {P2}: colpo mortale alla gola.",type:"arena",isFatal:!0,killCount:1,killer:1,victims:[2],weight:8},{id:"c23",text:"{P2} viene travolto da {P1} mentre fugge dalla Cornucopia.",type:"arena",isFatal:!0,killCount:1,killer:1,victims:[2],weight:7},{id:"c24",text:"{P1} infilza {P2} con una lancia ancor prima che il gong finisca di suonare.",type:"arena",isFatal:!0,killCount:1,killer:1,victims:[2],weight:8},{id:"c25",text:"{P1} rompe il collo di {P2} nella ressa alla Cornucopia.",type:"arena",isFatal:!0,killCount:1,killer:1,victims:[2],weight:7},{id:"c26",text:"{P2} calpesta una mina piazzata alla base della Cornucopia.",type:"arena",isFatal:!0,killCount:1,killer:null,victims:[2],weight:6},{id:"c27",text:"{P1} abbatte {P2} con una mazza nel sangue del bloodbath.",type:"arena",isFatal:!0,killCount:1,killer:1,victims:[2],weight:8},{id:"c28",text:"{P1} sgozza {P2} di fronte a tutta Panem.",type:"arena",isFatal:!0,killCount:1,killer:1,victims:[2],weight:8},{id:"c29",text:"{P2} viene colpito alla testa da {P1} con una pietra.",type:"arena",isFatal:!0,killCount:1,killer:1,victims:[2],weight:7},{id:"c30",text:"{P1} decapita {P2} con la spada d'oro della Cornucopia.",type:"arena",isFatal:!0,killCount:1,killer:1,victims:[2],weight:7},{id:"c31",text:"{P2} viene trapassato da una freccia sparata da {P1}.",type:"arena",isFatal:!0,killCount:1,killer:1,victims:[2],weight:8},{id:"c32",text:"{P1} e {P2} lottano per il tridente: {P2} non sopravvive.",type:"arena",isFatal:!0,killCount:1,killer:1,victims:[2],weight:7},{id:"c33",text:"{P1} pugnala {P2} alle spalle mentre fugge con uno zaino.",type:"arena",isFatal:!0,killCount:1,killer:1,victims:[2],weight:8},{id:"c34",text:"{P2} viene schiacciato nella calca disperata davanti alla Cornucopia.",type:"arena",isFatal:!0,killCount:1,killer:null,victims:[2],weight:5},{id:"c35",text:"{P1} usa lo scudo come ariete e travolge {P2}.",type:"arena",isFatal:!0,killCount:1,killer:1,victims:[2],weight:7}];function g(e,t){let[a,i]=(0,l.useState)(t);return(0,l.useEffect)(()=>{try{let t=window.localStorage.getItem(e);t&&i(JSON.parse(t))}catch(t){console.error('Error reading localStorage key "'.concat(e,'":'),t)}},[e]),[a,(0,l.useCallback)(t=>{try{i(a=>{let i=t instanceof Function?t(a):t;return window.localStorage.setItem(e,JSON.stringify(i)),i})}catch(t){console.error('Error setting localStorage key "'.concat(e,'":'),t)}},[e])]}var x=a(8062),h=a(9794),f=a(1466),v=a(8025),y=a(767),b=a(2818);function k(e){let{tribute:t,size:a="md",onRemove:l,showKills:n=!1}=e,s={sm:16,md:24,lg:32},r=b.env.NEXT_PUBLIC_BASE_PATH||"";return(0,i.jsxs)("div",{className:"flex flex-col items-center gap-1 animate-fade-in",children:[(0,i.jsxs)("div",{className:"relative group",children:[(0,i.jsxs)("div",{className:"".concat({sm:"w-12 h-12 text-xs",md:"w-20 h-20 text-sm",lg:"w-24 h-24 text-base"}[a]," rounded-full overflow-hidden border-2 transition-all duration-300 ").concat(t.isAlive?"border-primary glow-gold":"border-muted grayscale opacity-60"),children:[t.image?(0,i.jsx)("img",{src:t.image||"".concat(r,"/placeholder.svg"),alt:t.name,className:"w-full h-full object-cover"}):(0,i.jsx)("div",{className:"w-full h-full bg-secondary flex items-center justify-center",children:(0,i.jsx)(f.A,{size:s[a],className:"text-muted-foreground"})}),!t.isAlive&&(0,i.jsx)("div",{className:"absolute inset-0 flex items-center justify-center bg-background/70",children:(0,i.jsx)(v.A,{className:"text-destructive",size:s[a]})})]}),l&&t.isAlive&&(0,i.jsx)("button",{onClick:l,className:"absolute -top-1 -right-1 flex h-5 w-5 items-center justify-center rounded-full bg-destructive opacity-0 transition-opacity group-hover:opacity-100",type:"button",children:(0,i.jsx)(y.A,{size:12,className:"text-destructive-foreground"})}),n&&t.kills>0&&(0,i.jsx)("div",{className:"absolute -bottom-1 -right-1 flex h-6 w-6 items-center justify-center rounded-full border-2 border-background bg-destructive text-xs font-bold text-destructive-foreground",children:t.kills})]}),(0,i.jsx)("span",{className:"max-w-[80px] truncate text-center font-medium ".concat(t.isAlive?"text-foreground":"text-muted-foreground line-through"),children:t.name})]})}var P=a(3312),w=a(3900),C=a(9749),j=a(2823),F=a(8684),N=a(7517),z=a(5686),A=a(1556);function S(e){let{tributes:t,onTributesChange:a}=e,[n,s]=(0,l.useState)(""),[r,o]=(0,l.useState)(null),d=(0,l.useRef)(null),c=()=>{if(!n.trim())return;let e=Math.floor(t.length/2)+1;a([...t,{id:crypto.randomUUID(),name:n.trim(),image:r,isAlive:!0,kills:0,district:e,clan:"district-".concat(e)}]),s(""),o(null),d.current&&(d.current.value="")};l.useEffect(()=>{let e=!1,i=t.map((t,a)=>{let i=Math.floor(a/2)+1;return t.district!==i?(e=!0,{...t,district:i,clan:"district-".concat(i)}):t});e&&a(i)},[t.length]);let u=e=>{a(t.filter(t=>t.id!==e))},p=t.filter(e=>e.isAlive);return(0,i.jsxs)(C.Zp,{className:"card-game",children:[(0,i.jsx)(C.aR,{children:(0,i.jsxs)(C.ZB,{className:"flex items-center gap-2 font-serif",children:[(0,i.jsx)(j.A,{className:"text-primary"}),(0,i.jsx)("span",{className:"gold-text",children:"Gestione Tributi"}),(0,i.jsxs)("span",{className:"ml-auto text-sm font-sans text-muted-foreground",children:[p.length,"/",t.length," in vita"]})]})}),(0,i.jsxs)(C.Wu,{className:"space-y-6",children:[(0,i.jsxs)("div",{className:"flex flex-col gap-3 sm:flex-row",children:[(0,i.jsx)("div",{className:"flex-1 space-y-2",children:(0,i.jsx)(w.p,{placeholder:"Nome del tributo...",value:n,onChange:e=>s(e.target.value),onKeyDown:e=>"Enter"===e.key&&c(),className:"input-game",maxLength:30})}),(0,i.jsxs)("div",{className:"flex gap-2",children:[(0,i.jsx)("input",{ref:d,type:"file",accept:"image/*",onChange:e=>{var t;let a=null===(t=e.target.files)||void 0===t?void 0:t[0];if(a){if(a.size>5242880){alert("L'immagine deve essere inferiore a 5MB");return}let e=new FileReader;e.onloadend=()=>{o(e.result)},e.readAsDataURL(a)}},className:"hidden",id:"tribute-image"}),(0,i.jsxs)(P.$,{variant:"outline",onClick:()=>{var e;return null===(e=d.current)||void 0===e?void 0:e.click()},className:"relative",children:[(0,i.jsx)(F.A,{size:18}),r&&(0,i.jsx)("div",{className:"absolute -right-1 -top-1 h-3 w-3 rounded-full bg-primary"})]}),(0,i.jsxs)(P.$,{onClick:c,className:"btn-gold",children:[(0,i.jsx)(N.A,{size:18,className:"mr-1"}),"Aggiungi"]})]})]}),r&&(0,i.jsxs)("div",{className:"flex items-center gap-3 rounded-lg bg-secondary/50 p-3",children:[(0,i.jsx)("img",{src:r||"/placeholder.svg",alt:"Anteprima",className:"h-12 w-12 rounded-full border-2 border-primary object-cover"}),(0,i.jsx)("span",{className:"text-sm text-muted-foreground",children:"Immagine selezionata"}),(0,i.jsx)(P.$,{variant:"ghost",size:"sm",onClick:()=>{o(null),d.current&&(d.current.value="")},children:(0,i.jsx)(z.A,{size:14})})]}),t.length>0?(0,i.jsx)("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2 lg:grid-cols-3",children:Object.entries(t.reduce((e,t)=>{let a=t.district||0;return e[a]||(e[a]=[]),e[a].push(t),e},{})).sort((e,t)=>{let[a]=e,[i]=t;return Number(a)-Number(i)}).map(e=>{let[t,a]=e;return(0,i.jsxs)("div",{className:"flex flex-col gap-2 rounded-xl border border-primary/20 bg-primary/5 p-4",children:[(0,i.jsx)("div",{className:"text-center text-xs font-bold tracking-widest text-primary/80",children:Number(t)>0?"DISTRETTO ".concat(t):"SCONOSCIUTO"}),(0,i.jsx)("div",{className:"flex items-center justify-around",children:a.map(e=>(0,i.jsx)(k,{tribute:e,size:"md",onRemove:()=>u(e.id),showKills:!0},e.id))})]},t)})}):(0,i.jsxs)("div",{className:"py-12 text-center text-muted-foreground",children:[(0,i.jsx)(j.A,{size:48,className:"mx-auto mb-4 opacity-50"}),(0,i.jsx)("p",{children:"Nessun tributo aggiunto"}),(0,i.jsx)("p",{className:"text-sm",children:"Aggiungi i partecipanti per iniziare la simulazione"})]}),t.length>0&&(0,i.jsx)("div",{className:"flex justify-end gap-2",children:(0,i.jsxs)(P.$,{variant:"destructive",onClick:()=>{a([])},children:[(0,i.jsx)(A.A,{size:18,className:"mr-1"}),"Resetta Tutti"]})})]})]})}var E=a(2884),I=a(488),T=a(8986),R=a(5672),O=a(1567);let V=R.Kq,q=R.bL,B=R.l9,U=l.forwardRef((e,t)=>{let{className:a,sideOffset:l=4,...n}=e;return(0,i.jsx)(R.UC,{ref:t,sideOffset:l,className:(0,O.cn)("z-50 overflow-hidden rounded-md bg-primary px-3 py-1.5 text-xs text-primary-foreground animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",a),...n})});U.displayName=R.UC.displayName;var M=a(5824),J=a(8617),$=a(3473),G=a(1757),L=a(8152),D=a(3239),H=a(1594),X=a(7725),Z=a(2104),K=a(2626),_=a(98);function W(){let[e,t]=(0,l.useState)(!1);return(0,i.jsx)(V,{children:(0,i.jsxs)(q,{children:[(0,i.jsx)(B,{asChild:!0,children:(0,i.jsxs)(P.$,{onClick:()=>{navigator.clipboard.writeText('Agisci come un esperto programmatore JSON per Hunger Games. \nTrasforma le frasi che ti fornir\xf2 in un array JSON seguendo queste regole:\n\n1. Fasi: \'day\' (giorno), \'night\' (notte), \'feast\' (banchetto).\n2. Placeholder: Usa {P1}-{P10} per i tributi.\n3. Parametri: text, type, isFatal (boolean), weight (1-10).\n4. Logica Morti: Se isFatal \xe8 true, specifica killer (indice numerico, es: 1 per {P1}) e victims (array di indici, es: [2]).\n\nEsempi di output:\n- {"text": "{P1} e {P2} riposano.", "type": "day", "isFatal": false, "weight": 8}\n- {"text": "{P1} uccide {P2} con {O}.", "type": "night", "isFatal": true, "killer": 1, "victims": [2], "weight": 5}\n- {"text": "Al banchetto {P1} elimina {P2} e {P3}.", "type": "feast", "isFatal": true, "killer": 1, "victims": [2, 3], "weight": 3}\n\nRispondi esclusivamente con il codice JSON.'),t(!0),setTimeout(()=>t(!1),3e3)},variant:"outline",className:"gap-2 border-primary/20 bg-primary/5 hover:bg-primary/10",children:[e?(0,i.jsx)(D.A,{size:16,className:"text-green-500"}):(0,i.jsx)(_.A,{size:16,className:"text-primary"}),e?"Prompt Copiato!":"Copia Prompt AI"]})}),(0,i.jsx)(U,{className:"max-w-xs",children:(0,i.jsx)("p",{children:"Copia un prompt ottimizzato per chiedere a ChatGPT/Gemini di generare nuovi eventi JSON per il gioco."})})]})})}function Q(e){let{events:t,onEventsChange:a}=e,[n,s]=(0,l.useState)(""),[r,o]=(0,l.useState)("day"),[d,m]=(0,l.useState)(!1),[g,x]=(0,l.useState)(5),[h,f]=(0,l.useState)(!1),[v,y]=(0,l.useState)(""),[b,k]=(0,l.useState)(null),j=()=>{n.trim()&&(a([...t,{id:crypto.randomUUID(),text:n.trim(),type:r,isFatal:d,killCount:d?1:0}]),s(""),m(!1))},F=e=>{a(t.filter(t=>t.id!==e))},N=(e,t)=>{k({message:e,type:t}),setTimeout(()=>k(null),4e3)},A=t.filter(e=>"day"===e.type),S=t.filter(e=>"night"===e.type),R=t.filter(e=>"feast"===e.type),O=e=>{let{items:t,type:a}=e;return(0,i.jsx)("div",{className:"max-h-[300px] space-y-2 overflow-y-auto pr-2",children:0===t.length?(0,i.jsxs)("p",{className:"py-8 text-center text-muted-foreground",children:["Nessun evento ",a,". Aggiungine uno!"]}):t.map(e=>(0,i.jsxs)("div",{className:"event-card flex items-center justify-between gap-2 ".concat(e.isFatal?"border-l-4 border-l-destructive":""),children:[(0,i.jsxs)("div",{className:"min-w-0 flex-1",children:[(0,i.jsx)("p",{className:"truncate text-sm",children:e.text}),e.isFatal&&(0,i.jsxs)("span",{className:"text-xs font-medium text-destructive",children:["Fatale",null!=e.killer&&" (killer: P".concat(e.killer,")"),e.victims&&e.victims.length>0&&" (vittime: ".concat(e.victims.map(e=>"P".concat(e)).join(", "),")")]})]}),(0,i.jsx)(P.$,{variant:"ghost",size:"sm",onClick:()=>F(e.id),className:"shrink-0 hover:text-destructive",children:(0,i.jsx)(z.A,{size:14})})]},e.id))})};return(0,i.jsx)(V,{children:(0,i.jsxs)(C.Zp,{className:"card-game",children:[(0,i.jsx)(C.aR,{children:(0,i.jsxs)("div",{className:"flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-between",children:[(0,i.jsxs)(C.ZB,{className:"flex items-center gap-2 font-serif",children:[(0,i.jsx)(M.A,{className:"text-primary"}),(0,i.jsx)("span",{className:"gold-text",children:"Editor Eventi"}),(0,i.jsxs)(q,{children:[(0,i.jsx)(B,{asChild:!0,children:(0,i.jsx)(J.A,{size:16,className:"ml-2 cursor-help text-muted-foreground"})}),(0,i.jsxs)(U,{className:"max-w-xs",children:[(0,i.jsx)("p",{className:"mb-1 font-bold",children:"Segnaposto disponibili:"}),(0,i.jsxs)("ul",{className:"space-y-1 text-sm",children:[(0,i.jsxs)("li",{children:[(0,i.jsx)("code",{className:"rounded bg-secondary px-1",children:"{P1}"})," - Protagonista"]}),(0,i.jsxs)("li",{children:[(0,i.jsx)("code",{className:"rounded bg-secondary px-1",children:"{P2}"})," - Secondo partecipante"]}),(0,i.jsxs)("li",{children:[(0,i.jsx)("code",{className:"rounded bg-secondary px-1",children:"{O}"})," - Oggetto casuale"]})]})]})]})]}),(0,i.jsx)(W,{})]})}),(0,i.jsxs)(C.Wu,{className:"space-y-6",children:[(0,i.jsxs)("div",{className:"space-y-4 rounded-lg bg-secondary/30 p-4",children:[(0,i.jsxs)("div",{className:"flex flex-col gap-3 sm:flex-row",children:[(0,i.jsx)(w.p,{placeholder:"Es: {P1} attacca {P2} con {O}",value:n,onChange:e=>s(e.target.value),onKeyDown:e=>"Enter"===e.key&&j(),className:"input-game flex-1"}),(0,i.jsxs)(P.$,{onClick:j,className:"btn-gold",children:[(0,i.jsx)($.A,{size:18,className:"mr-1"}),"Aggiungi"]})]}),(0,i.jsxs)("div",{className:"flex flex-wrap items-center gap-4",children:[(0,i.jsxs)("div",{className:"flex items-center gap-2",children:[(0,i.jsx)(T.J,{className:"text-sm",children:"Tipo:"}),(0,i.jsxs)("select",{value:r,onChange:e=>o(e.target.value),className:"rounded-md border border-border bg-input px-3 py-1.5 text-sm",children:[(0,i.jsx)("option",{value:"day",children:"Giorno"}),(0,i.jsx)("option",{value:"night",children:"Notte"}),(0,i.jsx)("option",{value:"feast",children:"Banchetto"})]})]}),(0,i.jsxs)("div",{className:"flex items-center gap-2",children:[(0,i.jsx)(I.d,{id:"fatal",checked:d,onCheckedChange:m}),(0,i.jsx)(T.J,{htmlFor:"fatal",className:"text-sm",children:"Evento Fatale (uccide {P2})"})]})]})]}),(0,i.jsxs)(P.$,{onClick:()=>{a([...c.map(e=>({...e,id:crypto.randomUUID()})),...u.map(e=>({...e,id:crypto.randomUUID()})),...p.map(e=>({...e,id:crypto.randomUUID()}))])},variant:"outline",className:"w-full bg-transparent",children:[(0,i.jsx)(G.A,{size:18,className:"mr-2"}),0===t.length?"Carica Eventi Predefiniti":"Ricarica/Aggiorna Eventi Default"]}),(0,i.jsxs)("div",{className:"space-y-3",children:[(0,i.jsxs)(P.$,{variant:"outline",onClick:()=>f(!h),className:"w-full bg-transparent",children:[(0,i.jsx)(L.A,{size:18,className:"mr-2"}),h?"Chiudi Importa JSON":"Importa JSON"]}),h&&(0,i.jsxs)("div",{className:"space-y-3 rounded-lg border border-primary/20 bg-secondary/30 p-4",children:[(0,i.jsx)("p",{className:"text-sm text-muted-foreground",children:"Incolla un array JSON con campi: text ({P1}-{P10}), type (day/night/feast/arena), isFatal, killer (indice placeholder), victims (array indici)."}),(0,i.jsx)("textarea",{value:v,onChange:e=>y(e.target.value),placeholder:'[\n  {\n    "text": "{P1} elimina {P2} con un colpo mortale",\n    "type": "day",\n    "isFatal": true,\n    "killer": 1,\n    "victims": [2]\n  }\n]',className:"h-40 w-full rounded-md border border-border bg-input p-3 font-mono text-sm text-foreground placeholder:text-muted-foreground focus:border-primary focus:outline-none focus:ring-1 focus:ring-primary"}),(0,i.jsxs)("div",{className:"flex gap-2",children:[(0,i.jsxs)(P.$,{onClick:()=>{try{let e=JSON.parse(v),i=Array.isArray(e)?e:[e],l=[];for(let e of i){if(!e.text||"string"!=typeof e.text)continue;let t=["day","night","feast","arena"].includes(e.type)?e.type:"day",a="arena"===t?"feast":t,i="boolean"==typeof e.isFatal&&e.isFatal,n="number"==typeof e.killer?e.killer:null,s=Array.isArray(e.victims)?e.victims.filter(e=>"number"==typeof e):[],r="number"==typeof e.weight?Math.max(1,Math.min(10,e.weight)):5,o=i?Math.max(s.length,1):0;l.push({id:crypto.randomUUID(),text:e.text,type:a,isFatal:i,killCount:o,killer:n,victims:s,weight:r})}if(0===l.length){N("Nessun evento valido trovato nel JSON.","error");return}a([...t,...l]),y(""),f(!1),N("Importati ".concat(l.length," eventi. Il sistema di tracking delle kill \xe8 attivo."),"success")}catch(e){N("JSON non valido. Controlla la sintassi e riprova.","error")}},className:"btn-gold flex-1",children:[(0,i.jsx)(L.A,{size:16,className:"mr-2"}),"Importa Eventi"]}),(0,i.jsx)(P.$,{variant:"outline",onClick:()=>{f(!1),y("")},children:"Annulla"})]})]})]}),b&&(0,i.jsxs)("div",{className:"flex items-center gap-2 rounded-lg border p-3 text-sm animate-fade-in ".concat("success"===b.type?"border-primary/30 bg-primary/10 text-primary":"border-destructive/30 bg-destructive/10 text-destructive"),children:["success"===b.type?(0,i.jsx)(D.A,{size:16}):(0,i.jsx)(H.A,{size:16}),b.message]}),(0,i.jsxs)(E.tU,{defaultValue:"day",className:"w-full",children:[(0,i.jsxs)(E.j7,{className:"grid w-full grid-cols-3 bg-secondary",children:[(0,i.jsxs)(E.Xi,{value:"day",className:"flex items-center gap-1",children:[(0,i.jsx)(X.A,{size:14}),"Giorno (",A.length,")"]}),(0,i.jsxs)(E.Xi,{value:"night",className:"flex items-center gap-1",children:[(0,i.jsx)(Z.A,{size:14}),"Notte (",S.length,")"]}),(0,i.jsxs)(E.Xi,{value:"feast",className:"flex items-center gap-1",children:[(0,i.jsx)(K.A,{size:14}),"Banchetto (",R.length,")"]})]}),(0,i.jsx)(E.av,{value:"day",className:"mt-4",children:(0,i.jsx)(O,{items:A,type:"diurno"})}),(0,i.jsx)(E.av,{value:"night",className:"mt-4",children:(0,i.jsx)(O,{items:S,type:"notturno"})}),(0,i.jsx)(E.av,{value:"feast",className:"mt-4",children:(0,i.jsx)(O,{items:R,type:"banchetto"})})]}),t.length>0&&(0,i.jsxs)("div",{className:"flex items-center justify-between",children:[(0,i.jsxs)("span",{className:"text-sm text-muted-foreground",children:["Totale: ",t.length," eventi"]}),(0,i.jsxs)(P.$,{variant:"destructive",size:"sm",onClick:()=>a([]),children:[(0,i.jsx)(z.A,{size:14,className:"mr-1"}),"Elimina Tutti"]})]})]})]})})}var Y=a(8683),ee=a(8236),et=a(2316),ea=a(5220),ei=a(6972),el=a(650),en=a(7072),es=a(5754),er=a(3943);function eo(e){var t,a,n,o,d,c,u,p,m,g,x,h,f,v,b,k,j,N,S,E,R,O,V,q;let{config:B,onConfigChange:U,onFullReset:M}=e,J=(0,l.useRef)(null),$=(0,l.useRef)(null),G=(0,l.useRef)(null),L=e=>{U({...B,...e})},D=(e,t)=>{if(!e)return;if(e.size>1048576){alert("L'immagine \xe8 troppo grande (max 1MB). Per favore comprimila o scegline una pi\xf9 piccola.");return}let a=new FileReader;a.onloadend=()=>{let e=a.result;L({phaseImages:{...B.phaseImages||r.phaseImages,[t]:e}})},a.readAsDataURL(e)},H=e=>{L({phaseImages:{...B.phaseImages||r.phaseImages,[e]:r.phaseImages[e]}}),"day"===e&&J.current&&(J.current.value=""),"night"===e&&$.current&&($.current.value=""),"feast"===e&&G.current&&(G.current.value="")},X=(e,t,a)=>{var l,n;let s=(null===(l=r.phaseImages)||void 0===l?void 0:l[t])||"",o=(null===(n=B.phaseImages)||void 0===n?void 0:n[t])||s,d=o===s;return(0,i.jsxs)("div",{className:"space-y-2 rounded-lg border border-border/40 bg-secondary/10 p-3",children:[(0,i.jsxs)("div",{className:"flex items-center justify-between",children:[(0,i.jsx)(T.J,{className:"text-sm font-medium",children:e}),!d&&(0,i.jsx)(P.$,{variant:"ghost",size:"sm",className:"h-6 w-6 p-0 text-destructive hover:bg-destructive/10",onClick:()=>H(t),title:"Ripristina predefinita",children:(0,i.jsx)(y.A,{size:14})})]}),(0,i.jsxs)("div",{className:"flex items-center gap-3",children:[(0,i.jsx)("div",{className:"relative h-16 w-16 shrink-0 overflow-hidden rounded-md border border-border bg-black/20",children:o&&(0,i.jsx)("img",{src:o,alt:"".concat(t," preview"),className:"h-full w-full object-cover"})}),(0,i.jsxs)("div",{className:"flex-1",children:[(0,i.jsx)(w.p,{type:"file",accept:"image/*",className:"hidden",ref:a,onChange:e=>{var a;let i=null===(a=e.target.files)||void 0===a?void 0:a[0];i&&D(i,t)}}),(0,i.jsxs)(P.$,{variant:"secondary",size:"sm",className:"w-full text-xs",onClick:()=>{var e;return null===(e=a.current)||void 0===e?void 0:e.click()},children:[(0,i.jsx)(F.A,{size:12,className:"mr-2"}),"Carica Immagine"]}),(0,i.jsx)("p",{className:"mt-1 text-[10px] text-muted-foreground truncate",children:d?"Default":"Personalizzata"})]})]})]})};return(0,i.jsxs)(C.Zp,{className:"card-game",children:[(0,i.jsx)(C.aR,{children:(0,i.jsxs)(C.ZB,{className:"flex items-center gap-2 font-serif",children:[(0,i.jsx)(ee.A,{className:"text-primary"}),(0,i.jsx)("span",{className:"gold-text",children:"Configurazione"})]})}),(0,i.jsx)(C.Wu,{className:"space-y-6",children:(0,i.jsxs)("div",{className:"space-y-4",children:[(0,i.jsxs)("div",{className:"space-y-2",children:[(0,i.jsxs)(T.J,{className:"text-sm",children:["Frequenza Banchetto (ogni N fasi): ",B.feastFrequency]}),(0,i.jsx)(Y.A,{value:[B.feastFrequency],onValueChange:e=>{let[t]=e;return L({feastFrequency:t})},min:1,max:10,step:1})]}),(0,i.jsxs)("div",{className:"space-y-2",children:[(0,i.jsxs)(T.J,{className:"text-sm",children:["Tasso di Mortalit\xe0 (Probabilit\xe0 Eventi Fatali): ",Math.round((null!==(g=B.deathRate)&&void 0!==g?g:.15)*100),"%"]}),(0,i.jsx)(Y.A,{value:[null!==(x=B.deathRate)&&void 0!==x?x:.15],onValueChange:e=>{let[t]=e;return L({deathRate:t})},min:0,max:1,step:.01}),(0,i.jsx)("p",{className:"text-xs text-muted-foreground",children:"Un valore basso render\xe0 i giochi pi\xf9 lunghi e focalizzati sulle alleanze, un valore alto causer\xe0 un massacro immediato."})]}),(0,i.jsxs)("div",{className:"flex items-center justify-between rounded-lg bg-secondary/30 p-4",children:[(0,i.jsxs)("div",{children:[(0,i.jsx)(T.J,{className:"text-sm font-medium",children:"Auto-Play"}),(0,i.jsx)("p",{className:"text-xs text-muted-foreground",children:"Simula le fasi automaticamente"})]}),(0,i.jsx)(I.d,{checked:B.autoPlay,onCheckedChange:e=>L({autoPlay:e})})]}),B.autoPlay&&(0,i.jsxs)("div",{className:"space-y-2",children:[(0,i.jsxs)(T.J,{className:"text-sm",children:["Velocita Auto-Play: ",B.autoPlaySpeed/1e3,"s"]}),(0,i.jsx)(Y.A,{value:[B.autoPlaySpeed],onValueChange:e=>{let[t]=e;return L({autoPlaySpeed:t})},min:500,max:5e3,step:250})]}),(0,i.jsxs)("div",{className:"pt-4 border-t border-border/30 space-y-4",children:[(0,i.jsxs)("div",{className:"flex items-center justify-between",children:[(0,i.jsxs)(T.J,{className:"text-base font-serif gold-text flex items-center gap-2",children:[(0,i.jsx)(et.A,{size:18}),"Personalizzazione Atmosfera"]}),(0,i.jsxs)(P.$,{variant:"outline",size:"sm",onClick:()=>L({phaseImages:r.phaseImages,overlayOpacity:r.overlayOpacity}),title:"Ripristina tutte le immagini predefinite",children:[(0,i.jsx)(A.A,{size:14,className:"mr-2"}),"Reset Tutto"]})]}),(0,i.jsxs)("div",{className:"space-y-2",children:[(0,i.jsxs)(T.J,{className:"text-sm",children:["Oscuramento Sfondo: ",Math.round((null!==(h=B.overlayOpacity)&&void 0!==h?h:.7)*100),"%"]}),(0,i.jsxs)("div",{className:"flex items-center gap-4",children:[(0,i.jsx)("span",{className:"text-xs text-muted-foreground",children:"Chiaro"}),(0,i.jsx)(Y.A,{value:[null!==(f=B.overlayOpacity)&&void 0!==f?f:.7],onValueChange:e=>{let[t]=e;return L({overlayOpacity:t})},min:.1,max:.9,step:.05,className:"flex-1"}),(0,i.jsx)("span",{className:"text-xs text-muted-foreground",children:"Scuro"})]}),(0,i.jsx)("p",{className:"text-[10px] text-muted-foreground",children:"Regola quanto deve essere scuro lo sfondo per rendere leggibile il testo."})]}),(0,i.jsxs)("div",{className:"grid gap-3",children:[X("Fase Giorno","day",J),X("Fase Notte","night",$),X("Fase Banchetto","feast",G)]})]}),(0,i.jsxs)("div",{className:"pt-4 border-t border-border/30 space-y-4",children:[(0,i.jsxs)(T.J,{className:"text-base font-serif gold-text flex items-center gap-2",children:[(0,i.jsx)(ea.A,{size:18}),"Audio & Effetti Sonori"]}),(0,i.jsxs)("div",{className:"flex items-center justify-between rounded-lg bg-secondary/30 p-3",children:[(0,i.jsxs)("div",{className:"flex items-center gap-2",children:[(0,i.jsx)(ei.A,{size:16,className:"text-primary"}),(0,i.jsxs)("div",{children:[(0,i.jsx)(T.J,{className:"text-sm font-medium",children:"Musica di Sottofondo"}),(0,i.jsx)("p",{className:"text-xs text-muted-foreground",children:"Atmosfera tesa dell'arena"})]})]}),(0,i.jsx)(I.d,{checked:null!==(v=null===(t=B.audio)||void 0===t?void 0:t.musicEnabled)&&void 0!==v?v:s.musicEnabled,onCheckedChange:e=>{var t;return L({audio:{...null!==(t=B.audio)&&void 0!==t?t:s,musicEnabled:e}})}})]}),(null!==(b=null===(a=B.audio)||void 0===a?void 0:a.musicEnabled)&&void 0!==b?b:s.musicEnabled)&&(0,i.jsxs)("div",{className:"space-y-1 px-1",children:[(0,i.jsxs)(T.J,{className:"text-xs text-muted-foreground",children:["Volume musica: ",Math.round((null!==(k=null===(n=B.audio)||void 0===n?void 0:n.musicVolume)&&void 0!==k?k:s.musicVolume)*100),"%"]}),(0,i.jsxs)("div",{className:"flex items-center gap-3",children:[(0,i.jsx)(el.A,{size:14,className:"text-muted-foreground"}),(0,i.jsx)(Y.A,{value:[null!==(j=null===(o=B.audio)||void 0===o?void 0:o.musicVolume)&&void 0!==j?j:s.musicVolume],onValueChange:e=>{var t;let[a]=e;return L({audio:{...null!==(t=B.audio)&&void 0!==t?t:s,musicVolume:a}})},min:0,max:1,step:.05,className:"flex-1"}),(0,i.jsx)(ea.A,{size:14,className:"text-muted-foreground"})]})]}),(0,i.jsxs)("div",{className:"flex items-center justify-between rounded-lg bg-secondary/30 p-3",children:[(0,i.jsxs)("div",{className:"flex items-center gap-2",children:[(0,i.jsx)(en.A,{size:16,className:"text-destructive"}),(0,i.jsxs)("div",{children:[(0,i.jsx)(T.J,{className:"text-sm font-medium",children:"Suono Cannone"}),(0,i.jsx)("p",{className:"text-xs text-muted-foreground",children:"Boom alla morte di un tributo"})]})]}),(0,i.jsx)(I.d,{checked:null!==(N=null===(d=B.audio)||void 0===d?void 0:d.cannonEnabled)&&void 0!==N?N:s.cannonEnabled,onCheckedChange:e=>{var t;return L({audio:{...null!==(t=B.audio)&&void 0!==t?t:s,cannonEnabled:e}})}})]}),(0,i.jsxs)("div",{className:"flex items-center justify-between rounded-lg bg-secondary/30 p-3",children:[(0,i.jsxs)("div",{className:"flex items-center gap-2",children:[(0,i.jsx)(es.A,{size:16,className:"text-primary"}),(0,i.jsxs)("div",{children:[(0,i.jsx)(T.J,{className:"text-sm font-medium",children:"Suono Spada"}),(0,i.jsx)("p",{className:"text-xs text-muted-foreground",children:"Clang su eventi non fatali"})]})]}),(0,i.jsx)(I.d,{checked:null!==(S=null===(c=B.audio)||void 0===c?void 0:c.swordEnabled)&&void 0!==S?S:s.swordEnabled,onCheckedChange:e=>{var t;return L({audio:{...null!==(t=B.audio)&&void 0!==t?t:s,swordEnabled:e}})}})]}),(0,i.jsxs)("div",{className:"flex items-center justify-between rounded-lg bg-secondary/30 p-3",children:[(0,i.jsxs)("div",{className:"flex items-center gap-2",children:[(0,i.jsx)(er.A,{size:16,className:"text-yellow-500"}),(0,i.jsxs)("div",{children:[(0,i.jsx)(T.J,{className:"text-sm font-medium",children:"Suono Cornucopia"}),(0,i.jsx)("p",{className:"text-xs text-muted-foreground",children:"Fanfara all'inizio del bloodbath"})]})]}),(0,i.jsx)(I.d,{checked:null!==(E=null===(u=B.audio)||void 0===u?void 0:u.cornucopiaEnabled)&&void 0!==E?E:s.cornucopiaEnabled,onCheckedChange:e=>{var t;return L({audio:{...null!==(t=B.audio)&&void 0!==t?t:s,cornucopiaEnabled:e}})}})]}),(0,i.jsxs)("div",{className:"space-y-1 px-1",children:[(0,i.jsxs)(T.J,{className:"text-xs text-muted-foreground",children:["Volume effetti (cannone/spada): ",Math.round((null!==(R=null===(p=B.audio)||void 0===p?void 0:p.sfxVolume)&&void 0!==R?R:s.sfxVolume)*100),"%"]}),(0,i.jsxs)("div",{className:"flex items-center gap-3",children:[(0,i.jsx)(el.A,{size:14,className:"text-muted-foreground"}),(0,i.jsx)(Y.A,{value:[null!==(O=null===(m=B.audio)||void 0===m?void 0:m.sfxVolume)&&void 0!==O?O:s.sfxVolume],onValueChange:e=>{var t;let[a]=e;return L({audio:{...null!==(t=B.audio)&&void 0!==t?t:s,sfxVolume:a}})},min:0,max:1,step:.05,className:"flex-1"}),(0,i.jsx)(ea.A,{size:14,className:"text-muted-foreground"})]})]})]}),(0,i.jsx)("div",{className:"pt-4 border-t border-border/30 space-y-3",children:(0,i.jsxs)("div",{className:"flex items-center justify-between rounded-lg bg-secondary/30 p-4",children:[(0,i.jsxs)("div",{children:[(0,i.jsxs)(T.J,{className:"text-sm font-medium flex items-center gap-2",children:[(0,i.jsx)(er.A,{size:16,className:"text-yellow-500"}),"Fase Cornucopia"]}),(0,i.jsx)("p",{className:"text-xs text-muted-foreground mt-0.5",children:"Bloodbath iniziale: scontro alla Cornucopia prima del Giorno 1"})]}),(0,i.jsx)(I.d,{checked:null===(q=null!==(V=B.enableCornucopia)&&void 0!==V?V:r.enableCornucopia)||void 0===q||q,onCheckedChange:e=>L({enableCornucopia:e})})]})}),(0,i.jsxs)("div",{className:"pt-4 border-t border-border/30",children:[(0,i.jsxs)(P.$,{variant:"destructive",className:"w-full",onClick:M,children:[(0,i.jsx)(z.A,{size:18,className:"mr-2"}),"Reset Completo Applicazione"]}),(0,i.jsx)("p",{className:"mt-2 text-xs text-center text-muted-foreground",children:"Cancella tutti i dati salvati e ricarica la pagina."})]})]})})]})}var ed=a(8803),ec=a.n(ed),eu=a(7819),ep=a(9191),em=a(9053),eg=a(1395),ex=a(2598),eh=a(7478),ef=a(3920),ev=a(2824);let ey=(e,t)=>{let a=parseInt(e.slice(1,3),16),i=parseInt(e.slice(3,5),16),l=parseInt(e.slice(5,7),16);return"rgba(".concat(a,", ").concat(i,", ").concat(l,", ").concat(t,")")};function eb(e){var t,a;let{tributes:n,events:d,config:c,onTributesChange:u,onWinner:p}=e,{popupColor:g,popupOpacity:x,textColor:h}=(0,ev.K)(),f=function(e){let t={...s,...e},a=(0,l.useRef)(null),i=(0,l.useRef)(null),n=(0,l.useRef)(!1),r=(0,l.useCallback)(()=>{var e;return a.current||(a.current=function(){try{return new(window.AudioContext||window.webkitAudioContext)}catch(e){return null}}()),(null===(e=a.current)||void 0===e?void 0:e.state)==="suspended"&&a.current.resume(),a.current},[]),o=(0,l.useCallback)(()=>{if(!t.cannonEnabled||0===t.sfxVolume)return;let e=r();e&&function(e,t){let a=e.currentTime,i=.6*e.sampleRate,l=e.createBuffer(1,i,e.sampleRate),n=l.getChannelData(0);for(let e=0;e<i;e++)n[e]=(2*Math.random()-1)*Math.pow(1-e/i,2);let s=e.createBufferSource();s.buffer=l;let r=e.createBiquadFilter();r.type="lowpass",r.frequency.value=200;let o=e.createGain();o.gain.setValueAtTime(3*t,a),o.gain.exponentialRampToValueAtTime(.001,a+.6),s.connect(r),r.connect(o),o.connect(e.destination),s.start(a),s.stop(a+.7);let d=e.createOscillator();d.type="sine",d.frequency.setValueAtTime(80,a),d.frequency.exponentialRampToValueAtTime(30,a+.5);let c=e.createGain();c.gain.setValueAtTime(1.5*t,a),c.gain.exponentialRampToValueAtTime(.001,a+.5),d.connect(c),c.connect(e.destination),d.start(a),d.stop(a+.6)}(e,t.sfxVolume)},[t.cannonEnabled,t.sfxVolume,r]),d=(0,l.useCallback)(()=>{if(!t.swordEnabled||0===t.sfxVolume)return;let e=r();e&&function(e,t){let a=e.currentTime,i=e.createOscillator();i.type="sawtooth",i.frequency.setValueAtTime(880,a),i.frequency.exponentialRampToValueAtTime(440,a+.3);let l=e.createOscillator();l.type="square",l.frequency.setValueAtTime(1320,a),l.frequency.exponentialRampToValueAtTime(660,a+.2);let n=e.createGain();n.gain.setValueAtTime(.6*t,a),n.gain.exponentialRampToValueAtTime(.001,a+.4);let s=e.createDynamicsCompressor();i.connect(s),l.connect(s),s.connect(n),n.connect(e.destination),i.start(a),l.start(a),i.stop(a+.45),l.stop(a+.35)}(e,t.sfxVolume)},[t.swordEnabled,t.sfxVolume,r]),c=(0,l.useCallback)(()=>{if(!t.cornucopiaEnabled||0===t.sfxVolume)return;let e=r();e&&function(e,t){let a=e.currentTime;[523.25,659.25,783.99,1046.5].forEach((i,l)=>{let n=e.createOscillator();n.type="sawtooth",n.frequency.value=i;let s=e.createGain();s.gain.setValueAtTime(0,a+.12*l),s.gain.linearRampToValueAtTime(.4*t,a+.12*l+.05),s.gain.exponentialRampToValueAtTime(.001,a+.12*l+.5),n.connect(s),s.connect(e.destination),n.start(a+.12*l),n.stop(a+.12*l+.55)})}(e,t.sfxVolume)},[t.cornucopiaEnabled,t.sfxVolume,r]),u=(0,l.useCallback)(()=>{if(!t.musicEnabled||0===t.musicVolume||n.current)return;let e=r();e&&(i.current=function(e,t){let a=!1,i=[],l=[55,82.4,110];return{start:()=>{if(a)return;a=!0,l.forEach((a,l)=>{let n=e.createOscillator();n.type=0===l?"sine":"triangle",n.frequency.value=a;let s=e.createGain();s.gain.value=t*(0===l?.15:.08);let r=e.createOscillator();r.frequency.value=.3+.1*l,r.type="sine";let o=e.createGain();o.gain.value=.03*t,r.connect(o),o.connect(s.gain),n.connect(s),s.connect(e.destination),n.start(e.currentTime),r.start(e.currentTime),i.push(n,s,r,o)});let n=()=>{if(!a)return;let i=e.currentTime,l=.1*e.sampleRate,s=e.createBuffer(1,l,e.sampleRate),r=s.getChannelData(0);for(let e=0;e<l;e++)r[e]=(2*Math.random()-1)*Math.pow(1-e/l,4);let o=e.createBufferSource();o.buffer=s;let d=e.createBiquadFilter();d.type="lowpass",d.frequency.value=120;let c=e.createGain();c.gain.setValueAtTime(.5*t,i),c.gain.exponentialRampToValueAtTime(.001,i+.12),o.connect(d),d.connect(c),c.connect(e.destination),o.start(i),o.stop(i+.15),setTimeout(n,2400)};setTimeout(n,500)},stop:()=>{a=!1,i.forEach(e=>{try{var t;null===(t=e.stop)||void 0===t||t.call(e),e.disconnect()}catch(e){}}),i=[]}}}(e,t.musicVolume),i.current.start(),n.current=!0)},[t.musicEnabled,t.musicVolume,r]),p=(0,l.useCallback)(()=>{var e;n.current&&(null===(e=i.current)||void 0===e||e.stop(),n.current=!1,i.current=null)},[]);return(0,l.useEffect)(()=>{n.current&&(p(),setTimeout(u,50))},[t.musicVolume,t.musicEnabled]),(0,l.useEffect)(()=>()=>{var e;p(),null===(e=a.current)||void 0===e||e.close()},[p]),{playCannonSound:o,playSwordSound:d,playCornucopiaSound:c,startMusic:u,stopMusic:p}}(c.audio),[y,b]=(0,l.useState)({tributes:n,events:d,objects:o,isRunning:!1,currentPhase:"setup",currentPhaseNumber:0,logs:[],winner:null,pendingEvents:[],currentStep:0}),w=(0,l.useRef)(null),j=(0,l.useRef)(null);(0,l.useEffect)(()=>{w.current&&(w.current.scrollTop=w.current.scrollHeight)},[y.currentStep,y.pendingEvents]),n.filter(e=>e.isAlive);let F=e=>{let t=[...e];for(let e=t.length-1;e>0;e--){let a=Math.floor(Math.random()*(e+1));[t[e],t[a]]=[t[a],t[e]]}return t},N=function(e,t){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.5;if(0===e.length)return null;let i=Math.min(.5+(t-1)*.25,2.5),l=2*(a||.5),n=e.map(e=>{let t=e.weight||5;return e.isFatal&&(t*=i*l),{event:e,weight:t}}),s=Math.random()*n.reduce((e,t)=>e+t.weight,0);for(let e of n){if(s<e.weight)return e.event;s-=e.weight}return n[n.length-1].event},z=function(e,t,a,i){var l;let n,s=arguments.length>4&&void 0!==arguments[4]&&arguments[4];if(t.length<1)return null;let r=1;for(let t=10;t>=1;t--)if(e.text.includes("{P".concat(t,"}"))){r=t;break}if(t.length<r)return null;let d=t[0];if(null===(l=d.usedEvents)||void 0===l?void 0:l.includes(e.id))return null;let c=[d];if(r>1){let a=t.slice(1).filter(t=>{var a;return(null===(a=t.usedEvents)||void 0===a||!a.includes(e.id))&&(!e.isFatal||!(i>2)||!!s||void 0===t.district||t.district!==d.district)});if(a.length<r-1)return null;c=[...c,...a.slice(0,r-1)]}let u=o[Math.floor(Math.random()*o.length)],p=e.text;for(let e=1;e<=r;e++){let t=RegExp("\\{P".concat(e,"\\}"),"g");p=p.replace(t,c[e-1].name)}p=p.replace(/{O}/g,u);let m=[],g=c.map(e=>e.id);if(e.isFatal){let t=e.victims&&e.victims.length>0?e.victims:r>=2?[2]:[],i=null!=e.killer?e.killer:1;for(let e of t){if(e<1||e>r)continue;let t=c[e-1];if(!t||m.includes(t.id))continue;m.push(t.id);let i=a.findIndex(e=>e.id===t.id);-1!==i&&(a[i]={...a[i],isAlive:!1})}if(i>=1&&i<=r&&m.length>0){let e=c[i-1];if(!m.includes(e.id)){n=e.id;let t=a.findIndex(t=>t.id===e.id);-1!==t&&(a[t]={...a[t],kills:a[t].kills+m.length})}}}return c.forEach(t=>{let i=a.findIndex(e=>e.id===t.id);if(-1!==i){let t=a[i].usedEvents||[];a[i]={...a[i],usedEvents:[...t,e.id]}}}),{id:crypto.randomUUID(),text:p,participants:g,deaths:m,killerId:n,originalEventId:e.id,isCornucopia:s}},S=(0,l.useCallback)(()=>{var e;let t=n.filter(e=>e.isAlive);if(t.length<=1){let e=t[0]||null;b(t=>({...t,currentPhase:"finished",winner:e,isRunning:!1})),p(e,y.logs);return}let a=[...m,...d.filter(e=>"arena"===e.type)],i=Math.min((null!==(e=c.deathRate)&&void 0!==e?e:.5)*1.5,1),l=n.map(e=>({...e,usedEvents:[]})),s=F(t),r=[],o=new Set,u=0;for(;u<s.length;){let e=s[u].id,n=l.find(t=>t.id===e);if(!n||!n.isAlive||o.has(e)){u++;continue}let d=[s[u],...s.slice(u+1).filter(e=>{var t;return!o.has(e.id)&&(null===(t=l.find(t=>t.id===e.id))||void 0===t?void 0:t.isAlive)})],c=null,p=0;for(;!c&&p<15;){let e=N(a,1,i);e&&(c=z(e,d,l,t.length,!0)),p++}c?(r.push(c),c.participants.forEach(e=>o.add(e))):o.add(e),u++}b(e=>({...e,pendingEvents:r,currentPhase:"cornucopia",currentPhaseNumber:0,currentStep:0,isRunning:!0})),f.playCornucopiaSound()},[n,d,p,y.logs,c.deathRate,f]),E=(0,l.useCallback)(e=>{let t=d.filter(t=>t.type===e),a={id:"fallback-generic",text:"{P1} si guarda intorno nervosamente.",type:e,isFatal:!1,killCount:0,weight:1};0===t.length&&t.push(a);let i=n.filter(e=>e.isAlive);if(i.length<=1){let e=i[0]||null;b(t=>({...t,currentPhase:"finished",winner:e,isRunning:!1})),p(e,y.logs);return}let l=n.map(e=>({...e,usedEvents:e.usedEvents||[]})),s=F(i),r=[],o=new Set,u=0;for(;u<s.length;){let e=s[u].id,n=l.find(t=>t.id===e);if(!n||!n.isAlive||o.has(e)){u++;continue}let d=[s[u],...s.slice(u+1).filter(e=>{var t;return!o.has(e.id)&&(null===(t=l.find(t=>t.id===e.id))||void 0===t?void 0:t.isAlive)})],p=null,m=0;for(;!p&&m<10;){let e=N(t,y.currentPhaseNumber||1,c.deathRate);e&&(p=z(e,d,l,i.length)),m++}p||(p=z(a,d,l,i.length)),p?(r.push(p),p.participants.forEach(e=>o.add(e))):o.add(e),u++}b(t=>({...t,pendingEvents:r,currentPhase:e,currentPhaseNumber:t.currentPhaseNumber+("day"===e?1:0),currentStep:0,isRunning:!0}))},[n,d,p,y.logs,c.deathRate,y.currentPhaseNumber]),I=()=>{j.current&&clearTimeout(j.current),f.stopMusic();let e=n.map(e=>({...e,isAlive:!0,kills:0,usedEvents:[]}));u(e),b({tributes:e,events:d,objects:o,isRunning:!1,currentPhase:"setup",currentPhaseNumber:0,logs:[],winner:null,pendingEvents:[],currentStep:0})},T=()=>{let e="HUNGER GAMES - RIASSUNTO FINALE\n\n";for(let t of(e+="Tributi: ".concat(n.length,"\n"),e+="Morti: ".concat(n.filter(e=>!e.isAlive).length,"\n\n"),y.winner&&(e+="VINCITORE: ".concat(y.winner.name,"\nUccisioni: ").concat(y.winner.kills,"\n\n")),e+="CRONOLOGIA:\n\n",y.logs)){let a="cornucopia"===t.phase?"Cornucopia (Bloodbath)":"day"===t.phase?"Giorno":"night"===t.phase?"Notte":"Banchetto";for(let i of(e+="".concat(a).concat("cornucopia"!==t.phase?" ".concat(t.phaseNumber):"","\n"),t.events))e+="- ".concat(i.text,"\n");if(t.deaths.length>0){let a=t.deaths.map(e=>{var t;return null===(t=n.find(t=>t.id===e))||void 0===t?void 0:t.name}).filter(Boolean).join(", ");e+="Caduti: ".concat(a,"\n")}e+="\n"}return e},R=y.isRunning&&"summary"!==y.currentPhase&&"finished"!==y.currentPhase,O="summary"===y.currentPhase||"finished"===y.currentPhase||"setup"===y.currentPhase,V=(0,l.useMemo)(()=>{let e=c.phaseImages||r.phaseImages;if(!e)return null;if("cornucopia"===y.currentPhase)return e.cornucopia||e.feast;if("feast"===y.currentPhase)return e.feast;if("night"===y.currentPhase)return e.night;if("summary"===y.currentPhase&&y.logs.length>0){let t=y.logs[y.logs.length-1];if("cornucopia"===t.phase)return e.cornucopia||e.feast;if("feast"===t.phase)return e.feast;if("night"===t.phase)return e.night}return e.day},[y.currentPhase,y.logs,c.phaseImages]);return(0,i.jsxs)(C.Zp,{className:"card-game relative min-h-[80vh] flex flex-col overflow-hidden isolate",children:[V&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("div",{style:{backgroundImage:"url(".concat(V,")"),backgroundSize:"cover",backgroundPosition:"center"},className:"jsx-201afe56d7eec8d2 absolute inset-0 z-0 transition-all duration-1000 ease-in-out"}),(0,i.jsx)("div",{style:{opacity:null!==(a=c.overlayOpacity)&&void 0!==a?a:.7},className:"jsx-201afe56d7eec8d2 absolute inset-0 z-[1] bg-black transition-opacity duration-1000"})]}),(0,i.jsx)(ec(),{id:"201afe56d7eec8d2",children:"@-webkit-keyframes shake{0%,100%{-webkit-transform:translatex(0);transform:translatex(0)}10%,30%,50%,70%,90%{-webkit-transform:translatex(-4px);transform:translatex(-4px)}20%,40%,60%,80%{-webkit-transform:translatex(4px);transform:translatex(4px)}}@-moz-keyframes shake{0%,100%{-moz-transform:translatex(0);transform:translatex(0)}10%,30%,50%,70%,90%{-moz-transform:translatex(-4px);transform:translatex(-4px)}20%,40%,60%,80%{-moz-transform:translatex(4px);transform:translatex(4px)}}@-o-keyframes shake{0%,100%{-o-transform:translatex(0);transform:translatex(0)}10%,30%,50%,70%,90%{-o-transform:translatex(-4px);transform:translatex(-4px)}20%,40%,60%,80%{-o-transform:translatex(4px);transform:translatex(4px)}}@keyframes shake{0%,100%{-webkit-transform:translatex(0);-moz-transform:translatex(0);-o-transform:translatex(0);transform:translatex(0)}10%,30%,50%,70%,90%{-webkit-transform:translatex(-4px);-moz-transform:translatex(-4px);-o-transform:translatex(-4px);transform:translatex(-4px)}20%,40%,60%,80%{-webkit-transform:translatex(4px);-moz-transform:translatex(4px);-o-transform:translatex(4px);transform:translatex(4px)}}.animate-shake{-webkit-animation:shake.5s cubic-bezier(.36,.07,.19,.97)both;-moz-animation:shake.5s cubic-bezier(.36,.07,.19,.97)both;-o-animation:shake.5s cubic-bezier(.36,.07,.19,.97)both;animation:shake.5s cubic-bezier(.36,.07,.19,.97)both}@-webkit-keyframes cornucopia-pulse{0%,100%{-webkit-box-shadow:0 0 0 0 rgba(234,179,8,0);box-shadow:0 0 0 0 rgba(234,179,8,0)}50%{-webkit-box-shadow:0 0 24px 8px rgba(234,179,8,.35);box-shadow:0 0 24px 8px rgba(234,179,8,.35)}}@-moz-keyframes cornucopia-pulse{0%,100%{-moz-box-shadow:0 0 0 0 rgba(234,179,8,0);box-shadow:0 0 0 0 rgba(234,179,8,0)}50%{-moz-box-shadow:0 0 24px 8px rgba(234,179,8,.35);box-shadow:0 0 24px 8px rgba(234,179,8,.35)}}@-o-keyframes cornucopia-pulse{0%,100%{box-shadow:0 0 0 0 rgba(234,179,8,0)}50%{box-shadow:0 0 24px 8px rgba(234,179,8,.35)}}@keyframes cornucopia-pulse{0%,100%{-webkit-box-shadow:0 0 0 0 rgba(234,179,8,0);-moz-box-shadow:0 0 0 0 rgba(234,179,8,0);box-shadow:0 0 0 0 rgba(234,179,8,0)}50%{-webkit-box-shadow:0 0 24px 8px rgba(234,179,8,.35);-moz-box-shadow:0 0 24px 8px rgba(234,179,8,.35);box-shadow:0 0 24px 8px rgba(234,179,8,.35)}}.cornucopia-glow{-webkit-animation:cornucopia-pulse 1.5s ease-in-out infinite;-moz-animation:cornucopia-pulse 1.5s ease-in-out infinite;-o-animation:cornucopia-pulse 1.5s ease-in-out infinite;animation:cornucopia-pulse 1.5s ease-in-out infinite}"}),(0,i.jsx)(C.aR,{children:(0,i.jsxs)(C.ZB,{className:"flex flex-wrap items-center justify-between gap-2 font-serif relative z-10",children:[(0,i.jsxs)("div",{className:"jsx-201afe56d7eec8d2 flex items-center gap-2",children:[(0,i.jsx)(eu.A,{className:"text-primary"}),(0,i.jsx)("span",{className:"jsx-201afe56d7eec8d2 gold-text",children:"Arena"})]}),y.isRunning&&(0,i.jsxs)("div",{className:"jsx-201afe56d7eec8d2 "+"".concat((()=>{switch(y.currentPhase){case"cornucopia":case"feast":return"phase-badge phase-feast";case"day":return"phase-badge phase-day";case"night":return"phase-badge phase-night";default:return"phase-badge"}})()," ").concat("cornucopia"===y.currentPhase?"cornucopia-glow":""),children:[(0,i.jsx)(()=>{switch(y.currentPhase){case"cornucopia":return(0,i.jsx)(er.A,{className:"text-yellow-400",size:24});case"day":return(0,i.jsx)(X.A,{className:"text-primary",size:24});case"night":return(0,i.jsx)(Z.A,{className:"text-accent",size:24});case"feast":return(0,i.jsx)(K.A,{className:"text-destructive",size:24});default:return null}},{className:"jsx-201afe56d7eec8d2"}),(0,i.jsxs)("span",{className:"jsx-201afe56d7eec8d2 ml-2",children:["cornucopia"===y.currentPhase&&"Cornucopia  Bloodbath","day"===y.currentPhase&&"Giorno ".concat(y.currentPhaseNumber),"night"===y.currentPhase&&"Notte ".concat(y.currentPhaseNumber),"feast"===y.currentPhase&&"Banchetto","summary"===y.currentPhase&&"Riepilogo"]})]})]})}),(0,i.jsxs)(C.Wu,{className:"flex-grow space-y-6 flex flex-col relative z-10",children:[R&&(0,i.jsxs)("div",{ref:w,className:"jsx-201afe56d7eec8d2 flex-grow max-h-[60vh] overflow-y-auto space-y-3 p-2 rounded-lg bg-black/20",children:["cornucopia"===y.currentPhase&&0===y.currentStep&&(0,i.jsxs)("div",{className:"jsx-201afe56d7eec8d2 text-center py-6 space-y-2 animate-fade-in",children:[(0,i.jsx)(er.A,{size:48,className:"mx-auto text-yellow-400 cornucopia-glow rounded-full p-2"}),(0,i.jsx)("p",{className:"jsx-201afe56d7eec8d2 text-yellow-300 font-serif text-2xl font-bold tracking-wider",children:"CHE I GIOCHI ABBIANO INIZIO"}),(0,i.jsx)("p",{className:"jsx-201afe56d7eec8d2 text-muted-foreground text-sm italic",children:"I tributi si lanciano verso la Cornucopia..."})]}),y.pendingEvents.slice(0,y.currentStep).map(e=>(0,i.jsxs)("div",{style:{backgroundColor:ey(g,x),color:h},className:"jsx-201afe56d7eec8d2 "+"animate-fade-in rounded-lg p-4 shadow-md ".concat(e.deaths.length>0?"border-l-4 border-l-destructive animate-shake":e.isCornucopia?"border-l-4 border-l-yellow-500":"border-l-4 border-l-primary/20"),children:[(0,i.jsx)("div",{className:"jsx-201afe56d7eec8d2 flex flex-wrap justify-center gap-4 mb-3",children:e.participants.map(t=>{let a=n.find(e=>e.id===t);return a?(0,i.jsxs)("div",{className:"jsx-201afe56d7eec8d2 flex flex-col items-center gap-1 group relative",children:[a.image?(0,i.jsx)("img",{src:a.image,alt:a.name,title:a.name,className:"jsx-201afe56d7eec8d2 w-16 h-16 rounded-md border-2 border-primary/50 object-cover shadow-lg transition-transform hover:scale-105"}):(0,i.jsx)("div",{title:a.name,className:"jsx-201afe56d7eec8d2 w-16 h-16 rounded-md border-2 border-primary/50 shadow-lg flex items-center justify-center bg-accent text-accent-foreground text-xl font-bold select-none",children:a.name.substring(0,2).toUpperCase()}),(0,i.jsx)("span",{className:"jsx-201afe56d7eec8d2 text-xs text-muted-foreground opacity-0 group-hover:opacity-100 transition-opacity absolute -bottom-4 whitespace-nowrap bg-black/80 px-1 rounded",children:a.name}),e.deaths.includes(t)&&(0,i.jsx)("div",{className:"jsx-201afe56d7eec8d2 absolute inset-0 flex items-center justify-center bg-black/60 rounded-md",children:(0,i.jsx)(v.A,{className:"text-destructive w-8 h-8"})})]},t):null})}),(0,i.jsx)("p",{className:"jsx-201afe56d7eec8d2 text-lg font-medium leading-relaxed text-center",children:e.text}),e.deaths.length>0&&(0,i.jsxs)("p",{className:"jsx-201afe56d7eec8d2 mt-2 text-sm text-destructive font-bold uppercase tracking-wider flex items-center gap-2",children:[(0,i.jsx)(v.A,{size:16}),"Fatale per: ",e.deaths.map(e=>{var t;return null===(t=n.find(t=>t.id===e))||void 0===t?void 0:t.name}).join(", ")]})]},e.id)),0===y.currentStep&&"cornucopia"!==y.currentPhase&&(0,i.jsx)("div",{className:"jsx-201afe56d7eec8d2 text-center text-muted-foreground py-10 italic",children:"La fase sta per iniziare..."})]}),"summary"===y.currentPhase&&(0,i.jsxs)("div",{className:"jsx-201afe56d7eec8d2 rounded-lg border border-destructive/30 bg-destructive/10 p-4 mb-4",children:[(0,i.jsxs)("p",{className:"jsx-201afe56d7eec8d2 flex items-center gap-2 font-medium text-destructive text-lg mb-2",children:[(0,i.jsx)(v.A,{size:20}),"Caduti in questa fase"]}),(0,i.jsx)("p",{className:"jsx-201afe56d7eec8d2 text-base text-muted-foreground",children:(null===(t=y.logs[y.logs.length-1])||void 0===t?void 0:t.deaths.length)>0?y.logs[y.logs.length-1].deaths.map(e=>{var t;return null===(t=n.find(t=>t.id===e))||void 0===t?void 0:t.name}).filter(Boolean).join(", "):"Nessun morto in questa fase."})]}),(0,i.jsx)("div",{className:"jsx-201afe56d7eec8d2 "+"transition-all duration-500 ".concat(R?"opacity-10 blur-sm pointer-events-none scale-95 grayscale":"opacity-100"),children:O?(()=>{let e=n.reduce((e,t)=>{let a=t.district||0;return e[a]||(e[a]=[]),e[a].push(t),e},{});return(0,i.jsx)("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2 lg:grid-cols-3 animate-fade-in",children:Object.entries(e).sort((e,t)=>{let[a]=e,[i]=t;return Number(a)-Number(i)}).map(e=>{let[t,a]=e;return(0,i.jsxs)("div",{className:"flex flex-col gap-2 rounded-xl border border-primary/20 bg-primary/5 p-4",children:[(0,i.jsx)("div",{className:"text-center text-xs font-bold tracking-widest text-primary/80",children:Number(t)>0?"DISTRETTO ".concat(t):"SCONOSCIUTO"}),(0,i.jsx)("div",{className:"flex items-center justify-around",children:a.map(e=>(0,i.jsx)(k,{tribute:e,size:"md",showKills:!0},e.id))})]},t)})})})():(0,i.jsx)("div",{className:"jsx-201afe56d7eec8d2 grid grid-cols-6 gap-3 sm:grid-cols-8 md:grid-cols-10 lg:grid-cols-12",children:n.map(e=>(0,i.jsx)(k,{tribute:e,size:"sm",showKills:!0},e.id))})})]}),(0,i.jsx)("div",{className:"jsx-201afe56d7eec8d2 sticky bottom-0 z-20 border-t bg-background/95 backdrop-blur p-4 mt-auto",children:(0,i.jsxs)("div",{className:"jsx-201afe56d7eec8d2 flex flex-wrap justify-center gap-3",children:["setup"===y.currentPhase&&(0,i.jsxs)(P.$,{onClick:()=>{var e;if(n.length<2||0===d.length)return;let t=n.map(e=>({...e,isAlive:!0,kills:0,usedEvents:[]}));u(t),f.startMusic();let a=null===(e=c.enableCornucopia)||void 0===e||e;b({tributes:t,events:d,objects:o,isRunning:!0,currentPhase:a?"cornucopia":"day",currentPhaseNumber:0,logs:[],winner:null,pendingEvents:[],currentStep:0}),setTimeout(()=>{a?S():E("day")},0)},className:"btn-gold",size:"lg",children:[(0,i.jsx)(ep.A,{size:20,className:"mr-2"}),"Inizia Simulazione"]}),R&&(0,i.jsx)(i.Fragment,{children:y.currentStep<y.pendingEvents.length?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(P.$,{onClick:()=>{if(y.currentStep>=y.pendingEvents.length)return;let e=y.pendingEvents[y.currentStep],t=y.tributes.map(t=>{let a={...t};return e.deaths.includes(t.id)&&(a.isAlive=!1),e.killerId&&t.id===e.killerId&&(a.kills+=e.deaths.length),e.originalEventId&&e.participants.includes(t.id)&&(a.usedEvents=[...a.usedEvents||[],e.originalEventId]),a});e.deaths.length>0?f.playCannonSound():f.playSwordSound(),u(t),b(e=>({...e,tributes:t,currentStep:e.currentStep+1}))},className:"btn-gold w-48 shadow-lg text-lg",size:"lg",children:[(0,i.jsx)(em.A,{size:24,className:"mr-2"}),"Prossimo Evento"]}),(0,i.jsxs)(P.$,{onClick:()=>{let e=[...y.tributes];for(let t=y.currentStep;t<y.pendingEvents.length;t++){let a=y.pendingEvents[t];e=e.map(e=>{let t={...e};return a.deaths.includes(e.id)&&(t.isAlive=!1),a.killerId&&e.id===a.killerId&&(t.kills+=a.deaths.length),t})}u(e),b(t=>({...t,tributes:e,currentStep:t.pendingEvents.length}))},variant:"outline",size:"lg",className:"shadow-sm",children:[(0,i.jsx)(eg.A,{size:20,className:"mr-2"}),"Salta"]})]}):(0,i.jsxs)(P.$,{onClick:()=>{let e=[];y.pendingEvents.forEach(t=>e.push(...t.deaths));let t="cornucopia"===y.currentPhase,a={id:crypto.randomUUID(),phase:t?"cornucopia":y.currentPhase,phaseNumber:t?0:y.currentPhaseNumber+("day"===y.currentPhase?1:0),events:y.pendingEvents,deaths:e},i="day"===y.currentPhase?y.currentPhaseNumber+1:y.currentPhaseNumber,l=[...y.logs,a];b(e=>({...e,logs:l,currentPhase:"summary",currentPhaseNumber:i,pendingEvents:[],currentStep:0}))},className:"btn-gold w-full max-w-md shadow-xl ".concat((y.currentPhase,"animate-pulse")),size:"lg",children:[(0,i.jsx)(ex.A,{size:24,className:"mr-2"}),"Vedi Riepilogo"]})}),"summary"===y.currentPhase&&(0,i.jsxs)(P.$,{onClick:()=>{var e;let t=n.filter(e=>e.isAlive);if(t.length<=1){b(e=>({...e,currentPhase:"finished",winner:t[0]||null})),p(t[0]||null,y.logs),f.stopMusic();return}let a=null===(e=y.logs[y.logs.length-1])||void 0===e?void 0:e.phase;E("cornucopia"===a||void 0===a?"day":"feast"===a?"night":"day"===a?y.currentPhaseNumber%c.feastFrequency==c.feastFrequency-1?"feast":"night":"day")},className:"btn-gold w-full max-w-md shadow-lg",size:"lg",children:[(0,i.jsx)(eh.A,{size:20,className:"mr-2"}),(()=>{var e;let t=null===(e=y.logs[y.logs.length-1])||void 0===e?void 0:e.phase;return"cornucopia"===t?"Inizia il Giorno 1":"feast"===t?"Continua la Notte":"day"===t&&y.currentPhaseNumber%c.feastFrequency==c.feastFrequency-1?"Vai al Banchetto":"Prossima Fase"})()]}),"finished"===y.currentPhase&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(P.$,{onClick:()=>{navigator.clipboard.writeText(T())},variant:"outline",size:"lg",children:[(0,i.jsx)(ef.A,{size:20,className:"mr-2"}),"Copia Riassunto"]}),(0,i.jsxs)(P.$,{onClick:I,className:"btn-gold",size:"lg",children:[(0,i.jsx)(A.A,{size:20,className:"mr-2"}),"Nuova Partita"]})]}),y.isRunning&&(0,i.jsx)(P.$,{onClick:I,variant:"ghost",size:"sm",className:"absolute right-4 top-4 opacity-50 hover:opacity-100",children:(0,i.jsx)(A.A,{size:16})})]})})]})}var ek=a(6075);function eP(e){let{winner:t,tributes:a,logs:l,onReset:n}=e,s=()=>{let e="HUNGER GAMES - RIASSUNTO FINALE\n\n";for(let i of(e+="Tributi: ".concat(a.length,"\nMorti: ").concat(a.filter(e=>!e.isAlive).length,"\n\n"),t&&(e+="VINCITORE: ".concat(t.name,"\nUccisioni: ").concat(t.kills,"\n\n")),e+="CRONOLOGIA:\n\n",l)){let t="cornucopia"===i.phase?"Cornucopia (Bloodbath)":"day"===i.phase?"Giorno":"night"===i.phase?"Notte":"Banchetto";for(let a of(e+="".concat(t).concat("cornucopia"!==i.phase?" ".concat(i.phaseNumber):"","\n"),i.events))e+="- ".concat(a.text,"\n");if(i.deaths.length>0){let t=i.deaths.map(e=>{var t;return null===(t=a.find(t=>t.id===e))||void 0===t?void 0:t.name}).filter(Boolean).join(", ");e+="Caduti: ".concat(t,"\n")}e+="\n"}return e},r=[...a].filter(e=>e.kills>0).sort((e,t)=>t.kills-e.kills).slice(0,5);return(0,i.jsxs)("div",{className:"animate-fade-in space-y-8",children:[t&&(0,i.jsx)("div",{className:"text-center",children:(0,i.jsxs)("div",{className:"mx-auto inline-block rounded-xl border border-primary/30 bg-gradient-to-br from-primary/20 to-primary/5 p-8",children:[(0,i.jsx)(eu.A,{size:56,className:"mx-auto mb-4 animate-pulse-gold text-primary"}),(0,i.jsx)("h2",{className:"gold-text mb-4 font-serif text-3xl font-bold",children:"VINCITORE"}),(0,i.jsx)("div",{className:"my-6 flex justify-center",children:(0,i.jsx)(k,{tribute:t,size:"lg",showKills:!0})}),(0,i.jsx)("p",{className:"text-muted-foreground",children:t.kills>0?"Ha eliminato ".concat(t.kills," tribut").concat(1===t.kills?"o":"i"):"Ha sopravvissuto senza uccidere"})]})}),r.length>0&&(0,i.jsxs)("div",{className:"card-game p-6",children:[(0,i.jsxs)("h3",{className:"mb-4 flex items-center gap-2 font-serif text-lg",children:[(0,i.jsx)(v.A,{className:"text-destructive",size:20}),"Top Assassini"]}),(0,i.jsx)("div",{className:"flex flex-wrap justify-center gap-4",children:r.map(e=>(0,i.jsx)(k,{tribute:e,size:"md",showKills:!0},e.id))})]}),(0,i.jsxs)("div",{className:"card-game max-h-[400px] overflow-y-auto p-6",children:[(0,i.jsx)("h3",{className:"mb-4 font-serif text-lg",children:"Cronologia Completa"}),(0,i.jsx)("div",{className:"space-y-4",children:l.map(e=>{let t="cornucopia"===e.phase?"Cornucopia (Bloodbath)":"day"===e.phase?"Giorno":"night"===e.phase?"Notte":"Banchetto";return(0,i.jsxs)("div",{className:"space-y-2",children:[(0,i.jsxs)("h4",{className:"text-sm font-semibold ".concat("cornucopia"===e.phase?"text-yellow-500":"text-primary"),children:[t,"cornucopia"!==e.phase?" ".concat(e.phaseNumber):""]}),e.events.map(e=>(0,i.jsx)("div",{className:"rounded bg-secondary/50 p-2 text-sm ".concat(e.deaths.length>0?"border-l-2 border-l-destructive":""),children:e.text},e.id)),e.deaths.length>0&&(0,i.jsxs)("p",{className:"text-xs text-destructive",children:["Caduti:"," ",e.deaths.map(e=>{var t;return null===(t=a.find(t=>t.id===e))||void 0===t?void 0:t.name}).filter(Boolean).join(", ")]})]},e.id)})})]}),(0,i.jsxs)("div",{className:"flex flex-wrap justify-center gap-3",children:[(0,i.jsxs)(P.$,{onClick:()=>{navigator.clipboard.writeText(s())},variant:"outline",size:"lg",children:[(0,i.jsx)(ef.A,{size:20,className:"mr-2"}),"Copia Riassunto"]}),(0,i.jsxs)(P.$,{onClick:()=>{let e=btoa(encodeURIComponent(JSON.stringify({t:a.map(e=>({n:e.name,i:e.image}))}))),t="".concat(window.location.origin,"/hunger-games?share=").concat(e);navigator.clipboard.writeText(t)},variant:"outline",size:"lg",children:[(0,i.jsx)(ek.A,{size:20,className:"mr-2"}),"Condividi Link"]}),(0,i.jsxs)(P.$,{onClick:n,className:"btn-gold",size:"lg",children:[(0,i.jsx)(A.A,{size:20,className:"mr-2"}),"Nuova Partita"]})]})]})}var ew=a(7780),eC=a(4857);function ej(e){let{tributes:t,events:a,config:n,onLoad:s}=e,o=(0,l.useRef)(null),[d,c]=(0,l.useState)(null),[u,p]=(0,l.useState)(null),m=(e,t)=>{c({message:e,type:t}),setTimeout(()=>c(null),4e3)},g=(null==u?void 0:u.savedAt)?new Date(u.savedAt).toLocaleString("it-IT"):null;return(0,i.jsxs)(C.Zp,{className:"card-game",children:[(0,i.jsx)(C.aR,{children:(0,i.jsxs)(C.ZB,{className:"flex items-center gap-2 font-serif",children:[(0,i.jsx)(ew.A,{className:"text-primary"}),(0,i.jsx)("span",{className:"gold-text",children:"Salva / Carica Partita"})]})}),(0,i.jsxs)(C.Wu,{className:"space-y-4",children:[(0,i.jsxs)("p",{className:"text-sm text-muted-foreground",children:["Esporta tributi, eventi e configurazione in un file ",(0,i.jsx)("code",{className:"rounded bg-secondary px-1 text-xs",children:".json"}),". Le immagini dei tributi e le immagini di sfondo ",(0,i.jsx)("strong",{children:"non vengono salvate"})," per mantenere il file leggero."]}),(0,i.jsxs)("div",{className:"rounded-lg border border-primary/20 bg-primary/5 p-4 space-y-3",children:[(0,i.jsxs)("h4",{className:"text-sm font-semibold flex items-center gap-2",children:[(0,i.jsx)(eC.A,{size:16,className:"text-primary"}),"Esporta Partita"]}),(0,i.jsxs)("div",{className:"flex flex-col gap-1 text-xs text-muted-foreground",children:[(0,i.jsxs)("span",{children:[" ",(0,i.jsx)("strong",{className:"text-foreground",children:t.length})," tributi (senza immagini)"]}),(0,i.jsxs)("span",{children:[" ",(0,i.jsx)("strong",{className:"text-foreground",children:a.length})," eventi (",a.filter(e=>e.isFatal).length," fatali)"]}),(0,i.jsx)("span",{children:" Configurazione corrente"})]}),(0,i.jsxs)(P.$,{onClick:()=>{let e=function(e,t,a){let{phaseImages:i,...l}=a;return{version:1,savedAt:new Date().toISOString(),tributes:e.map(e=>{let{image:t,...a}=e;return{...a,image:null}}),events:t,config:l}}(t,a,n),i=new Date().toISOString().slice(0,10);!function(e,t){let a=new Blob([JSON.stringify(e,null,2)],{type:"application/json"}),i=URL.createObjectURL(a),l=document.createElement("a");l.href=i,l.download=t,l.click(),URL.revokeObjectURL(i)}(e,"hunger-games-save-".concat(i,".json")),m("Salvataggio esportato! (".concat(t.length," tributi, ").concat(a.length," eventi)"),"success")},className:"btn-gold w-full",disabled:0===t.length&&0===a.length,children:[(0,i.jsx)(eC.A,{size:16,className:"mr-2"}),"Esporta come JSON"]})]}),(0,i.jsxs)("div",{className:"rounded-lg border border-border/40 bg-secondary/10 p-4 space-y-3",children:[(0,i.jsxs)("h4",{className:"text-sm font-semibold flex items-center gap-2",children:[(0,i.jsx)(F.A,{size:16,className:"text-primary"}),"Importa Partita"]}),(0,i.jsx)("p",{className:"text-xs text-muted-foreground",children:"Carica un file di salvataggio precedentemente esportato. I dati attuali verranno sostituiti."}),(0,i.jsx)("input",{ref:o,type:"file",accept:".json,application/json",onChange:e=>{var t;let a=null===(t=e.target.files)||void 0===t?void 0:t[0];if(!a)return;let i=new FileReader;i.onload=e=>{try{var t;let a=JSON.parse(null===(t=e.target)||void 0===t?void 0:t.result);if(!("object"==typeof a&&null!==a&&"number"==typeof a.version&&Array.isArray(a.tributes)&&Array.isArray(a.events))){m("File non valido. Assicurati di caricare un salvataggio corretto.","error");return}p(a)}catch(e){m("Errore nel leggere il file JSON.","error")}},i.readAsText(a),o.current&&(o.current.value="")},className:"hidden"}),(0,i.jsxs)(P.$,{variant:"outline",className:"w-full",onClick:()=>{var e;return null===(e=o.current)||void 0===e?void 0:e.click()},children:[(0,i.jsx)(L.A,{size:16,className:"mr-2"}),"Scegli File JSON"]})]}),u&&(0,i.jsxs)("div",{className:"rounded-lg border border-yellow-500/40 bg-yellow-500/10 p-4 space-y-3 animate-fade-in",children:[(0,i.jsxs)("h4",{className:"text-sm font-semibold flex items-center gap-2 text-yellow-600 dark:text-yellow-400",children:[(0,i.jsx)(H.A,{size:16}),"Conferma Importazione"]}),(0,i.jsxs)("div",{className:"text-xs text-muted-foreground space-y-1",children:[g&&(0,i.jsxs)("p",{children:["Salvato il: ",(0,i.jsx)("strong",{className:"text-foreground",children:g})]}),(0,i.jsxs)("p",{children:["Tributi: ",(0,i.jsx)("strong",{className:"text-foreground",children:u.tributes.length})]}),(0,i.jsxs)("p",{children:["Eventi: ",(0,i.jsx)("strong",{className:"text-foreground",children:u.events.length})]}),(0,i.jsx)("p",{className:"text-yellow-600 dark:text-yellow-400 font-medium",children:" I dati correnti (tributi, eventi, config) verranno sovrascritti."})]}),(0,i.jsxs)("div",{className:"flex gap-2",children:[(0,i.jsxs)(P.$,{onClick:()=>{if(u)try{let e=function(e){let t=e.tributes.map((e,t)=>{var a,i;return{id:e.id||crypto.randomUUID(),name:e.name||"Tributo ".concat(t+1),image:null,isAlive:!0,kills:0,district:null!==(a=e.district)&&void 0!==a?a:Math.floor(t/2)+1,clan:null!==(i=e.clan)&&void 0!==i?i:"district-".concat(Math.floor(t/2)+1),usedEvents:[]}}),a=e.events.map(e=>{var t,a,i,l,n;return{id:e.id||crypto.randomUUID(),text:e.text,type:e.type,isFatal:null!==(t=e.isFatal)&&void 0!==t&&t,killCount:null!==(a=e.killCount)&&void 0!==a?a:0,killer:null!==(i=e.killer)&&void 0!==i?i:null,victims:null!==(l=e.victims)&&void 0!==l?l:[],weight:null!==(n=e.weight)&&void 0!==n?n:5}});return{tributes:t,events:a,config:{...r,...e.config,phaseImages:r.phaseImages}}}(u);s(e),p(null),m("Caricato! ".concat(e.tributes.length," tributi e ").concat(e.events.length," eventi importati. Le immagini non sono state ripristinate."),"success")}catch(e){m("Errore durante l'importazione.","error"),p(null)}},className:"btn-gold flex-1",children:[(0,i.jsx)(D.A,{size:16,className:"mr-2"}),"Conferma Caricamento"]}),(0,i.jsxs)(P.$,{variant:"outline",onClick:()=>{p(null)},children:[(0,i.jsx)(z.A,{size:16,className:"mr-1"}),"Annulla"]})]})]}),d&&(0,i.jsxs)("div",{className:"flex items-center gap-2 rounded-lg border p-3 text-sm animate-fade-in ".concat("success"===d.type?"border-primary/30 bg-primary/10 text-primary":"border-destructive/30 bg-destructive/10 text-destructive"),children:["success"===d.type?(0,i.jsx)(D.A,{size:16}):(0,i.jsx)(H.A,{size:16}),d.message]})]})]})}var eF=a(6967);let eN="ceh-intro-dismissed",ez=[{icon:j.A,title:"1. Aggiungi Tributi",description:"Nella tab Tributi, aggiungi i partecipanti con nome e foto opzionale."},{icon:M.A,title:"2. Configura Eventi",description:"Crea eventi personalizzati o carica quelli predefiniti nella tab Eventi."},{icon:L.A,title:"3. Automazione e Scripting",description:"Puoi caricare interi pacchetti di storie in formato JSON. Il sistema riconoscera automaticamente chi uccide e chi muore, aggiornando le statistiche del Clan in tempo reale!"},{icon:ee.A,title:"4. Impostazioni",description:"Regola la frequenza dei banchetti e la velocita della simulazione."},{icon:er.A,title:"5. Arena!",description:"Avvia la simulazione e guarda i tuoi tributi combattere!"}];function eA(e){let{onClose:t}=e,[a,n]=(0,l.useState)(0);return(0,i.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-background/80 backdrop-blur-sm",children:(0,i.jsxs)("div",{className:"relative mx-4 w-full max-w-md rounded-xl border border-primary/30 bg-card p-8 shadow-2xl",children:[(0,i.jsx)("button",{onClick:t,className:"absolute right-4 top-4 text-muted-foreground hover:text-foreground",type:"button",children:(0,i.jsx)(y.A,{size:20})}),(0,i.jsxs)("div",{className:"text-center",children:[(0,i.jsx)("h2",{className:"gold-text mb-6 font-serif text-2xl font-bold",children:"Come Funziona"}),(0,i.jsx)("div",{className:"mb-6",children:ez.map((e,t)=>{let l=e.icon;return(0,i.jsxs)("div",{className:"mb-4 flex items-start gap-3 rounded-lg p-3 text-left transition-all ".concat(t===a?"border border-primary/30 bg-primary/5":"opacity-50"),children:[(0,i.jsx)("div",{className:"flex h-10 w-10 shrink-0 items-center justify-center rounded-full bg-primary/10",children:(0,i.jsx)(l,{size:20,className:"text-primary"})}),(0,i.jsxs)("div",{children:[(0,i.jsx)("p",{className:"font-semibold text-foreground",children:e.title}),(0,i.jsx)("p",{className:"text-sm text-muted-foreground",children:e.description})]})]},e.title)})}),(0,i.jsx)("div",{className:"flex justify-center gap-3",children:a<ez.length-1?(0,i.jsxs)(P.$,{onClick:()=>n(a+1),className:"btn-gold",children:["Avanti",(0,i.jsx)(eF.A,{size:16,className:"ml-1"})]}):(0,i.jsx)(P.$,{onClick:t,className:"btn-gold",children:"Inizia!"})}),(0,i.jsx)("div",{className:"mt-4 flex justify-center gap-2",children:ez.map((e,t)=>(0,i.jsx)("button",{onClick:()=>n(t),className:"h-2 w-2 rounded-full transition-colors ".concat(t===a?"bg-primary":"bg-muted"),type:"button"},"dot-".concat(t)))})]})]})})}function eS(){let e=(0,n.useSearchParams)(),[t,a]=g("ceh-logo",null),[s,o]=g("ceh-tributes",[]),[c,u]=g("ceh-events",[]),[p,m]=g("ceh-config",r),[f,v]=(0,l.useState)("tributes"),[y,b]=(0,l.useState)(null),[k,P]=(0,l.useState)([]),[w,C]=(0,l.useState)(!1),[F,N]=function(){let[e,t]=(0,l.useState)(!1);return(0,l.useEffect)(()=>{localStorage.getItem(eN)||t(!0)},[]),[e,()=>{t(!1),localStorage.setItem(eN,"true")}]}();(0,l.useEffect)(()=>{m(e=>{var t,a,i;return{...r,...e,phaseImages:null!==(t=e.phaseImages)&&void 0!==t?t:r.phaseImages,audio:null!==(a=e.audio)&&void 0!==a?a:r.audio,enableCornucopia:null!==(i=e.enableCornucopia)&&void 0!==i?i:r.enableCornucopia}})},[]);let z=(0,l.useRef)(!1);(0,l.useEffect)(()=>{z.current||0!==s.length||(z.current=!0,o(d()))},[s.length,o]),(0,l.useEffect)(()=>{let t=e.get("share");if(t)try{let e=JSON.parse(decodeURIComponent(atob(t)));if(e.t&&Array.isArray(e.t)){let t=e.t.map((e,t)=>({id:crypto.randomUUID(),name:e.n,image:e.i,isAlive:!0,kills:0,district:Math.floor(t/2)+1,clan:"district-".concat(Math.floor(t/2)+1)}));o(t)}}catch(e){}},[e,o]);let A=(0,l.useCallback)((e,t)=>{b(e),P(t),C(!0)},[]);return(0,i.jsxs)("div",{className:"min-h-screen bg-background",children:[(0,i.jsx)(x.B,{}),(0,i.jsx)(h.F,{logo:t,onLogoChange:a,showHome:!0}),(0,i.jsxs)("main",{className:"relative z-10 mx-auto max-w-6xl px-4 py-6",children:[(0,i.jsxs)("div",{className:"mb-8 text-center",children:[(0,i.jsxs)("h1",{className:"gold-text flex items-center justify-center gap-3 font-serif text-3xl font-bold tracking-wide sm:text-4xl",children:[(0,i.jsx)(_.A,{className:"text-primary",size:28}),"Hunger Games Simulator"]}),(0,i.jsx)("p",{className:"mt-2 text-sm text-muted-foreground",children:"Crea la tua arena personalizzata"})]}),w?(0,i.jsx)(eP,{winner:y,tributes:s,logs:k,onReset:()=>{C(!1),b(null),P([]),o(s.map(e=>({...e,isAlive:!0,kills:0,district:e.district,clan:e.clan})))}}):(0,i.jsxs)(E.tU,{value:f,onValueChange:v,className:"space-y-6",children:[(0,i.jsxs)(E.j7,{className:"mx-auto grid w-full max-w-2xl grid-cols-5 bg-secondary",children:[(0,i.jsxs)(E.Xi,{value:"tributes",className:"flex items-center gap-1.5 text-xs sm:text-sm",children:[(0,i.jsx)(j.A,{size:16}),(0,i.jsx)("span",{className:"hidden sm:inline",children:"Tributi"})]}),(0,i.jsxs)(E.Xi,{value:"events",className:"flex items-center gap-1.5 text-xs sm:text-sm",children:[(0,i.jsx)(M.A,{size:16}),(0,i.jsx)("span",{className:"hidden sm:inline",children:"Eventi"})]}),(0,i.jsxs)(E.Xi,{value:"config",className:"flex items-center gap-1.5 text-xs sm:text-sm",children:[(0,i.jsx)(ee.A,{size:16}),(0,i.jsx)("span",{className:"hidden sm:inline",children:"Config"})]}),(0,i.jsxs)(E.Xi,{value:"save",className:"flex items-center gap-1.5 text-xs sm:text-sm",children:[(0,i.jsx)(ew.A,{size:16}),(0,i.jsx)("span",{className:"hidden sm:inline",children:"Salva"})]}),(0,i.jsxs)(E.Xi,{value:"arena",className:"flex items-center gap-1.5 text-xs sm:text-sm",children:[(0,i.jsx)(er.A,{size:16}),(0,i.jsx)("span",{className:"hidden sm:inline",children:"Arena"})]})]}),(0,i.jsx)(E.av,{value:"tributes",className:"animate-fade-in",children:(0,i.jsx)(S,{tributes:s,onTributesChange:o})}),(0,i.jsx)(E.av,{value:"events",className:"animate-fade-in",children:(0,i.jsx)(Q,{events:c,onEventsChange:u})}),(0,i.jsx)(E.av,{value:"config",className:"animate-fade-in",children:(0,i.jsx)(eo,{config:p,onConfigChange:m,onFullReset:()=>{confirm("Sei sicuro? Questo canceller\xe0 tutti i tributi, gli eventi e la configurazione salvata. La pagina verr\xe0 ricaricata.")&&(localStorage.removeItem("ceh-tributes"),localStorage.removeItem("ceh-events"),localStorage.removeItem("ceh-config"),localStorage.removeItem("ceh-logo"),window.location.reload())}})}),(0,i.jsx)(E.av,{value:"save",className:"animate-fade-in",children:(0,i.jsx)(ej,{tributes:s,events:c,config:p,onLoad:e=>{var t;let{tributes:a,events:i,config:l}=e;o(a),u(i),m({...l,phaseImages:null!==(t=p.phaseImages)&&void 0!==t?t:r.phaseImages}),v("tributes")}})}),(0,i.jsx)(E.av,{value:"arena",className:"animate-fade-in",children:(0,i.jsx)(eb,{tributes:s,events:c,config:p,onTributesChange:o,onWinner:A})})]}),!w&&(0,i.jsxs)("div",{className:"mx-auto mt-8 grid max-w-3xl grid-cols-3 gap-4 sm:grid-cols-5",children:[(0,i.jsxs)("div",{className:"card-game p-4 text-center",children:[(0,i.jsx)("p",{className:"text-2xl font-bold text-primary",children:s.length}),(0,i.jsx)("p",{className:"text-xs text-muted-foreground",children:"Tributi"})]}),(0,i.jsxs)("div",{className:"card-game p-4 text-center",children:[(0,i.jsx)("p",{className:"text-2xl font-bold text-primary",children:new Set(s.map(e=>e.district).filter(Boolean)).size}),(0,i.jsx)("p",{className:"text-xs text-muted-foreground",children:"Distretti"})]}),(0,i.jsxs)("div",{className:"card-game p-4 text-center",children:[(0,i.jsx)("p",{className:"text-2xl font-bold text-primary",children:s.filter(e=>e.isAlive).length}),(0,i.jsx)("p",{className:"text-xs text-muted-foreground",children:"In Vita"})]}),(0,i.jsxs)("div",{className:"card-game p-4 text-center",children:[(0,i.jsx)("p",{className:"text-2xl font-bold text-primary",children:c.length}),(0,i.jsx)("p",{className:"text-xs text-muted-foreground",children:"Eventi"})]}),(0,i.jsxs)("div",{className:"card-game p-4 text-center",children:[(0,i.jsx)("p",{className:"text-2xl font-bold text-primary",children:c.filter(e=>e.isFatal).length}),(0,i.jsx)("p",{className:"text-xs text-muted-foreground",children:"Fatali"})]})]})]}),(0,i.jsx)("footer",{className:"relative z-10 mt-12 border-t border-border/50 py-6",children:(0,i.jsx)("p",{className:"text-center text-sm text-muted-foreground",children:"Celestial Elysium Hub - Hunger Games Simulator"})}),F&&(0,i.jsx)(eA,{onClose:N})]})}}},e=>{var t=t=>e(e.s=t);e.O(0,[173,328,176,620,61,898,441,517,358],()=>t(5400)),_N_E=e.O()}]);