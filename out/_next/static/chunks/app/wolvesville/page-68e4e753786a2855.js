(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[973],{535:(e,r,t)=>{Promise.resolve().then(t.bind(t,1924))},1924:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>ey});var a=t(5155),l=t(2115),s=t(8173),o=t.n(s),n=t(7364),i=t(5870),d=t(3075),c=t(3938),m=t(8062);let x=[{id:"villager",name:"Villico (Offline)",description:"Trova i lupi mannari e linciali.",team:"VILLAGER",aura:"GOOD",isAdvanced:!1,image:{url:"https://cdn.wolvesville.com/roleIcons/villager.png",width:128,height:128}},{id:"seer",name:"Veggente (Offline)",description:"Ogni notte puoi rivelare il ruolo di un giocatore.",team:"VILLAGER",aura:"GOOD",isAdvanced:!1,image:{url:"https://cdn.wolvesville.com/roleIcons/seer.png",width:128,height:128}},{id:"medium",name:"Medium (Offline)",description:"Puoi parlare con i morti di notte. Rianimi un giocatore una volta per partita.",team:"VILLAGER",aura:"GOOD",isAdvanced:!1,image:{url:"https://cdn.wolvesville.com/roleIcons/medium.png",width:128,height:128}},{id:"werewolf",name:"Lupo Mannaro (Offline)",description:"Uccidi i villici ogni notte.",team:"WEREWOLF",aura:"EVIL",isAdvanced:!1,image:{url:"https://cdn.wolvesville.com/roleIcons/werewolf.png",width:128,height:128}},{id:"jester",name:"Buffone (Offline)",description:"Fatti linciare dal villaggio per vincere.",team:"SOLO",aura:"NEUTRAL",isAdvanced:!1,image:{url:"https://cdn.wolvesville.com/roleIcons/jester.png",width:128,height:128}},{id:"analyst",name:"Analista (Offline Avanzato)",description:"Analizza i giocatori per scoprire il loro ruolo esatto.",team:"VILLAGER",aura:"GOOD",isAdvanced:!0,image:{url:"https://cdn.wolvesville.com/roleIcons/analyst.png",width:128,height:128}}],u=[{id:"offline_set",name:"Set Offline",items:[{id:"hat_offline",type:"HAT",rarity:"COMMON",imageUrl:"https://cdn.wolvesville.com/avatarItems/hat_santa_claus.png",name:"Cappello Offline"},{id:"shirt_offline",type:"SHIRT",rarity:"COMMON",imageUrl:"https://cdn.wolvesville.com/avatarItems/shirt_santa_claus.png",name:"Maglia Offline"}]}],p=[{id:"bg_village_offline",name:"Villaggio (Offline)",rarity:"COMMON",imageUrl:"https://cdn.wolvesville.com/backgrounds/wolvesville_large_day.png",imageDayUrl:"https://cdn.wolvesville.com/backgrounds/wolvesville_large_day.png",imageNightUrl:"https://cdn.wolvesville.com/backgrounds/wolvesville_large_night.png"}],g=[{id:"loading_offline",url:"https://cdn.wolvesville.com/backgrounds/wolvesville_large_day.png",rarity:"COMMON"}],h=[{id:"quest_offline",name:"Quest Offline",description:"Impossibile caricare le quest. Controlla la connessione.",rewards:[{type:"GOLD",amount:100}]}],b={"aura-seer":{name:"Veggente",rarity:"COMMON",cdnUrl:"https://cdn.wolvesville.com/roleIcons/aura-seer.png"},werewolf:{name:"Lupo Mannaro",rarity:"COMMON",cdnUrl:"https://cdn.wolvesville.com/roleIcons/werewolf.png"},bg_village:{name:"Villaggio (Default)",rarity:"COMMON",cdnUrl:"https://cdn.wolvesville.com/backgrounds/wolvesville_large_day.png"}},f=function(e,r){let t=!(arguments.length>2)||void 0===arguments[2]||arguments[2],a="https://cdn.wolvesville.com",l=t?"@2x.png":".png";switch(r){case"role":return"".concat(a,"/roleIcons/").concat(e,".png");case"background":if("village_day"===e)return"".concat(a,"/backgrounds/wolvesville_large_day.png");return"".concat(a,"/backgrounds/").concat(e).concat("");case"avatar":return"".concat(a,"/avatarItems/").concat(e).concat(l);case"set":return"".concat(a,"/avatarItemSets/").concat(e).concat(l);default:return""}},v=[{id:"skin_pale",type:"SKIN",rarity:"COMMON",name:"Pale",imageUrl:"color:#F5D0B0"},{id:"skin_tan",type:"SKIN",rarity:"COMMON",name:"Tan",imageUrl:"color:#E0AC69"},{id:"skin_brown",type:"SKIN",rarity:"COMMON",name:"Brown",imageUrl:"color:#8D5524"},{id:"skin_dark_brown",type:"SKIN",rarity:"COMMON",name:"Dark Brown",imageUrl:"color:#523218"},{id:"skin_black",type:"SKIN",rarity:"COMMON",name:"Black",imageUrl:"color:#2B2B2B"},{id:"skin_grey",type:"SKIN",rarity:"COMMON",name:"Grey",imageUrl:"color:#7A7A7A"},{id:"skin_werewolf",type:"SKIN",rarity:"COMMON",name:"Werewolf",imageUrl:"color:#607D8B"},{id:"skin_white",type:"SKIN",rarity:"COMMON",name:"White",imageUrl:"color:#FFFFFF"}],y={"1wL":{category:"HAT",name:"Top Hat"}};function j(e){try{let r=y[e.id],t=e.type||"SHIRT",a=t;"BODY"===a||"SKIN_COLOR"===a||"COLOR"===a||"BASE_BODY"===a||"APPEARANCE"===a?t="SKIN":"HAIRSTYLE"===a||"HAIR_COLOR"===a?t="HAIR":"HEAD_WEAR"===a?t="HAT":"EYE_WEAR"===a?t="GLASSES":"NECK_WEAR"===a?t="SHIRT":"HAND_ITEM"===a?t="SHIRT":("PANTS"===a||"SHOES"===a||"CLOTHES"===a)&&(t="SHIRT");let l=e.name||"Item ".concat(e.id);return r&&(r.category&&(t=r.category),r.name&&(l=r.name)),t&&"UNKNOWN"!==t||(t="SHIRT"),{...e,type:t,name:l}}catch(r){return console.error("Error mapping item:",e.id,r),e}}let N="https://api.wolvesville.com",w="YGNrrmPwSWjVY9lAy9y7CiBLMeRUh3pEE4CTmIvfZwnaSp6X3uiQnsVAoDkdXLYW",A="f416123a-0ca8-432f-94e4-228afdef82e2",S={},k={async fetch(e,r){let t=Date.now();if(S[e]&&t-S[e].timestamp<6e5)return S[e].data;if(!w)return console.warn("[WovEngine] No API Key. Using fallback for ".concat(e)),r;try{let a=await fetch("".concat(N).concat(e),{method:"GET",headers:{"Content-Type":"application/json",Accept:"application/json","Accept-Language":"it",Authorization:"Bot ".concat(w),...A?{"X-Bot-ID":A}:{}},next:{revalidate:3600}});if(!a.ok)return console.error("[WovEngine] API Error ".concat(a.status," for ").concat(e)),r;let l=await a.json(),s=l.items?l.items:l;return S[e]={data:s,timestamp:t},s}catch(t){return console.error("[WovEngine] Network Exception for ".concat(e),t),r}},async getRoles(){let e=await this.fetch("/roles",{roles:x}),r=e.roles?e.roles:e;if(!Array.isArray(r)||0===r.length)return console.warn("[WovEngine] Roles empty or invalid format, forcing fallback data"),x;let t=e.advancedRolesMapping||{},a=new Set;return Object.values(t).forEach(e=>{Array.isArray(e)&&e.forEach(e=>a.add(e))}),r.map(e=>({...e,isAdvanced:a.has(e.id)}))},async getAvatarSets(){return this.fetch("/items/avatarItemSets",u)},async getBundles(){return this.fetch("/items/bundles",[])},async getShopActiveOffers(){return this.fetch("/shop/activeOffers",[])},async getCalendars(){return this.fetch("/items/calendars",[])},async getAvatarItems(){return[...v,...(await this.fetch("/items/avatarItems",[])).map(j)]},async getBackgrounds(){return this.fetch("/items/backgrounds",p)},async getLoadingScreens(){return this.fetch("/items/loadingScreens",g)},async getClanQuests(){return this.fetch("/clans/quests/all",h)},async searchClans(e){let r=new URLSearchParams;return"string"==typeof e?r.append("name",e):(e.name&&r.append("name",e.name),e.minLevel&&r.append("minLevel",e.minLevel.toString()),e.language&&r.append("language",e.language),e.joinType&&r.append("joinType",e.joinType),e.sortBy&&r.append("sortBy",e.sortBy),e.notFull&&r.append("notFull","true")),this.fetch("/clans/search?".concat(r.toString()),[])},extractItems(e){if(console.log("[WovEngine] Extracting items from ".concat((null==e?void 0:e.length)||0," sets")),!e||!Array.isArray(e))return console.warn("[WovEngine] Invalid sets data:",e),[];e.length>0&&console.log("[WovDebug] First set received:",e[0]);let r=[],t=new Set;return e.forEach(e=>{e.items&&Array.isArray(e.items)?e.items.forEach(a=>{t.has(a.id)||(t.add(a.id),r.push(j({...a,imageUrl:this.resolveImageUrl(a.id,"avatar",a.imageUrl),name:a.name||"".concat(e.name||"Unknown Set"," Item")})))}):e.avatarItemIds&&Array.isArray(e.avatarItemIds)&&e.avatarItemIds.forEach(e=>{if(!t.has(e)){t.add(e);let a=y[e]&&y[e].category||null;r.push(j({id:e,name:"Item ".concat(e.substring(0,5),"..."),type:a||"SHIRT",rarity:"COMMON",imageUrl:this.resolveImageUrl(e,"avatar",void 0,a||void 0)}))}})}),console.log("[WovEngine] Extracted ".concat(r.length," unique items")),r},resolveImageUrl:(e,r,t,a)=>t&&!t.includes("dicebear")?t:b[e]?b[e].cdnUrl:f(e,r),async generateSharedAvatarUrl(e){if(!w)return null;try{let r={items:e.map(e=>({id:e,prio:0})),skinColorId:"default"},t=await fetch("".concat(N,"/avatars/sharedAvatar"),{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bot ".concat(w)},body:JSON.stringify(r)});if(!t.ok)return null;return(await t.json()).url}catch(e){return console.error("Failed to generate avatar URL",e),null}}},E=(0,l.createContext)(void 0);function I(e){return e.map(e=>{let r=j(e);return r.imageUrl=k.resolveImageUrl(r.id,"avatar",r.imageUrl,r.type),r})}function C(e){let{children:r}=e,[t,s]=(0,l.useState)([]),[o,n]=(0,l.useState)([]),[i,d]=(0,l.useState)([]),[c,m]=(0,l.useState)([]),[x,u]=(0,l.useState)([]),[p,g]=(0,l.useState)([]),[h,b]=(0,l.useState)(!0),[f,v]=(0,l.useState)(null),[y,j]=(0,l.useState)({});(0,l.useEffect)(()=>{let e=!1;return async function(){try{let r;b(!0),v(null);let[t,a,l,o,i,c,x]=await Promise.all([k.getRoles(),k.getAvatarItems(),k.getAvatarSets(),k.getBundles(),k.getBackgrounds(),k.getShopActiveOffers(),k.getCalendars()]);if(e)return;console.log("[WovContext] Roles received: ".concat(Array.isArray(t)?t.length:"Not Array")),console.log("[WovContext] Bundles received type: ".concat(typeof o,", isArray: ").concat(Array.isArray(o))),o&&Array.isArray(o)&&o.length>0?console.log("[WovContext] \uD83D\uDD0D RAW API BUNDLE (First):",o[0]):o&&console.log("[WovContext] \uD83D\uDD0D RAW API BUNDLE (Object?):",o),console.log("[WovContext] Offers received: ".concat(Array.isArray(c)?c.length:"Not Array")),c&&c.length>0&&console.log("[WovContext] \uD83D\uDD0D RAW OFFER (First):",c[0]),console.log("[WovContext] Calendars received: ".concat(Array.isArray(x)?x.length:"Not Array")),x&&x.length>0&&console.log("[WovContext] \uD83D\uDD0D RAW CALENDAR (First):",x[0]),s(Array.isArray(t)?t:[]);let p=Array.isArray(c)?Array.from(new Map(c.map((e,r)=>{let t=e.id||"generated-offer-".concat(r,"-").concat(Math.random().toString(36).substr(2,9)),a={...e,id:t};return[t,a]})).values()):[];u(p),g(Array.isArray(x)?x:[]);let h=[];Array.isArray(c)&&c.forEach(e=>{e.avatarItemSets&&Array.isArray(e.avatarItemSets)&&h.push(...e.avatarItemSets)});let f=[...Array.isArray(l)?l:[],...Array.isArray(o)?o:[],...h],y=Array.from(new Map(f.map(e=>[e.id,e])).values());d(y),m(Array.isArray(i)?i:[]);let j=a?Array.isArray(a)?a:"object"==typeof a&&"items"in a&&Array.isArray(a.items)?a.items:[]:[];if(j.length>0?console.log("[WovContext] \uD83D\uDD0D RAW API ITEM (First):",j[0]):y.length>0&&console.log("[WovContext] \uD83D\uDD0D RAW API SET (First):",y[0]),j.length>0)console.log("[WovContext] ✅ Direct items: ".concat(j.length)),r=I(j);else{console.log("[WovContext] ⚠️  Direct items empty – falling back to sets extraction");let e=function(e){if(!Array.isArray(e)||0===e.length)return[];let r=new Map;return e.forEach(e=>{let t=Array.isArray(e.items)?e.items:[],a=Array.isArray(e.avatarItemIds)?e.avatarItemIds:[];t.forEach(e=>{!(null==e?void 0:e.id)||r.has(e.id)||r.set(e.id,e)}),a.forEach(t=>{!t||r.has(t)||r.set(t,{id:t,name:e.name?"".concat(e.name," – ").concat(t.slice(0,8)):t,type:"SHIRT",rarity:"COMMON",imageUrl:""})})}),Array.from(r.values())}(y);console.log("[WovContext] ✅ Items from sets: ".concat(e.length)),r=I(e)}console.log("[WovContext] \uD83C\uDFAF Total items ready for grid: ".concat(r.length)),n(r)}catch(r){if(!e){let e=r instanceof Error?r.message:String(r);console.error("[WovContext] Init failed:",e),v(e)}}finally{e||b(!1)}}(),()=>{e=!0}},[]),(0,l.useEffect)(()=>{try{let e=localStorage.getItem("wov_wardrobe");e&&j(JSON.parse(e))}catch(e){}},[]),(0,l.useEffect)(()=>{try{localStorage.setItem("wov_wardrobe",JSON.stringify(y))}catch(e){}},[y]);let N=(0,l.useCallback)(e=>{j(r=>({...r,[e.type]:e}))},[]),w=(0,l.useCallback)(e=>{j(r=>{let t={};r.SKIN&&(t.SKIN=r.SKIN),r.EYES&&(t.EYES=r.EYES),r.MOUTH&&(t.MOUTH=r.MOUTH);let a=e=>o.find(r=>r.id===e);return e.items&&Array.isArray(e.items)&&e.items.forEach(e=>{let r=a(e.id);r||(r=I([e])[0]),r&&r.type&&"SET"!==r.type&&(t[r.type]=r)}),e.avatarItemIds&&Array.isArray(e.avatarItemIds)&&e.avatarItemIds.forEach(e=>{let r=a(e);r?t[r.type]=r:console.warn("[WovContext] Item ID ".concat(e," from set not found in global items."))}),t})},[o]),A=(0,l.useCallback)(e=>{j(r=>{let t={...r};return delete t[e],t})},[]),S=(0,l.useCallback)(()=>j({}),[]),C=(0,l.useCallback)(e=>Object.values(y).some(r=>r.id===e),[y]);return(0,a.jsx)(E.Provider,{value:{roles:t,items:o,sets:i,backgrounds:c,activeOffers:x,calendars:p,loading:h,error:f,equippedItems:y,equipItem:N,equipSet:w,unequipItem:A,clearWardrobe:S,isEquipped:C},children:r})}function O(){let e=(0,l.useContext)(E);if(!e)throw Error("useWolvesville must be used within WolvesvilleProvider");return e}var L=t(1567),R=t(8477),T=t(5059),M=t(1466),z=t(2823),U=t(3467);let B=[{id:"dashboard",label:"Dashboard",icon:R.A},{id:"wardrobe",label:"Guardaroba & Item",icon:T.A},{id:"roles",label:"Ruoli",icon:M.A},{id:"clans",label:"Clan & Quest",icon:z.A},{id:"wiki",label:"Wiki",icon:U.A}];function _(e){let{activeTab:r,onTabChange:t}=e;return(0,a.jsxs)("div",{className:"w-full md:w-64 shrink-0 flex flex-col gap-2",children:[(0,a.jsxs)("div",{className:"p-4 mb-2",children:[(0,a.jsx)("h2",{className:"text-2xl font-bold font-serif gold-text tracking-tight",children:"Wolvesville DB"}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground uppercase tracking-widest opacity-70",children:"Unofficial Tool"})]}),(0,a.jsx)("nav",{className:"flex flex-col gap-1 px-2",children:B.map(e=>{let l=r===e.id,s=e.icon;return(0,a.jsxs)("button",{onClick:()=>t(e.id),className:(0,L.cn)("flex items-center gap-3 px-4 py-3 rounded-lg text-sm font-medium transition-all duration-200",l?"bg-primary/10 text-primary shadow-[0_0_15px_rgba(234,179,8,0.1)] border border-primary/20":"text-muted-foreground hover:bg-card/50 hover:text-foreground"),children:[(0,a.jsx)(s,{size:18,className:l?"text-primary":"opacity-70"}),(0,a.jsx)("span",{children:e.label}),l&&(0,a.jsx)("div",{className:"ml-auto w-1.5 h-1.5 rounded-full bg-primary shadow-[0_0_5px_currentColor]"})]},e.id)})}),(0,a.jsx)("div",{className:"mt-auto p-4 opacity-50 text-[10px] text-center",children:"v2.4.0 • Powered by Trae"})]})}var D=t(5686),W=t(4505),G=t(4857),H=t(2792),F=t(836),P=t(767),V=t(5565);let K={BODY:"https://cdn.wolvesville.com/avatarItems/body.store.png",HEAD:"https://cdn.wolvesville.com/avatarItems/head.store.png"},Y=[{id:"pale",color:"#F5D0B0",filter:"brightness(1.1) sepia(0.2) hue-rotate(-10deg)"},{id:"tan",color:"#E0AC69",filter:"brightness(0.95) sepia(0.4) hue-rotate(-25deg)"},{id:"brown",color:"#8D5524",filter:"brightness(0.7) sepia(0.6) hue-rotate(-35deg)"},{id:"dark",color:"#3B2219",filter:"brightness(0.5) sepia(0.5) hue-rotate(-40deg)"},{id:"zombie",color:"#7FA075",filter:"grayscale(1) sepia(0.5) hue-rotate(70deg) brightness(0.9) contrast(0.9)"}],q={BACK:5,GRAVESTONE:6,BASE_BODY:10,SHIRT:20,BASE_HEAD:30,MOUTH:31,EYES:32,BEARD:33,HAIR:40,GLASSES:45,MASK:46,HAT:50,FRONT:70,EMOJI:80},X=["BACK","GRAVESTONE","SHIRT","BEARD","MOUTH","EYES","HAIR","GLASSES","MASK","HAT","FRONT","EMOJI"],J=["HAT","HAIR","GLASSES","EYES","MOUTH","MASK","BEARD","SHIRT","BACK","FRONT","GRAVESTONE","EMOJI"];function Q(){var e,r,t,s,o,n;let{equippedItems:i,unequipItem:d,clearWardrobe:c}=O(),[m,x]=(0,l.useState)(!1),[u,p]=(0,l.useState)("pale"),[g,h]=(0,l.useState)(-4),[b,f]=(0,l.useState)(20),[v,y]=(0,l.useState)(40),[j,N]=(0,l.useState)(500),[w,A]=(0,l.useState)("HAT"),[S,E]=(0,l.useState)({HAT:{y:-10,x:0,scale:100},HAIR:{y:18,x:-1.5,scale:100},GLASSES:{y:14,x:0,scale:77},EYES:{y:17,x:0,scale:64},MOUTH:{y:0,x:0,scale:77},MASK:{y:0,x:0,scale:100},BEARD:{y:0,x:0,scale:100},SHIRT:{y:-10.5,x:0,scale:75},BACK:{y:0,x:0,scale:100},FRONT:{y:.5,x:18.5,scale:35},GRAVESTONE:{y:0,x:0,scale:100},EMOJI:{y:0,x:0,scale:100}}),[I,C]=(0,l.useState)(!1),[L,R]=(0,l.useState)({x:400,y:100}),[T,M]=(0,l.useState)(!1),[z,U]=(0,l.useState)({x:0,y:0});(0,l.useEffect)(()=>{let e=e=>{T&&R({x:e.clientX-z.x,y:e.clientY-z.y})},r=()=>M(!1);return T&&(window.addEventListener("mousemove",e),window.addEventListener("mouseup",r)),()=>{window.removeEventListener("mousemove",e),window.removeEventListener("mouseup",r)}},[T,z]);let B=(0,l.useMemo)(()=>Y.find(e=>e.id===u)||Y[0],[u]),_=async()=>{x(!0);let e=Object.values(i).map(e=>e.id),r=await k.generateSharedAvatarUrl(e);x(!1),r?window.open(r,"_blank"):alert("Impossibile generare l'avatar. Riprova pi\xf9 tardi.")},Q=0===Object.keys(i).length,Z=e=>{let r=g;["HAIR","HAT","GLASSES","EYES","MOUTH","MASK","BEARD","BASE_HEAD"].includes(e)?r=b:"SHIRT"===e&&(r=10);let t=S[e]||{y:0,x:0,scale:100},a=r+t.y,l=t.x,s=v*(t.scale/100);return{bottom:"".concat(a,"%"),left:"calc(50% + ".concat(l,"%)"),width:"".concat(s,"%"),height:"auto",transform:"translateX(-50%)",zIndex:q[e]||10}},$=function(e,r){let t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"delta";E(a=>{let l=a[w]||{y:0,x:0,scale:100},s="delta"===t?l[e]+r:r;return{...a,[w]:{...l,[e]:s}}})},[ee,er]=(0,l.useState)(""),[et,ea]=(0,l.useState)(""),[el,es]=(0,l.useState)(!1);return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"sticky top-24 bg-card/80 backdrop-blur-xl border border-border/60 rounded-2xl shadow-2xl p-6 flex flex-col items-center gap-6 w-full",children:[(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("h3",{className:"text-2xl font-bold font-serif gold-text mb-1",children:"Avatar Builder"}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground",children:"Crea il tuo stile unico"})]}),(0,a.jsxs)("div",{className:"relative w-full bg-[#1a1a1a] rounded-xl border border-white/10 shadow-2xl overflow-hidden group transition-all duration-300",style:{aspectRatio:"1 / 1",maxWidth:"".concat(j,"px")},children:[(0,a.jsx)("div",{className:"absolute inset-0 opacity-5 pointer-events-none",style:{backgroundImage:"radial-gradient(circle, #fff 1px, transparent 1px)",backgroundSize:"20px 20px"}}),(0,a.jsxs)("div",{className:"relative w-full h-full",children:[(0,a.jsx)("img",{src:K.BODY,alt:"Body Base",className:"absolute object-contain pointer-events-none",style:{zIndex:q.BASE_BODY,filter:B.filter,bottom:"".concat(g,"%"),left:"50%",width:"".concat(v,"%"),height:"auto",transform:"translateX(-50%)"}}),(0,a.jsx)("img",{src:K.HEAD,alt:"Head Base",className:"absolute object-contain pointer-events-none",style:{zIndex:q.BASE_HEAD,filter:B.filter,bottom:"".concat(b,"%"),left:"50%",width:"".concat(v,"%"),height:"auto",transform:"translateX(-50%)"}}),X.map(e=>{let r=i[e];if(!r||"SKIN"===e)return null;let t=Z(e);return(0,a.jsx)("div",{className:"absolute transition-all duration-300 animate-in fade-in zoom-in-95 pointer-events-none",style:{...t,position:"absolute"},children:(0,a.jsx)(V.default,{src:k.resolveImageUrl(r.id,"avatar",r.imageUrl),alt:e,width:500,height:500,className:"w-full h-full object-contain drop-shadow-md",priority:!0,unoptimized:!0})},e)})]})]}),(0,a.jsx)("div",{className:"flex gap-2 justify-center py-2 bg-black/20 px-4 rounded-full border border-white/5",children:Y.map(e=>(0,a.jsx)("button",{onClick:()=>p(e.id),className:"w-6 h-6 rounded-full border-2 transition-all hover:scale-110 ".concat(u===e.id?"border-white scale-110 shadow-[0_0_10px_rgba(255,255,255,0.3)]":"border-transparent opacity-80"),style:{backgroundColor:e.color},title:e.id},e.id))}),!Q&&(0,a.jsxs)("div",{className:"w-full",children:[(0,a.jsxs)("h4",{className:"text-xs font-bold text-muted-foreground uppercase tracking-wider mb-3",children:["Equipaggiati (",Object.keys(i).length,")"]}),(0,a.jsx)("div",{className:"grid grid-cols-5 gap-2 max-h-40 overflow-y-auto pr-1 custom-scrollbar",children:Object.entries(i).map(e=>{let[r,t]=e;return"SKIN"===r?null:(0,a.jsxs)("div",{className:"relative aspect-square bg-black/40 rounded-lg border border-white/10 p-1 group cursor-pointer hover:border-primary/50 transition-all",onClick:()=>d(r),title:"Rimuovi ".concat(t.name," (").concat(r,")"),children:[(0,a.jsx)(V.default,{src:k.resolveImageUrl(t.id,"avatar",t.imageUrl),alt:r,fill:!0,className:"object-contain p-1",unoptimized:!0}),(0,a.jsx)("div",{className:"absolute inset-0 bg-red-500/80 opacity-0 group-hover:opacity-100 flex items-center justify-center transition-all rounded-lg backdrop-blur-sm",children:(0,a.jsx)(D.A,{size:14,className:"text-white"})})]},r)})})]}),(0,a.jsxs)("div",{className:"flex gap-3 w-full mt-auto pt-4 border-t border-white/5",children:[(0,a.jsxs)("button",{onClick:c,className:"flex-1 flex items-center justify-center gap-2 px-4 py-3 rounded-xl bg-red-500/10 text-red-400 hover:bg-red-500/20 hover:text-red-300 disabled:opacity-50 disabled:cursor-not-allowed transition-all text-sm font-bold border border-red-500/20",children:[(0,a.jsx)(D.A,{size:16}),(0,a.jsx)("span",{children:"Svuota"})]}),(0,a.jsxs)("button",{onClick:_,disabled:Q||m,className:"flex-[2] flex items-center justify-center gap-2 px-4 py-3 rounded-xl bg-primary text-primary-foreground hover:bg-primary/90 hover:scale-[1.02] active:scale-95 disabled:opacity-50 disabled:cursor-not-allowed transition-all text-sm font-bold shadow-lg shadow-primary/20",children:[m?(0,a.jsx)(W.A,{size:16,className:"animate-spin"}):(0,a.jsx)(G.A,{size:16}),(0,a.jsx)("span",{children:"Genera Link"})]})]})]}),!I&&(0,a.jsx)("button",{onClick:()=>C(!0),className:"fixed bottom-4 right-4 bg-yellow-500 text-black p-3 rounded-full shadow-lg hover:scale-110 transition-transform z-[9999]",title:"Open Dev Calibration",children:(0,a.jsx)(H.A,{size:24})}),I&&(0,a.jsxs)("div",{className:"fixed bg-black/90 backdrop-blur-lg border border-yellow-500/50 rounded-xl shadow-2xl z-[9999] text-xs font-mono w-80 flex flex-col",style:{left:L.x,top:L.y},children:[(0,a.jsxs)("div",{className:"flex items-center justify-between p-2 border-b border-yellow-500/30 cursor-grab active:cursor-grabbing bg-yellow-500/10 rounded-t-xl",onMouseDown:e=>{M(!0),U({x:e.clientX-L.x,y:e.clientY-L.y})},children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 text-yellow-400 font-bold select-none",children:[(0,a.jsx)(F.A,{size:16}),(0,a.jsx)("span",{children:"CALIBRAZIONE DEV"})]}),(0,a.jsx)("button",{onClick:()=>C(!1),className:"text-gray-400 hover:text-white",children:(0,a.jsx)(P.A,{size:16})})]}),(0,a.jsx)("div",{className:"p-4 overflow-y-auto max-h-[70vh] custom-scrollbar",children:(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,a.jsxs)("span",{className:"text-gray-400",children:["Body Bottom: ",(0,a.jsxs)("span",{className:"text-white",children:[g,"%"]})]}),(0,a.jsxs)("div",{className:"flex gap-1",children:[(0,a.jsx)("button",{onClick:()=>h(e=>e-1),className:"bg-red-500/20 hover:bg-red-500/40 text-red-300 px-2 py-1 rounded border border-red-500/30",children:"-"}),(0,a.jsx)("button",{onClick:()=>h(e=>e+1),className:"bg-green-500/20 hover:bg-green-500/40 text-green-300 px-2 py-1 rounded border border-green-500/30",children:"+"})]})]}),(0,a.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,a.jsxs)("span",{className:"text-gray-400",children:["Head Bottom: ",(0,a.jsxs)("span",{className:"text-white",children:[b,"%"]})]}),(0,a.jsxs)("div",{className:"flex gap-1",children:[(0,a.jsx)("button",{onClick:()=>f(e=>e-1),className:"bg-red-500/20 hover:bg-red-500/40 text-red-300 px-2 py-1 rounded border border-red-500/30",children:"-"}),(0,a.jsx)("button",{onClick:()=>f(e=>e+1),className:"bg-green-500/20 hover:bg-green-500/40 text-green-300 px-2 py-1 rounded border border-green-500/30",children:"+"})]})]}),(0,a.jsxs)("div",{className:"flex flex-col gap-1 mt-2 border-t border-white/10 pt-2",children:[(0,a.jsxs)("span",{className:"text-gray-400",children:["Global Scale: ",(0,a.jsxs)("span",{className:"text-white",children:[v,"%"]})]}),(0,a.jsxs)("div",{className:"flex gap-1",children:[(0,a.jsx)("button",{onClick:()=>y(e=>e-1),className:"flex-1 bg-blue-500/20 hover:bg-blue-500/40 text-blue-300 px-2 py-1 rounded border border-blue-500/30",children:"-"}),(0,a.jsx)("button",{onClick:()=>y(e=>e+1),className:"flex-1 bg-blue-500/20 hover:bg-blue-500/40 text-blue-300 px-2 py-1 rounded border border-blue-500/30",children:"+"})]})]}),(0,a.jsxs)("div",{className:"flex flex-col gap-1 mt-2 border-t border-white/10 pt-2",children:[(0,a.jsxs)("span",{className:"text-gray-400",children:["Box Size: ",(0,a.jsxs)("span",{className:"text-white",children:[j,"px"]})]}),(0,a.jsxs)("div",{className:"flex gap-1",children:[(0,a.jsx)("button",{onClick:()=>N(e=>e-10),className:"flex-1 bg-purple-500/20 hover:bg-purple-500/40 text-purple-300 px-2 py-1 rounded border border-purple-500/30",children:"-10"}),(0,a.jsx)("button",{onClick:()=>N(e=>e+10),className:"flex-1 bg-purple-500/20 hover:bg-purple-500/40 text-purple-300 px-2 py-1 rounded border border-purple-500/30",children:"+10"})]})]}),(0,a.jsxs)("div",{className:"col-span-2 flex flex-col gap-1 mt-2 border-t border-white/10 pt-2",children:[(0,a.jsx)("span",{className:"text-gray-400",children:"Item Calibration"}),(0,a.jsx)("div",{className:"flex gap-2 mb-2",children:(0,a.jsx)("select",{value:w,onChange:e=>A(e.target.value),className:"bg-black/50 text-white text-xs border border-white/20 rounded px-2 py-1 flex-1",children:J.map(e=>(0,a.jsx)("option",{value:e,children:e},e))})}),(0,a.jsxs)("div",{className:"mb-2",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between text-[10px] text-gray-500 mb-1",children:[(0,a.jsx)("span",{children:"Vertical (Y)"}),(0,a.jsxs)("span",{className:"text-white font-mono",children:[((null===(e=S[w])||void 0===e?void 0:e.y)||0).toFixed(1),"%"]})]}),(0,a.jsx)("input",{type:"range",min:"-50",max:"50",step:"0.5",value:(null===(r=S[w])||void 0===r?void 0:r.y)||0,onChange:e=>$("y",parseFloat(e.target.value),"set"),className:"w-full accent-orange-500 h-1 bg-white/10 rounded-lg appearance-none cursor-pointer mb-1"}),(0,a.jsxs)("div",{className:"flex gap-1",children:[(0,a.jsx)("button",{onClick:()=>$("y",-.5),className:"flex-1 bg-orange-500/20 hover:bg-orange-500/40 text-orange-300 px-1 py-1 rounded border border-orange-500/30 text-[10px]",children:"-0.5"}),(0,a.jsx)("button",{onClick:()=>$("y",.5),className:"flex-1 bg-orange-500/20 hover:bg-orange-500/40 text-orange-300 px-1 py-1 rounded border border-orange-500/30 text-[10px]",children:"+0.5"})]})]}),(0,a.jsxs)("div",{className:"mb-2",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between text-[10px] text-gray-500 mb-1",children:[(0,a.jsx)("span",{children:"Horizontal (X)"}),(0,a.jsxs)("span",{className:"text-white font-mono",children:[((null===(t=S[w])||void 0===t?void 0:t.x)||0).toFixed(1),"%"]})]}),(0,a.jsx)("input",{type:"range",min:"-50",max:"50",step:"0.5",value:(null===(s=S[w])||void 0===s?void 0:s.x)||0,onChange:e=>$("x",parseFloat(e.target.value),"set"),className:"w-full accent-pink-500 h-1 bg-white/10 rounded-lg appearance-none cursor-pointer mb-1"}),(0,a.jsxs)("div",{className:"flex gap-1",children:[(0,a.jsx)("button",{onClick:()=>$("x",-.5),className:"flex-1 bg-pink-500/20 hover:bg-pink-500/40 text-pink-300 px-1 py-1 rounded border border-pink-500/30 text-[10px]",children:"-0.5"}),(0,a.jsx)("button",{onClick:()=>$("x",.5),className:"flex-1 bg-pink-500/20 hover:bg-pink-500/40 text-pink-300 px-1 py-1 rounded border border-pink-500/30 text-[10px]",children:"+0.5"})]})]}),(0,a.jsxs)("div",{className:"mb-2",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between text-[10px] text-gray-500 mb-1",children:[(0,a.jsx)("span",{children:"Scale %"}),(0,a.jsxs)("span",{className:"text-white font-mono",children:[((null===(o=S[w])||void 0===o?void 0:o.scale)||100).toFixed(0),"%"]})]}),(0,a.jsx)("input",{type:"range",min:"10",max:"200",step:"1",value:(null===(n=S[w])||void 0===n?void 0:n.scale)||100,onChange:e=>$("scale",parseFloat(e.target.value),"set"),className:"w-full accent-cyan-500 h-1 bg-white/10 rounded-lg appearance-none cursor-pointer mb-1"}),(0,a.jsxs)("div",{className:"flex gap-1",children:[(0,a.jsx)("button",{onClick:()=>$("scale",-1),className:"flex-1 bg-cyan-500/20 hover:bg-cyan-500/40 text-cyan-300 px-1 py-1 rounded border border-cyan-500/30 text-[10px]",children:"-1%"}),(0,a.jsx)("button",{onClick:()=>$("scale",1),className:"flex-1 bg-cyan-500/20 hover:bg-cyan-500/40 text-cyan-300 px-1 py-1 rounded border border-cyan-500/30 text-[10px]",children:"+1%"})]})]}),(0,a.jsx)("div",{className:"mt-2 pt-2 border-t border-white/10 flex gap-2",children:el?(0,a.jsxs)("div",{className:"w-full flex flex-col gap-1 animate-in fade-in slide-in-from-bottom-2",children:[(0,a.jsx)("textarea",{className:"w-full h-24 bg-black/50 text-[10px] text-blue-400 p-1 rounded border border-blue-500/30 font-mono",placeholder:"Paste JSON config here...",value:et,onChange:e=>ea(e.target.value)}),(0,a.jsxs)("div",{className:"flex gap-1",children:[(0,a.jsx)("button",{onClick:()=>{try{let l=et.trim();if(!l)return;let s=JSON.parse(l);if(s.global){var e,r,t,a;h(null!==(e=s.global.bodyBottom)&&void 0!==e?e:-4),f(null!==(r=s.global.headBottom)&&void 0!==r?r:22),y(null!==(t=s.global.scale)&&void 0!==t?t:64),N(null!==(a=s.global.containerSize)&&void 0!==a?a:320)}s.categories&&E(s.categories),es(!1),ea(""),alert("Configurazione caricata con successo!")}catch(e){alert("Errore nel caricamento della configurazione: Assicurati di aver copiato tutto il JSON correttamente.")}},className:"flex-1 bg-green-500/20 hover:bg-green-500/40 text-green-300 px-2 py-1 rounded border border-green-500/30 text-[10px]",children:"APPLY"}),(0,a.jsx)("button",{onClick:()=>es(!1),className:"flex-1 bg-red-500/20 hover:bg-red-500/40 text-red-300 px-2 py-1 rounded border border-red-500/30 text-[10px]",children:"CANCEL"})]})]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("button",{onClick:()=>{let e={};J.forEach(r=>{e[r]=S[r]||{y:0,x:0,scale:100}}),er(JSON.stringify({global:{bodyBottom:g,headBottom:b,scale:v,containerSize:j},categories:e},null,2))},className:"flex-1 bg-green-500/20 hover:bg-green-500/40 text-green-300 px-2 py-1 rounded border border-green-500/30 text-[10px] font-bold",children:"EXPORT"}),(0,a.jsx)("button",{onClick:()=>es(!0),className:"flex-1 bg-blue-500/20 hover:bg-blue-500/40 text-blue-300 px-2 py-1 rounded border border-blue-500/30 text-[10px] font-bold",children:"IMPORT"})]})}),ee&&!el&&(0,a.jsxs)("div",{className:"mt-2 flex flex-col gap-1 animate-in fade-in slide-in-from-bottom-2",children:[(0,a.jsx)("textarea",{className:"w-full h-24 bg-black/50 text-[10px] text-green-400 p-1 rounded border border-green-500/30 font-mono",readOnly:!0,value:ee,onClick:e=>e.currentTarget.select()}),(0,a.jsx)("button",{onClick:()=>er(""),className:"w-full bg-red-500/20 hover:bg-red-500/40 text-red-300 px-2 py-1 rounded border border-red-500/30 text-[10px]",children:"CLOSE"})]}),(0,a.jsx)("button",{onClick:()=>{confirm("Reset all calibration settings to defaults?")&&(h(-4),f(20),y(40),N(500))},className:"mt-4 w-full bg-red-500/10 text-red-400 py-2 rounded border border-red-500/20 hover:bg-red-500/30 text-[10px] uppercase font-bold tracking-wider transition-all",children:"Reset Global Calibration"})]})]})})]})]})}var Z=t(8867),$=t(853);let ee=["ALL","SET","HAIR","HAT","EYES","MOUTH","GLASSES","SHIRT","MASK","BACK","FRONT","GRAVESTONE","SKIN"],er=["ALL","COMMON","RARE","EPIC","LEGENDARY"],et={COMMON:"text-gray-400 border-gray-500/30 bg-gray-500/10",RARE:"text-blue-400 border-blue-500/30 bg-blue-500/10",EPIC:"text-purple-400 border-purple-500/30 bg-purple-500/10",LEGENDARY:"text-yellow-400 border-yellow-500/30 bg-yellow-500/10"},ea=e=>{var r;let t=new Set,a=String(e.id).trim(),l=String(e.imageKey||e.iconUrl||(null===(r=e.name)||void 0===r?void 0:r.replace(/\s+/g,"-"))||a).trim();return t.add("https://cdn.wolvesville.com/avatarItems/".concat(a,".png")),t.add("https://cdn.wolvesville.com/avatarItems/".concat(a,"@2x.png")),l!==a&&t.add("https://cdn.wolvesville.com/avatarItems/".concat(l,".png")),Array.from(t)},el=(0,l.memo)(function(e){let{item:r}=e;if(r.imageUrl&&r.imageUrl.startsWith("color:"))return(0,a.jsx)("div",{className:"w-full h-full rounded-full border border-white/20 shadow-inner",style:{backgroundColor:r.imageUrl.replace("color:","")}});let t=(0,l.useMemo)(()=>{let e=r.imageUrl&&!r.imageUrl.includes("dicebear")?[r.imageUrl]:[];return r._fallbackImage&&e.push(r._fallbackImage),[...e,...ea(r).filter(r=>!e.includes(r))]},[r]),[s,o]=(0,l.useState)(0),n=(0,l.useCallback)(()=>{o(e=>e+1)},[r.id,t,s]);return s>=t.length?(0,a.jsx)("div",{className:"w-full h-full flex items-center justify-center text-white/20 text-xs bg-white/5 rounded",children:"?"}):(0,a.jsx)(V.default,{src:t[s],alt:r.name||r.id,fill:!0,loading:"lazy",className:"object-contain",sizes:"140px",onError:n,unoptimized:!0},t[s])}),es=(0,l.memo)(function(e){var r,t;let{item:l,equipped:s,onEquip:o}=e;return(0,a.jsxs)("div",{onClick:()=>o(l),style:{width:152,height:202},className:["flex flex-col items-center rounded-lg p-2 border transition-all cursor-pointer select-none",s?"border-primary/70 bg-primary/10 shadow-[0_0_12px_hsl(43_90%_55%/0.3)]":"border-white/10 bg-black/20 hover:border-primary/40 hover:bg-black/30"].join(" "),children:[(0,a.jsxs)("div",{className:"relative w-full flex-1 mb-1",children:[(0,a.jsx)(el,{item:l}),s&&(0,a.jsx)("div",{className:"absolute top-0 right-0 bg-primary rounded-full p-0.5",children:(0,a.jsx)(Z.A,{size:9,className:"text-primary-foreground"})})]}),(0,a.jsx)("span",{className:"text-[9px] uppercase font-bold px-1 py-0.5 rounded border mb-0.5 ".concat(null!==(r=et[l.rarity])&&void 0!==r?r:"text-gray-400"),children:l.rarity}),(0,a.jsx)("div",{className:"text-[10px] text-center text-white/60 truncate w-full leading-tight",children:null!==(t=l.name)&&void 0!==t?t:l.id})]})});function eo(e){let{items:r,isEquipped:t,equipItem:s}=e,o=(0,l.useRef)(null),[n,i]=(0,l.useState)(0),[d,c]=(0,l.useState)(600),[m,x]=(0,l.useState)(800);(0,l.useEffect)(()=>{let e=o.current;if(!e)return;let r=new ResizeObserver(e=>{let[r]=e;c(r.contentRect.height),x(r.contentRect.width)});return r.observe(e),c(e.clientHeight),x(e.clientWidth),()=>r.disconnect()},[]);let u=Math.max(1,Math.floor(m/160)),p=Math.ceil(r.length/u),g=Math.max(0,Math.floor(n/210)-3),h=Math.min(p-1,Math.ceil((n+d)/210)+3),b=[];for(let e=g;e<=h;e++)b.push(e);let f=(0,l.useCallback)(e=>{i(e.currentTarget.scrollTop)},[]);return(0,a.jsx)("div",{ref:o,onScroll:f,className:"overflow-y-auto overflow-x-hidden w-full h-full",style:{position:"relative"},children:(0,a.jsx)("div",{style:{height:210*p,position:"relative"},children:b.map(e=>(0,a.jsx)("div",{style:{position:"absolute",top:210*e,left:0,right:0,height:210,display:"flex",gap:8,padding:"4px 0"},children:Array.from({length:u}).map((l,o)=>{let n=e*u+o;if(n>=r.length)return(0,a.jsx)("div",{style:{width:152}},o);let i=r[n];return(0,a.jsx)(es,{item:i,equipped:t(i.id),onEquip:s},i.id)})},e))})})}function en(e){let{items:r,loading:t}=e,{equipItem:s,equipSet:o,isEquipped:n,sets:i}=O();(0,l.useEffect)(()=>{r.length>0&&console.log("Sample Item Structure:",r[0])},[r]);let[d,c]=(0,l.useState)(""),[m,x]=(0,l.useState)("ALL"),[u,p]=(0,l.useState)("ALL"),g=(0,l.useMemo)(()=>{let e=d.trim().toLowerCase();return"SET"===m?i.filter(r=>!e||!!r.name.toLowerCase().includes(e)).map(e=>{let r=e.items&&e.items.length>0&&e.items[0].imageUrl||e.avatarItemIds&&e.avatarItemIds.length>0&&f(e.avatarItemIds[0],"avatar")||e.avatarItemSets&&e.avatarItemSets.length>0&&f(e.avatarItemSets[0],"set")||"";return{id:e.id,name:e.name,type:"SET",rarity:"COMMON",imageUrl:e.promoImageUrl||f(e.id,"set"),_fallbackImage:r,_originalSet:e}}):r.filter(r=>{var t;return("ALL"===m||r.type===m)&&("ALL"===u||r.rarity===u)&&(!e||!!(r.id.toLowerCase().includes(e)||(null!==(t=r.name)&&void 0!==t?t:"").toLowerCase().includes(e)))})},[r,i,d,m,u]),h=(0,l.useCallback)(e=>{"SET"===e.type&&e._originalSet?o(e._originalSet):s(e)},[s,o]);return t?(0,a.jsxs)("div",{className:"flex items-center justify-center h-64 text-muted-foreground gap-3",children:[(0,a.jsx)(W.A,{className:"animate-spin",size:20}),(0,a.jsx)("span",{children:"Caricamento oggetti..."})]}):(0,a.jsxs)("div",{className:"flex flex-col",style:{height:"calc(100vh - 180px)",minHeight:400},children:[(0,a.jsxs)("div",{className:"shrink-0 flex flex-col gap-4 mb-4 bg-card/40 backdrop-blur-sm border border-border/60 rounded-xl p-4 shadow-sm",children:[(0,a.jsxs)("div",{className:"flex gap-3 items-center",children:[(0,a.jsxs)("div",{className:"relative flex-1",children:[(0,a.jsx)($.A,{size:16,className:"absolute left-3 top-1/2 -translate-y-1/2 text-muted-foreground pointer-events-none"}),(0,a.jsx)("input",{type:"text",placeholder:"Cerca oggetto...",value:d,onChange:e=>c(e.target.value),className:"w-full pl-9 pr-9 py-2.5 text-sm bg-black/20 border border-white/10 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary/50 transition-all placeholder:text-muted-foreground/70"}),d&&(0,a.jsx)("button",{onClick:()=>c(""),className:"absolute right-3 top-1/2 -translate-y-1/2 text-muted-foreground hover:text-foreground p-1 rounded-full hover:bg-white/10 transition-colors",children:(0,a.jsx)(P.A,{size:14})})]}),(0,a.jsxs)("div",{className:"relative min-w-[140px]",children:[(0,a.jsx)("select",{value:u,onChange:e=>p(e.target.value),className:"w-full appearance-none bg-black/20 border border-white/10 text-sm rounded-lg pl-3 pr-8 py-2.5 focus:outline-none focus:ring-2 focus:ring-primary/50 cursor-pointer hover:bg-black/30 transition-colors",children:er.map(e=>(0,a.jsx)("option",{value:e,className:"bg-gray-900",children:"ALL"===e?"Tutte le rarit\xe0":e},e))}),(0,a.jsx)("div",{className:"absolute right-3 top-1/2 -translate-y-1/2 pointer-events-none text-muted-foreground",children:(0,a.jsx)("svg",{width:"10",height:"6",viewBox:"0 0 10 6",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,a.jsx)("path",{d:"M1 1L5 5L9 1",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})})})]})]}),(0,a.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center px-1",children:[(0,a.jsx)("span",{className:"text-xs font-bold text-muted-foreground uppercase tracking-wider",children:"Categorie"}),(0,a.jsxs)("span",{className:"text-xs text-muted-foreground font-mono bg-black/20 px-2 py-0.5 rounded",children:[g.length.toLocaleString()," items"]})]}),(0,a.jsx)("div",{className:"flex gap-2 overflow-x-auto pb-2 -mx-1 px-1 custom-scrollbar scrollbar-hide select-none",children:ee.map(e=>(0,a.jsx)("button",{onClick:()=>x(e),className:"whitespace-nowrap px-4 py-1.5 rounded-lg text-xs font-bold transition-all border shrink-0 ".concat(m===e?"bg-primary text-primary-foreground border-primary shadow-lg shadow-primary/20 scale-105":"bg-black/20 text-muted-foreground border-white/5 hover:bg-black/40 hover:text-foreground hover:border-white/20"),children:"ALL"===e?"TUTTI":"SET"===e?"\uD83C\uDF81 SET":e},e))})]})]}),0===g.length?(0,a.jsx)("div",{className:"flex-1 flex items-center justify-center text-muted-foreground text-sm",children:"Nessun oggetto corrisponde ai filtri"}):(0,a.jsx)("div",{className:"flex-1 overflow-hidden rounded-xl border border-white/5",children:(0,a.jsx)(eo,{items:g,isEquipped:"SET"===m?()=>!1:n,equipItem:h})})]})}var ei=t(2640);let ed={VILLAGER:"Villaggio",WEREWOLF:"Lupi",SOLO:"Solitario",RANDOM:"Casuale",VOTING:"Voto"},ec={GOOD:"Buona",EVIL:"Malvagia",UNKNOWN:"Sconosciuta",NONE:"Nessuna"};function em(e){let{roles:r}=e,[t,s]=(0,l.useState)(""),[o,n]=(0,l.useState)("ALL"),i=Array.isArray(r)?r:Object.values(r||{}),d=i.filter(e=>!!((e.name||"").toLowerCase().includes(t.toLowerCase())||(e.team||"").toLowerCase().includes(t.toLowerCase()))&&("BASE"===o?!e.isAdvanced:"ADVANCED"!==o||e.isAdvanced));return((0,l.useEffect)(()=>{console.log("[RoleGallery] Received roles:",i.length,i[0])},[i]),0===i.length)?(0,a.jsxs)("div",{className:"flex flex-col items-center justify-center py-20 text-muted-foreground border border-dashed border-border rounded-xl",children:[(0,a.jsx)("p",{className:"text-lg font-bold",children:"Nessun ruolo ricevuto dall'API"}),(0,a.jsx)("p",{className:"text-sm",children:"Sto usando i dati di backup..."})]}):(0,a.jsxs)("div",{className:"flex flex-col gap-6",children:[(0,a.jsx)("div",{className:"flex justify-center gap-2",children:["ALL","BASE","ADVANCED"].map(e=>(0,a.jsx)("button",{onClick:()=>n(e),className:"px-6 py-2 rounded-full text-sm font-bold transition-all border ".concat(o===e?"bg-primary text-primary-foreground border-primary shadow-lg scale-105":"bg-card/50 text-muted-foreground border-border hover:bg-card hover:text-foreground"),children:"ALL"===e?"Tutti":"BASE"===e?"Base":"Avanzati"},e))}),(0,a.jsxs)("div",{className:"relative max-w-md mx-auto w-full",children:[(0,a.jsx)($.A,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-muted-foreground",size:18}),(0,a.jsx)("input",{type:"text",placeholder:"Cerca ruolo (es. Veggente, Villico)...",value:t,onChange:e=>s(e.target.value),className:"w-full bg-card/30 border border-border rounded-full py-3 pl-10 pr-4 focus:outline-none focus:ring-2 focus:ring-primary/50 transition-all"})]}),(0,a.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4",children:d.map((e,r)=>{var t;let l=ed[e.team||""]||e.team||"Sconosciuto",s=ec[e.aura||""]||e.aura;return(0,a.jsxs)("div",{className:"group bg-card/30 border border-border rounded-xl overflow-hidden hover:border-primary/50 hover:bg-card/50 transition-all duration-300 flex flex-col h-full",children:[(0,a.jsxs)("div",{className:"flex items-center gap-4 p-4 border-b border-border/50 bg-black/10",children:[(0,a.jsx)("div",{className:"relative w-14 h-14 shrink-0 bg-black/20 rounded-lg p-1 border border-white/5 shadow-inner",children:(0,a.jsx)(V.default,{src:k.resolveImageUrl(e.id,"role",null===(t=e.image)||void 0===t?void 0:t.url),alt:e.name||"Role Image",fill:!0,className:"object-contain drop-shadow-md group-hover:scale-110 transition-transform",unoptimized:!0})}),(0,a.jsxs)("div",{className:"min-w-0",children:[(0,a.jsx)("h3",{className:"font-bold text-lg truncate text-foreground group-hover:text-primary transition-colors",children:e.name}),(0,a.jsx)("div",{className:"flex flex-wrap gap-2 mt-1",children:(0,a.jsxs)("span",{className:"inline-flex items-center gap-1 px-1.5 py-0.5 rounded text-[10px] font-bold uppercase tracking-wider border ".concat("VILLAGER"===e.team?"bg-blue-500/10 text-blue-400 border-blue-500/20":"WEREWOLF"===e.team?"bg-red-500/10 text-red-400 border-red-500/20":"bg-purple-500/10 text-purple-400 border-purple-500/20"),children:[(0,a.jsx)(z.A,{size:10}),l]})})]})]}),(0,a.jsxs)("div",{className:"p-4 flex flex-col gap-3 flex-grow",children:[e.description&&(0,a.jsx)("p",{className:"text-sm text-muted-foreground leading-relaxed flex-grow",children:e.description}),e.aura&&(0,a.jsxs)("div",{className:"flex items-center gap-2 text-xs font-medium pt-2 border-t border-border/30",children:[(0,a.jsx)(ei.A,{size:12,className:"GOOD"===e.aura?"text-green-400":"EVIL"===e.aura?"text-red-400":"text-gray-400"}),(0,a.jsx)("span",{className:"text-muted-foreground",children:"Aura:"}),(0,a.jsx)("span",{className:"GOOD"===e.aura?"text-green-400":"EVIL"===e.aura?"text-red-400":"text-gray-400",children:s})]})]})]},e.id||"role-".concat(r))})}),0===d.length&&(0,a.jsx)("div",{className:"text-center py-10 opacity-50",children:"Nessun ruolo trovato con questo nome."})]})}var ex=t(4267),eu=t(1902),ep=t(1719),eg=t(6368),eh=t(98),eb=t(7825);function ef(){let[e,r]=(0,l.useState)("search"),[t,s]=(0,l.useState)([]),[o,n]=(0,l.useState)(!0),[i,d]=(0,l.useState)(""),[c,m]=(0,l.useState)([]),[x,u]=(0,l.useState)(!1),[p,g]=(0,l.useState)(!1),[h,b]=(0,l.useState)(!1),[f,v]=(0,l.useState)({joinType:"ALL",language:"",notFull:!1,minLevel:0,sortBy:"XP"});(0,l.useEffect)(()=>{async function e(){try{u(!0);let e=await k.searchClans("a");m(e),g(!0)}catch(e){console.error("Initial clan search failed",e)}finally{u(!1)}}(async function(){s(await k.getClanQuests()),n(!1)})(),e()},[]);let y=async e=>{e&&e.preventDefault(),u(!0),g(!0);try{let e={name:i,sortBy:f.sortBy,notFull:f.notFull,minLevel:f.minLevel>0?f.minLevel:void 0,language:f.language||void 0};"ALL"!==f.joinType&&(e.joinType=f.joinType);let r=await k.searchClans(e);m(r)}catch(e){console.error("Clan search failed",e),m([])}finally{u(!1)}},j=(e,r)=>{if(!e)return(0,a.jsx)(z.A,{size:20,className:"text-muted-foreground"});if(e.startsWith("font-awesome-5:")){let t=e.split(":");if(t.length>=2){let e=t[1],l=t[2]||"solid",s="fas";return"solid"===l?s="fas":"regular"===l?s="far":"light"===l?s="fal":"brands"===l&&(s="fab"),(0,a.jsx)("i",{className:"".concat(s," fa-").concat(e," text-xl"),style:{color:r||"#ffffff"}})}}return(0,a.jsx)(z.A,{size:20,className:"text-muted-foreground"})},N=t.filter(e=>e.rewards.some(e=>"GEMS"===e.type)),w=t.filter(e=>e.rewards.some(e=>"GOLD"===e.type)&&!e.rewards.some(e=>"GEMS"===e.type)),A=t.filter(e=>!e.rewards.some(e=>"GEMS"===e.type||"GOLD"===e.type));return(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)("div",{className:"p-3 bg-primary/20 rounded-xl text-primary",children:(0,a.jsx)(ei.A,{size:32})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h2",{className:"text-2xl font-bold font-serif",children:"Clan & Quest"}),(0,a.jsx)("p",{className:"text-muted-foreground",children:"Gestisci le missioni e cerca clan"})]})]}),(0,a.jsxs)("div",{className:"flex bg-black/20 p-1 rounded-lg border border-white/10",children:[(0,a.jsx)("button",{onClick:()=>r("search"),className:"px-4 py-2 rounded-md text-sm font-bold transition-all ".concat("search"===e?"bg-primary text-primary-foreground shadow-lg":"text-muted-foreground hover:text-foreground"),children:"Cerca Clan"}),(0,a.jsx)("button",{onClick:()=>r("quests"),className:"px-4 py-2 rounded-md text-sm font-bold transition-all ".concat("quests"===e?"bg-primary text-primary-foreground shadow-lg":"text-muted-foreground hover:text-foreground"),children:"Quest Attive"})]})]}),"search"===e?(0,a.jsxs)("div",{className:"animate-in fade-in slide-in-from-bottom-2",children:[(0,a.jsxs)("form",{onSubmit:y,className:"relative max-w-2xl mx-auto mb-8 space-y-4",children:[(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)($.A,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-muted-foreground",size:20}),(0,a.jsx)("input",{type:"text",placeholder:"Cerca un clan per nome...",value:i,onChange:e=>d(e.target.value),className:"w-full bg-card/30 border border-border rounded-xl py-4 pl-12 pr-6 text-lg focus:outline-none focus:ring-2 focus:ring-primary/50 transition-all"}),(0,a.jsx)("button",{type:"submit",disabled:x,className:"absolute right-2 top-1/2 -translate-y-1/2 bg-primary text-primary-foreground px-4 py-2 rounded-lg text-sm font-bold hover:bg-primary/90 disabled:opacity-50 transition-colors",children:x?(0,a.jsx)(W.A,{className:"animate-spin",size:16}):"Cerca"})]}),(0,a.jsx)("div",{className:"flex justify-end",children:(0,a.jsxs)("button",{type:"button",onClick:()=>b(!h),className:"flex items-center gap-2 text-sm text-muted-foreground hover:text-foreground transition-colors",children:[(0,a.jsx)(ex.A,{size:16}),(0,a.jsx)("span",{children:"Ricerca Avanzata"}),h?(0,a.jsx)(eu.A,{size:16}):(0,a.jsx)(ep.A,{size:16})]})}),h&&(0,a.jsx)("div",{className:"bg-card/20 border border-border rounded-xl p-6 animate-in fade-in slide-in-from-top-2",children:(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)("label",{className:"text-xs font-bold uppercase text-muted-foreground",children:"Tipo Clan"}),(0,a.jsxs)("select",{value:f.joinType,onChange:e=>v(r=>({...r,joinType:e.target.value})),className:"w-full bg-black/40 border border-white/10 rounded-lg p-2 text-sm focus:outline-none focus:border-primary/50",children:[(0,a.jsx)("option",{value:"ALL",children:"Tutti"}),(0,a.jsx)("option",{value:"PUBLIC",children:"Pubblico"}),(0,a.jsx)("option",{value:"JOIN_BY_REQUEST",children:"Su Richiesta"}),(0,a.jsx)("option",{value:"PRIVATE",children:"Privato / Solo Invito"})]})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)("label",{className:"text-xs font-bold uppercase text-muted-foreground",children:"Lingua"}),(0,a.jsxs)("select",{value:f.language,onChange:e=>v(r=>({...r,language:e.target.value})),className:"w-full bg-black/40 border border-white/10 rounded-lg p-2 text-sm focus:outline-none focus:border-primary/50",children:[(0,a.jsx)("option",{value:"",children:"Tutte le lingue"}),(0,a.jsx)("option",{value:"EN",children:"Inglese"}),(0,a.jsx)("option",{value:"DE",children:"Tedesco"}),(0,a.jsx)("option",{value:"FR",children:"Francese"}),(0,a.jsx)("option",{value:"ES",children:"Spagnolo"}),(0,a.jsx)("option",{value:"IT",children:"Italiano"}),(0,a.jsx)("option",{value:"PT",children:"Portoghese"}),(0,a.jsx)("option",{value:"RU",children:"Russo"}),(0,a.jsx)("option",{value:"TR",children:"Turco"}),(0,a.jsx)("option",{value:"PL",children:"Polacco"})]})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)("label",{className:"text-xs font-bold uppercase text-muted-foreground",children:"Livello Minimo"}),(0,a.jsx)("input",{type:"number",min:"0",value:f.minLevel,onChange:e=>v(r=>({...r,minLevel:parseInt(e.target.value)||0})),className:"w-full bg-black/40 border border-white/10 rounded-lg p-2 text-sm focus:outline-none focus:border-primary/50"})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)("label",{className:"text-xs font-bold uppercase text-muted-foreground",children:"Ordina per"}),(0,a.jsxs)("select",{value:f.sortBy,onChange:e=>v(r=>({...r,sortBy:e.target.value})),className:"w-full bg-black/40 border border-white/10 rounded-lg p-2 text-sm focus:outline-none focus:border-primary/50",children:[(0,a.jsx)("option",{value:"XP",children:"XP"}),(0,a.jsx)("option",{value:"CREATION_TIME",children:"Data di Creazione"}),(0,a.jsx)("option",{value:"QUEST_HISTORY_COUNT",children:"Quest Completate"}),(0,a.jsx)("option",{value:"NAME",children:"Nome"}),(0,a.jsx)("option",{value:"MIN_LEVEL",children:"Livello Richiesto"})]})]}),(0,a.jsxs)("div",{className:"md:col-span-2 flex items-center gap-2 pt-2",children:[(0,a.jsx)("div",{className:"w-5 h-5 rounded border border-white/20 flex items-center justify-center cursor-pointer transition-colors ".concat(f.notFull?"bg-primary border-primary":"bg-black/40"),onClick:()=>v(e=>({...e,notFull:!e.notFull})),children:f.notFull&&(0,a.jsx)(Z.A,{size:14,className:"text-primary-foreground"})}),(0,a.jsx)("span",{className:"text-sm cursor-pointer select-none",onClick:()=>v(e=>({...e,notFull:!e.notFull})),children:"Solo clan non pieni"})]})]})})]}),p&&(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("h3",{className:"text-lg font-bold opacity-80",children:["Risultati (",c.length,")"]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[c.map(e=>(0,a.jsxs)("div",{className:"bg-card/20 border border-border rounded-xl p-4 flex items-center gap-4 hover:bg-card/40 transition-colors",children:[(0,a.jsx)("div",{className:"w-12 h-12 rounded-full bg-black/40 flex items-center justify-center border border-white/10 shrink-0",children:j(e.icon,e.iconColor)}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h4",{className:"font-bold text-lg leading-none mb-1",children:e.name}),(0,a.jsxs)("div",{className:"flex items-center gap-3 text-xs text-muted-foreground",children:[(0,a.jsxs)("span",{children:["Membri: ",e.memberCount]}),e.language&&(0,a.jsx)("span",{className:"uppercase border border-white/10 px-1 rounded",children:e.language})]}),e.description&&(0,a.jsx)("p",{className:"text-xs text-muted-foreground/80 mt-2 line-clamp-1",children:e.description})]})]},e.id)),0===c.length&&!x&&(0,a.jsx)("div",{className:"col-span-full text-center py-10 opacity-50 border border-dashed border-border rounded-xl",children:"Nessun clan trovato con questo nome."})]})]})]}):(0,a.jsx)("div",{className:"animate-in fade-in slide-in-from-bottom-2",children:o?(0,a.jsxs)("div",{className:"flex flex-col items-center justify-center py-20 animate-pulse text-muted-foreground",children:[(0,a.jsx)(W.A,{className:"animate-spin mb-2"}),(0,a.jsx)("p",{children:"Caricamento Clan Quest..."})]}):(0,a.jsxs)("div",{className:"space-y-12 pb-20",children:[N.length>0&&(0,a.jsxs)("section",{children:[(0,a.jsxs)("h3",{className:"text-xl font-bold mb-6 flex items-center gap-2 text-pink-400 border-b border-pink-500/20 pb-2",children:[(0,a.jsx)(eg.A,{className:"fill-current",size:24}),"Missioni Gemme (",N.length,")"]}),(0,a.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:N.map(e=>(0,a.jsxs)("div",{className:"group bg-card/20 border border-border rounded-xl overflow-hidden hover:bg-card/40 hover:border-pink-500/30 transition-all hover:-translate-y-1 duration-300 shadow-lg",children:[(0,a.jsxs)("div",{className:"relative aspect-video w-full bg-black/40",children:[e.promoImageUrl?(0,a.jsx)("img",{src:e.promoImageUrl,alt:e.name,className:"w-full h-full object-cover transition-transform group-hover:scale-105 duration-500",onError:e=>{e.target.style.display="none",e.target.parentElement.classList.add("flex","items-center","justify-center")}}):(0,a.jsx)("div",{className:"w-full h-full flex items-center justify-center text-muted-foreground bg-gradient-to-br from-pink-900/20 to-transparent",children:(0,a.jsx)(eh.A,{size:48,className:"opacity-20"})}),(0,a.jsx)("div",{className:"absolute inset-0 bg-gradient-to-t from-black/90 via-black/40 to-transparent pointer-events-none"}),(0,a.jsx)("div",{className:"absolute bottom-0 left-0 right-0 p-4",children:(0,a.jsx)("h3",{className:"font-bold text-lg text-white leading-tight drop-shadow-md line-clamp-2",children:e.name})})]}),(0,a.jsxs)("div",{className:"p-4 space-y-4",children:[(0,a.jsx)("p",{className:"text-sm text-muted-foreground line-clamp-3 min-h-[3rem]",children:e.description}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)("h4",{className:"text-[10px] font-bold uppercase tracking-widest text-muted-foreground/60",children:"Ricompense"}),(0,a.jsx)("div",{className:"flex flex-wrap gap-2",children:e.rewards.map((e,r)=>(0,a.jsxs)("div",{className:"flex items-center gap-2 px-3 py-1.5 rounded-lg border text-sm font-bold ".concat("GEMS"===e.type?"bg-pink-500/10 border-pink-500/30 text-pink-200":"GOLD"===e.type?"bg-yellow-500/10 border-yellow-500/30 text-yellow-200":"bg-black/40 border-white/10 text-muted-foreground"),children:["GOLD"===e.type&&(0,a.jsx)(eb.A,{size:14,className:"text-yellow-400"}),"GEMS"===e.type&&(0,a.jsx)(eg.A,{size:14,className:"text-pink-400"}),"XP"===e.type&&(0,a.jsx)(eh.A,{size:14,className:"text-blue-400"}),(0,a.jsxs)("span",{children:[e.amount," ",e.type]})]},r))})]})]})]},e.id))})]}),w.length>0&&(0,a.jsxs)("section",{children:[(0,a.jsxs)("h3",{className:"text-xl font-bold mb-6 flex items-center gap-2 text-yellow-400 border-b border-yellow-500/20 pb-2",children:[(0,a.jsx)(eb.A,{className:"fill-current",size:24}),"Missioni Oro (",w.length,")"]}),(0,a.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:w.map(e=>(0,a.jsxs)("div",{className:"group bg-card/20 border border-border rounded-xl overflow-hidden hover:bg-card/40 hover:border-yellow-500/30 transition-all hover:-translate-y-1 duration-300 shadow-lg",children:[(0,a.jsxs)("div",{className:"relative aspect-video w-full bg-black/40",children:[e.promoImageUrl?(0,a.jsx)("img",{src:e.promoImageUrl,alt:e.name,className:"w-full h-full object-cover transition-transform group-hover:scale-105 duration-500",onError:e=>{e.target.style.display="none",e.target.parentElement.classList.add("flex","items-center","justify-center")}}):(0,a.jsx)("div",{className:"w-full h-full flex items-center justify-center text-muted-foreground bg-gradient-to-br from-yellow-900/20 to-transparent",children:(0,a.jsx)(eh.A,{size:48,className:"opacity-20"})}),(0,a.jsx)("div",{className:"absolute inset-0 bg-gradient-to-t from-black/90 via-black/40 to-transparent pointer-events-none"}),(0,a.jsx)("div",{className:"absolute bottom-0 left-0 right-0 p-4",children:(0,a.jsx)("h3",{className:"font-bold text-lg text-white leading-tight drop-shadow-md line-clamp-2",children:e.name})})]}),(0,a.jsxs)("div",{className:"p-4 space-y-4",children:[(0,a.jsx)("p",{className:"text-sm text-muted-foreground line-clamp-3 min-h-[3rem]",children:e.description}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)("h4",{className:"text-[10px] font-bold uppercase tracking-widest text-muted-foreground/60",children:"Ricompense"}),(0,a.jsx)("div",{className:"flex flex-wrap gap-2",children:e.rewards.map((e,r)=>(0,a.jsxs)("div",{className:"flex items-center gap-2 px-3 py-1.5 rounded-lg border text-sm font-bold ".concat("GEMS"===e.type?"bg-pink-500/10 border-pink-500/30 text-pink-200":"GOLD"===e.type?"bg-yellow-500/10 border-yellow-500/30 text-yellow-200":"bg-black/40 border-white/10 text-muted-foreground"),children:["GOLD"===e.type&&(0,a.jsx)(eb.A,{size:14,className:"text-yellow-400"}),"GEMS"===e.type&&(0,a.jsx)(eg.A,{size:14,className:"text-pink-400"}),"XP"===e.type&&(0,a.jsx)(eh.A,{size:14,className:"text-blue-400"}),(0,a.jsxs)("span",{children:[e.amount," ",e.type]})]},r))})]})]})]},e.id))})]}),A.length>0&&(0,a.jsxs)("section",{children:[(0,a.jsxs)("h3",{className:"text-xl font-bold mb-6 flex items-center gap-2 text-blue-400 border-b border-blue-500/20 pb-2",children:[(0,a.jsx)(eh.A,{className:"fill-current",size:24}),"Altre Missioni (",A.length,")"]}),(0,a.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:A.map(e=>(0,a.jsxs)("div",{className:"group bg-card/20 border border-border rounded-xl overflow-hidden hover:bg-card/40 transition-all hover:-translate-y-1 duration-300 shadow-lg",children:[(0,a.jsxs)("div",{className:"relative aspect-video w-full bg-black/40",children:[e.promoImageUrl?(0,a.jsx)("img",{src:e.promoImageUrl,alt:e.name,className:"w-full h-full object-cover transition-transform group-hover:scale-105 duration-500",onError:e=>{e.target.style.display="none",e.target.parentElement.classList.add("flex","items-center","justify-center")}}):(0,a.jsx)("div",{className:"w-full h-full flex items-center justify-center text-muted-foreground bg-gradient-to-br from-blue-900/20 to-transparent",children:(0,a.jsx)(eh.A,{size:48,className:"opacity-20"})}),(0,a.jsx)("div",{className:"absolute inset-0 bg-gradient-to-t from-black/90 via-black/40 to-transparent pointer-events-none"}),(0,a.jsx)("div",{className:"absolute bottom-0 left-0 right-0 p-4",children:(0,a.jsx)("h3",{className:"font-bold text-lg text-white leading-tight drop-shadow-md line-clamp-2",children:e.name})})]}),(0,a.jsxs)("div",{className:"p-4 space-y-4",children:[(0,a.jsx)("p",{className:"text-sm text-muted-foreground line-clamp-3 min-h-[3rem]",children:e.description}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)("h4",{className:"text-[10px] font-bold uppercase tracking-widest text-muted-foreground/60",children:"Ricompense"}),(0,a.jsx)("div",{className:"flex flex-wrap gap-2",children:e.rewards.map((e,r)=>(0,a.jsx)("div",{className:"flex items-center gap-2 px-3 py-1.5 rounded-lg bg-black/40 border border-white/10 text-sm font-bold text-muted-foreground",children:(0,a.jsxs)("span",{children:[e.amount," ",e.type]})},r))})]})]})]},e.id))})]}),0===t.length&&(0,a.jsx)("div",{className:"col-span-full text-center py-20 opacity-50 border border-dashed border-border rounded-xl",children:"Nessuna quest attiva al momento."})]})})]})}function ev(){let{roles:e,items:r,backgrounds:t,activeOffers:s,loading:x}=O(),[u,p]=(0,l.useState)("dashboard");return(0,a.jsxs)("div",{className:"min-h-screen bg-background relative flex flex-col md:flex-row",children:[(0,a.jsx)(m.B,{}),(0,a.jsxs)("div",{className:"lg:hidden p-4 border-b border-border bg-background/80 backdrop-blur sticky top-0 z-50 flex items-center justify-between",children:[(0,a.jsx)(o(),{href:"/",className:"p-2 -ml-2 text-muted-foreground hover:text-primary transition-colors",children:(0,a.jsx)(n.A,{size:24})}),(0,a.jsx)("span",{className:"font-bold font-serif gold-text text-lg",children:"Wolvesville DB"}),(0,a.jsx)("div",{className:"w-8"})," "]}),(0,a.jsx)("div",{className:"hidden lg:block fixed top-0 left-0 h-screen w-72 border-r border-border/50 bg-background/95 backdrop-blur-md z-[100] overflow-y-auto shadow-2xl transition-transform duration-300 ".concat("wardrobe"===u?"-translate-x-full":"translate-x-0"),children:(0,a.jsxs)("div",{className:"p-6 h-full flex flex-col",children:[(0,a.jsxs)(o(),{href:"/",className:"flex items-center gap-2 text-muted-foreground hover:text-primary mb-8 transition-colors text-sm font-medium",children:[(0,a.jsx)(n.A,{size:16}),(0,a.jsx)("span",{children:"Torna all'Hub"})]}),(0,a.jsxs)("div",{className:"mb-6 px-2",children:[(0,a.jsx)("h1",{className:"font-serif font-bold text-xl gold-text tracking-wide",children:"Wolvesville DB"}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground mt-1",children:"Unofficial Tool v2.3.0"})]}),(0,a.jsx)(_,{activeTab:u,onTabChange:p})]})}),(0,a.jsx)("main",{className:"flex-grow min-h-screen relative z-10 transition-all duration-300 ".concat("wardrobe"===u?"ml-0":"lg:ml-72"),children:(0,a.jsx)("div",{className:"p-4 md:p-8 lg:p-12 max-w-[1600px] mx-auto",children:(()=>{let l=e=>{let{title:r}=e;return(0,a.jsxs)("div",{className:"flex items-center gap-4 mb-8 pb-4 border-b border-border/40 animate-in fade-in slide-in-from-left-4 duration-500",children:[(0,a.jsx)("button",{onClick:()=>p("dashboard"),className:"p-2 rounded-full bg-primary/10 hover:bg-primary/20 text-primary transition-colors group",title:"Torna alla Dashboard",children:(0,a.jsx)(n.A,{className:"w-5 h-5 group-hover:-translate-x-1 transition-transform"})}),(0,a.jsx)("h2",{className:"text-3xl font-serif font-bold text-foreground",children:r})]})};switch(u){case"dashboard":return(0,a.jsxs)("div",{className:"space-y-6 animate-in fade-in slide-in-from-bottom-4 duration-500",children:[(0,a.jsxs)("div",{className:"p-8 rounded-2xl bg-gradient-to-br from-primary/20 via-primary/5 to-transparent border border-primary/20 relative overflow-hidden shadow-xl",children:[(0,a.jsxs)("div",{className:"relative z-10",children:[(0,a.jsx)("h1",{className:"text-4xl font-serif font-bold mb-2",children:"Benvenuto su Wolvesville DB"}),(0,a.jsx)("p",{className:"text-lg text-muted-foreground max-w-xl",children:"Il tuo hub definitivo per esplorare ruoli, creare outfit e gestire le attivit\xe0 del clan. Sincronizzato in tempo reale con i server ufficiali."})]}),(0,a.jsx)("div",{className:"absolute -right-10 -bottom-20 opacity-20 rotate-12 pointer-events-none",children:(0,a.jsx)(V.default,{src:"https://cdn.wolvesville.com/roleIcons/werewolf.png",width:300,height:300,alt:"Werewolf"})})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[(0,a.jsxs)("div",{className:"bg-card/40 p-6 rounded-xl border border-border hover:border-primary/50 transition-all cursor-pointer group",onClick:()=>p("roles"),children:[(0,a.jsx)("h3",{className:"text-2xl font-bold mb-1 group-hover:text-primary transition-colors",children:e.length}),(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:"Ruoli Indicizzati"})]}),(0,a.jsxs)("div",{className:"bg-card/40 p-6 rounded-xl border border-border hover:border-primary/50 transition-all cursor-pointer group",onClick:()=>p("wardrobe"),children:[(0,a.jsx)("h3",{className:"text-2xl font-bold mb-1 group-hover:text-primary transition-colors",children:r.length}),(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:"Oggetti Cosmetici"})]}),(0,a.jsxs)("div",{className:"bg-card/40 p-6 rounded-xl border border-border hover:border-primary/50 transition-all cursor-pointer group",onClick:()=>p("backgrounds"),children:[(0,a.jsx)("h3",{className:"text-2xl font-bold mb-1 group-hover:text-primary transition-colors",children:t.length}),(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:"Sfondi Disponibili"})]})]}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3 pb-2 border-b border-border/40",children:[(0,a.jsx)("div",{className:"p-2 rounded-lg bg-yellow-500/10 text-yellow-500",children:(0,a.jsx)(i.A,{size:24})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h2",{className:"text-2xl font-serif font-bold text-foreground",children:"Offerte del Giorno"}),(0,a.jsxs)("p",{className:"text-sm text-muted-foreground flex items-center gap-2",children:[(0,a.jsx)("span",{className:"w-2 h-2 rounded-full bg-green-500 animate-pulse"}),"Live dal Negozio"]})]})]}),0===s.length?(0,a.jsx)("div",{className:"p-8 text-center border border-dashed border-border rounded-xl bg-card/20",children:(0,a.jsx)("p",{className:"text-muted-foreground",children:"Nessuna offerta attiva al momento o caricamento in corso..."})}):(0,a.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:s.map(e=>{var r,t,l;return(0,a.jsxs)("div",{className:"group relative bg-card/40 rounded-xl overflow-hidden border border-border hover:border-primary/50 transition-all hover:shadow-lg hover:shadow-primary/10",children:[(0,a.jsxs)("div",{className:"aspect-[2/1] relative overflow-hidden bg-black/20",children:[e.promoImageUrl?(0,a.jsx)(V.default,{src:e.promoImageUrl,alt:"Offer Promo",fill:!0,className:"object-cover transition-transform duration-700 group-hover:scale-110"}):(0,a.jsx)("div",{className:"w-full h-full flex items-center justify-center bg-gradient-to-br from-primary/10 to-transparent",children:(0,a.jsx)(d.A,{className:"w-12 h-12 text-primary/20"})}),(0,a.jsxs)("div",{className:"absolute top-3 right-3 flex flex-col gap-1 items-end",children:[e.costInGems?(0,a.jsxs)("span",{className:"bg-black/60 backdrop-blur border border-pink-500/30 text-pink-400 px-3 py-1 rounded-full text-sm font-bold shadow-lg flex items-center gap-1",children:["\uD83D\uDC8E ",e.costInGems]}):null,e.costInGold?(0,a.jsxs)("span",{className:"bg-black/60 backdrop-blur border border-yellow-500/30 text-yellow-400 px-3 py-1 rounded-full text-sm font-bold shadow-lg flex items-center gap-1",children:["\uD83E\uDE99 ",e.costInGold]}):null]})]}),(0,a.jsxs)("div",{className:"p-4 space-y-3",children:[(0,a.jsx)("div",{className:"flex items-start justify-between",children:(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"font-bold text-lg leading-tight",children:e.avatarItemSets&&e.avatarItemSets.length>0?e.avatarItemSets[0].name:"Bundle Speciale"}),(0,a.jsxs)("p",{className:"text-xs text-muted-foreground mt-1 flex items-center gap-1",children:[(0,a.jsx)(c.A,{size:12})," Scade presto"]})]})}),(0,a.jsxs)("div",{className:"flex gap-2 overflow-x-auto pb-2 scrollbar-thin scrollbar-thumb-primary/20",children:[null===(r=e.avatarItemSets)||void 0===r?void 0:r.map(e=>(0,a.jsxs)("span",{className:"text-xs bg-primary/10 text-primary px-2 py-1 rounded border border-primary/20 whitespace-nowrap",children:["Set: ",e.name]},e.id)),null===(t=e.items)||void 0===t?void 0:t.map(e=>(0,a.jsxs)("span",{className:"text-xs bg-secondary/20 text-secondary-foreground px-2 py-1 rounded border border-secondary/20 whitespace-nowrap",children:["Item: ",e.rarity]},e.id)),null===(l=e.rewards)||void 0===l?void 0:l.map((e,r)=>(0,a.jsxs)("span",{className:"text-xs bg-white/5 text-muted-foreground px-2 py-1 rounded border border-white/10 whitespace-nowrap",children:[e.amount," ",e.type]},r))]})]})]},e.id)})})]})]});case"wardrobe":return(0,a.jsxs)("div",{className:"animate-in fade-in duration-500",children:[(0,a.jsx)(l,{title:"Guardaroba & Item"}),(0,a.jsxs)("div",{className:"flex flex-col xl:flex-row gap-8",children:[(0,a.jsx)("div",{className:"xl:w-80 shrink-0 xl:sticky xl:top-4 self-start",children:(0,a.jsx)(Q,{})}),(0,a.jsx)("div",{className:"flex-grow",children:(0,a.jsx)("div",{className:"bg-card/20 rounded-xl border border-border/50 p-1",children:(0,a.jsx)(en,{items:r,loading:x})})})]})]});case"roles":return(0,a.jsxs)("div",{className:"animate-in fade-in duration-500",children:[(0,a.jsx)(l,{title:"Galleria Ruoli"}),(0,a.jsx)(em,{roles:e})]});case"clans":return(0,a.jsxs)("div",{className:"animate-in fade-in duration-500",children:[(0,a.jsx)(l,{title:"Gestione Clan"}),(0,a.jsx)(ef,{})]});case"backgrounds":return(0,a.jsxs)("div",{className:"animate-in fade-in duration-500",children:[(0,a.jsx)(l,{title:"Sfondi"}),(0,a.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:t.map(e=>(0,a.jsxs)("div",{className:"group relative aspect-video rounded-xl overflow-hidden border border-border hover:border-primary transition-all shadow-lg hover:shadow-primary/20",children:[(0,a.jsx)(V.default,{src:k.resolveImageUrl(e.id,"background",e.imageUrl),alt:e.name||e.id,fill:!0,className:"object-cover transition-transform duration-700 group-hover:scale-110"}),(0,a.jsx)("div",{className:"absolute inset-0 bg-gradient-to-t from-black/90 via-transparent to-transparent opacity-80"}),(0,a.jsxs)("div",{className:"absolute bottom-4 left-4",children:[(0,a.jsx)("h3",{className:"font-bold text-white text-lg",children:e.name||"Sfondo"}),(0,a.jsx)("span",{className:"inline-block px-2 py-0.5 rounded-full bg-black/50 text-xs text-gray-300 border border-white/10 mt-1",children:e.rarity})]})]},e.id))})]});case"wiki":return(0,a.jsxs)("div",{className:"animate-in fade-in duration-500",children:[(0,a.jsx)(l,{title:"Wiki & Changelog"}),(0,a.jsxs)("div",{className:"flex flex-col items-center justify-center py-20 opacity-50 border border-dashed border-border rounded-xl",children:[(0,a.jsx)("p",{className:"font-mono text-xl font-bold",children:"v2.3.0 - Stable"}),(0,a.jsx)("p",{className:"mt-2 text-sm",children:"Documentazione in aggiornamento..."})]})]});default:return null}})()})})]})}function ey(){return(0,a.jsx)(C,{children:(0,a.jsx)(ev,{})})}},8062:(e,r,t)=>{"use strict";t.d(r,{B:()=>s});var a=t(5155),l=t(2115);function s(e){let{color:r}=e,t=(0,l.useRef)(null);return(0,l.useEffect)(()=>{let e;let r=t.current;if(!r)return;let a=r.getContext("2d");if(!a)return;let l=[],s=()=>{r.width=window.innerWidth,r.height=window.innerHeight};s(),window.addEventListener("resize",s);for(let e=0;e<50;e++)l.push({x:Math.random()*r.width,y:Math.random()*r.height,vx:(Math.random()-.5)*.5,vy:(Math.random()-.5)*.5,size:2*Math.random()+.5,opacity:.5*Math.random()+.1,hue:Math.random()>.7?43:270});let o=()=>{for(let e of(a.clearRect(0,0,r.width,r.height),l))e.x+=e.vx,e.y+=e.vy,e.x<0&&(e.x=r.width),e.x>r.width&&(e.x=0),e.y<0&&(e.y=r.height),e.y>r.height&&(e.y=0),a.beginPath(),a.arc(e.x,e.y,e.size,0,2*Math.PI),a.fillStyle=43===e.hue?"hsla(43, 90%, 55%, ".concat(e.opacity,")"):"hsla(270, 60%, 50%, ".concat(e.opacity,")"),a.fill();for(let e=0;e<l.length;e++)for(let r=e+1;r<l.length;r++){let t=l[e].x-l[r].x,s=l[e].y-l[r].y,o=Math.sqrt(t*t+s*s);o<120&&(a.beginPath(),a.moveTo(l[e].x,l[e].y),a.lineTo(l[r].x,l[r].y),a.strokeStyle="hsla(43, 90%, 55%, ".concat(.05*(1-o/120),")"),a.lineWidth=.5,a.stroke())}e=requestAnimationFrame(o)};return o(),()=>{cancelAnimationFrame(e),window.removeEventListener("resize",s)}},[]),(0,a.jsx)("canvas",{ref:t,className:"pointer-events-none fixed inset-0 z-0","aria-hidden":"true"})}},1567:(e,r,t)=>{"use strict";t.d(r,{cn:()=>s});var a=t(3463),l=t(9795);function s(){for(var e=arguments.length,r=Array(e),t=0;t<e;t++)r[t]=arguments[t];return(0,l.QP)((0,a.$)(r))}}},e=>{var r=r=>e(e.s=r);e.O(0,[1,491,441,517,358],()=>r(535)),_N_E=e.O()}]);