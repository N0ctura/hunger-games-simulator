(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[973],{535:(e,r,t)=>{Promise.resolve().then(t.bind(t,7547))},7547:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>eR});var a=t(5155),s=t(2115),l=t(7364),o=t(5870),i=t(3075),n=t(3938);let d=[{id:"villager",name:"Villico (Offline)",description:"Trova i lupi mannari e linciali.",team:"VILLAGER",aura:"GOOD",isAdvanced:!1,image:{url:"https://cdn.wolvesville.com/roleIcons/villager.png",width:128,height:128}},{id:"seer",name:"Veggente (Offline)",description:"Ogni notte puoi rivelare il ruolo di un giocatore.",team:"VILLAGER",aura:"GOOD",isAdvanced:!1,image:{url:"https://cdn.wolvesville.com/roleIcons/seer.png",width:128,height:128}},{id:"medium",name:"Medium (Offline)",description:"Puoi parlare con i morti di notte. Rianimi un giocatore una volta per partita.",team:"VILLAGER",aura:"GOOD",isAdvanced:!1,image:{url:"https://cdn.wolvesville.com/roleIcons/medium.png",width:128,height:128}},{id:"werewolf",name:"Lupo Mannaro (Offline)",description:"Uccidi i villici ogni notte.",team:"WEREWOLF",aura:"EVIL",isAdvanced:!1,image:{url:"https://cdn.wolvesville.com/roleIcons/werewolf.png",width:128,height:128}},{id:"jester",name:"Buffone (Offline)",description:"Fatti linciare dal villaggio per vincere.",team:"SOLO",aura:"NEUTRAL",isAdvanced:!1,image:{url:"https://cdn.wolvesville.com/roleIcons/jester.png",width:128,height:128}},{id:"analyst",name:"Analista (Offline Avanzato)",description:"Analizza i giocatori per scoprire il loro ruolo esatto.",team:"VILLAGER",aura:"GOOD",isAdvanced:!0,image:{url:"https://cdn.wolvesville.com/roleIcons/analyst.png",width:128,height:128}}],c=[{id:"offline_set",name:"Set Offline",items:[{id:"hat_offline",type:"HAT",rarity:"COMMON",imageUrl:"https://cdn.wolvesville.com/avatarItems/hat_santa_claus.png",name:"Cappello Offline"},{id:"shirt_offline",type:"SHIRT",rarity:"COMMON",imageUrl:"https://cdn.wolvesville.com/avatarItems/shirt_santa_claus.png",name:"Maglia Offline"}]}],m=[{id:"bg_village_offline",name:"Villaggio (Offline)",rarity:"COMMON",imageUrl:"https://cdn.wolvesville.com/backgrounds/wolvesville_large_day.png",imageDayUrl:"https://cdn.wolvesville.com/backgrounds/wolvesville_large_day.png",imageNightUrl:"https://cdn.wolvesville.com/backgrounds/wolvesville_large_night.png"}],x=[{id:"loading_offline",url:"https://cdn.wolvesville.com/backgrounds/wolvesville_large_day.png",rarity:"COMMON"}],u=[{id:"quest_offline",name:"Quest Offline",description:"Impossibile caricare le quest. Controlla la connessione.",rewards:[{type:"GOLD",amount:100}]}],p={"aura-seer":{name:"Veggente",rarity:"COMMON",cdnUrl:"https://cdn.wolvesville.com/roleIcons/aura-seer.png"},werewolf:{name:"Lupo Mannaro",rarity:"COMMON",cdnUrl:"https://cdn.wolvesville.com/roleIcons/werewolf.png"},bg_village:{name:"Villaggio (Default)",rarity:"COMMON",cdnUrl:"https://cdn.wolvesville.com/backgrounds/wolvesville_large_day.png"}},g=function(e,r){let t=!(arguments.length>2)||void 0===arguments[2]||arguments[2],a="https://cdn.wolvesville.com",s=t?"@2x.png":".png";switch(r){case"role":return"".concat(a,"/roleIcons/").concat(e,".png");case"background":if("village_day"===e)return"".concat(a,"/backgrounds/wolvesville_large_day.png");return"".concat(a,"/backgrounds/").concat(e).concat("");case"avatar":return"".concat(a,"/avatarItems/").concat(e).concat(s);case"set":return"".concat(a,"/avatarItemSets/").concat(e).concat(s);default:return""}},h=[{id:"skin_pale",type:"SKIN",rarity:"COMMON",name:"Pale",imageUrl:"color:#F5D0B0"},{id:"skin_tan",type:"SKIN",rarity:"COMMON",name:"Tan",imageUrl:"color:#E0AC69"},{id:"skin_brown",type:"SKIN",rarity:"COMMON",name:"Brown",imageUrl:"color:#8D5524"},{id:"skin_dark_brown",type:"SKIN",rarity:"COMMON",name:"Dark Brown",imageUrl:"color:#523218"},{id:"skin_black",type:"SKIN",rarity:"COMMON",name:"Black",imageUrl:"color:#2B2B2B"},{id:"skin_grey",type:"SKIN",rarity:"COMMON",name:"Grey",imageUrl:"color:#7A7A7A"},{id:"skin_werewolf",type:"SKIN",rarity:"COMMON",name:"Werewolf",imageUrl:"color:#607D8B"},{id:"skin_white",type:"SKIN",rarity:"COMMON",name:"White",imageUrl:"color:#FFFFFF"}],b={"1wL":{category:"HAT",name:"Top Hat"}};function f(e){try{let r=b[e.id],t=e.type||"SHIRT",a=t;"BODY"===a||"SKIN_COLOR"===a||"COLOR"===a||"BASE_BODY"===a||"APPEARANCE"===a?t="SKIN":"HAIRSTYLE"===a||"HAIR_COLOR"===a?t="HAIR":"HEAD_WEAR"===a?t="HAT":"EYE_WEAR"===a?t="GLASSES":"NECK_WEAR"===a?t="SHIRT":"HAND_ITEM"===a?t="SHIRT":("PANTS"===a||"SHOES"===a||"CLOTHES"===a)&&(t="SHIRT");let s=e.name||"Item ".concat(e.id);return r&&(r.category&&(t=r.category),r.name&&(s=r.name)),t&&"UNKNOWN"!==t||(t="SHIRT"),{...e,type:t,name:s}}catch(r){return console.error("Error mapping item:",e.id,r),e}}let v="https://api.wolvesville.com",y="YGNrrmPwSWjVY9lAy9y7CiBLMeRUh3pEE4CTmIvfZwnaSp6X3uiQnsVAoDkdXLYW",j="f416123a-0ca8-432f-94e4-228afdef82e2",N={},w={async fetch(e,r,t){let a=Date.now();if(N[e]&&a-N[e].timestamp<6e5)return N[e].data;if(!y)return console.warn("[WovEngine] No API Key. Using fallback for ".concat(e)),r;let s=0;for(;s<3;)try{var l;let o=await fetch("".concat(v).concat(e),{method:"GET",headers:{"Content-Type":"application/json",Accept:"application/json","Accept-Language":"it",Authorization:"Bot ".concat(y),...j?{"X-Bot-ID":j}:{}},next:{revalidate:3600}});if(429===o.status){let e=parseInt(o.headers.get("Retry-After")||"2");await new Promise(r=>setTimeout(r,1e3*e+1e3)),s++;continue}if(null==t?void 0:null===(l=t.allowedStatuses)||void 0===l?void 0:l.includes(o.status))return r;if(!o.ok)return(null==t?void 0:t.suppressErrors)||console.error("[WovEngine] API Error ".concat(o.status," for ").concat(e)),r;let i=await o.json(),n=i.items?i.items:i;return N[e]={data:n,timestamp:a},n}catch(a){if((null==t?void 0:t.suppressErrors)||console.warn("[WovEngine] Network attempt ".concat(s+1," failed for ").concat(e),a),++s>=3)return(null==t?void 0:t.suppressErrors)||console.error("[WovEngine] Final Network Exception for ".concat(e),a),r;await new Promise(e=>setTimeout(e,1e3*Math.pow(2,s)))}return r},async getRoles(){let e=await this.fetch("/roles",{roles:d}),r=e.roles?e.roles:e;if(!Array.isArray(r)||0===r.length)return console.warn("[WovEngine] Roles empty or invalid format, forcing fallback data"),d;let t=e.advancedRolesMapping||{},a=new Set;return Object.values(t).forEach(e=>{Array.isArray(e)&&e.forEach(e=>a.add(e))}),r.map(e=>({...e,isAdvanced:a.has(e.id)}))},async getAvatarSets(){return this.fetch("/items/avatarItemSets",c)},async getBundles(){return this.fetch("/items/bundles",[])},async getShopActiveOffers(){return this.fetch("/shop/activeOffers",[])},async getCalendars(){return this.fetch("/items/calendars",[])},async getAvatarItems(){return[...h,...(await this.fetch("/items/avatarItems",[])).map(f)]},async getBackgrounds(){return this.fetch("/items/backgrounds",m)},async getLoadingScreens(){return this.fetch("/items/loadingScreens",x)},async getRoleIcons(){return this.fetch("/items/roleIcons",[])},async getRankedSeason(){let e=await this.fetch("/ranked/season",null);return e?{...e.season||e,rewards:e.seasonAwards||[]}:null},async getRankedLeaderboard(){let e=await this.fetch("/ranked/leaderboard",[]);return Array.isArray(e)?e:e.ranksTop||e.players||e.leaderboard||[]},async getHighscores(){let e=await this.fetch("/players/highscores",[]);return Array.isArray(e)?e:e.allTime||e.players||[]},async getPlayerProfile(e){return this.fetch("/players/".concat(e),null)},async searchPlayer(e){try{return await this.fetch("/players/search?username=".concat(encodeURIComponent(e)),null,{allowedStatuses:[404]})}catch(e){return console.error("Search failed:",e),null}},async getClanQuests(){return this.fetch("/clans/quests/all",u)},async searchClans(e){let r=new URLSearchParams;return"string"==typeof e?r.append("name",e):(e.name&&r.append("name",e.name),e.minLevel&&r.append("minLevel",e.minLevel.toString()),e.language&&r.append("language",e.language),e.joinType&&r.append("joinType",e.joinType),e.sortBy&&r.append("sortBy",e.sortBy),e.notFull&&r.append("notFull","true")),this.fetch("/clans/search?".concat(r.toString()),[])},extractItems(e){if(console.log("[WovEngine] Extracting items from ".concat((null==e?void 0:e.length)||0," sets")),!e||!Array.isArray(e))return console.warn("[WovEngine] Invalid sets data:",e),[];e.length>0&&console.log("[WovDebug] First set received:",e[0]);let r=[],t=new Set;return e.forEach(e=>{e.items&&Array.isArray(e.items)?e.items.forEach(a=>{t.has(a.id)||(t.add(a.id),r.push(f({...a,imageUrl:this.resolveImageUrl(a.id,"avatar",a.imageUrl),name:a.name||"".concat(e.name||"Unknown Set"," Item")})))}):e.avatarItemIds&&Array.isArray(e.avatarItemIds)&&e.avatarItemIds.forEach(e=>{if(!t.has(e)){t.add(e);let a=b[e]&&b[e].category||null;r.push(f({id:e,name:"Item ".concat(e.substring(0,5),"..."),type:a||"SHIRT",rarity:"COMMON",imageUrl:this.resolveImageUrl(e,"avatar",void 0,a||void 0)}))}})}),console.log("[WovEngine] Extracted ".concat(r.length," unique items")),r},resolveImageUrl:(e,r,t,a)=>t&&!t.includes("dicebear")?t:p[e]?p[e].cdnUrl:g(e,r),async generateSharedAvatarUrl(e){if(!y)return null;try{let r={items:e.map(e=>({id:e,prio:0})),skinColorId:"default"},t=await fetch("".concat(v,"/avatars/sharedAvatar"),{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bot ".concat(y)},body:JSON.stringify(r)});if(!t.ok)return null;return(await t.json()).url}catch(e){return console.error("Failed to generate avatar URL",e),null}}},A=(0,s.createContext)(void 0);function S(e){return e.map(e=>{let r=f(e);return r.imageUrl=w.resolveImageUrl(r.id,"avatar",r.imageUrl,r.type),r})}function k(e){let{children:r}=e,[t,l]=(0,s.useState)([]),[o,i]=(0,s.useState)([]),[n,d]=(0,s.useState)([]),[c,m]=(0,s.useState)([]),[x,u]=(0,s.useState)([]),[p,g]=(0,s.useState)([]),[h,b]=(0,s.useState)([]),[f,v]=(0,s.useState)(null),[y,j]=(0,s.useState)([]),[N,k]=(0,s.useState)([]),[I,C]=(0,s.useState)(!0),[E,O]=(0,s.useState)(null),[L,R]=(0,s.useState)({});(0,s.useEffect)(()=>{let e=!1;return async function(){try{let r;C(!0),O(null);let[t,a,s,o,n,c,x,p,h,f,y]=await Promise.all([w.getRoles(),w.getAvatarItems(),w.getAvatarSets(),w.getBundles(),w.getBackgrounds(),w.getShopActiveOffers(),w.getCalendars(),w.getRoleIcons(),w.getRankedSeason(),w.getRankedLeaderboard(),w.getHighscores()]);if(e)return;console.log("[WovContext] Roles received: ".concat(Array.isArray(t)?t.length:"Not Array")),console.log("[WovContext] Bundles received type: ".concat(typeof o,", isArray: ").concat(Array.isArray(o))),o&&Array.isArray(o)&&o.length>0?console.log("[WovContext] \uD83D\uDD0D RAW API BUNDLE (First):",o[0]):o&&console.log("[WovContext] \uD83D\uDD0D RAW API BUNDLE (Object?):",o),console.log("[WovContext] Offers received: ".concat(Array.isArray(c)?c.length:"Not Array")),c&&c.length>0&&console.log("[WovContext] \uD83D\uDD0D RAW OFFER (First):",c[0]),console.log("[WovContext] Calendars received: ".concat(Array.isArray(x)?x.length:"Not Array")),x&&x.length>0&&console.log("[WovContext] \uD83D\uDD0D RAW CALENDAR (First):",x[0]),console.log("[WovContext] Role Icons received: ".concat(Array.isArray(p)?p.length:"Not Array")),b(Array.isArray(p)?p:[]),console.log("[WovContext] Season:",h?"Loaded":"Null"),console.log("[WovContext] Leaderboard:",Array.isArray(f)?f.length:"Invalid"),console.log("[WovContext] Highscores:",Array.isArray(y)?y.length:"Invalid"),v(h),j(Array.isArray(f)?f:[]),k(Array.isArray(y)?y:[]),l(Array.isArray(t)?t:[]);let N=Array.isArray(c)?Array.from(new Map(c.map((e,r)=>{let t=e.id||"generated-offer-".concat(r,"-").concat(Math.random().toString(36).substr(2,9)),a={...e,id:t};return[t,a]})).values()):[];u(N),g(Array.isArray(x)?x:[]);let A=[];Array.isArray(c)&&c.forEach(e=>{e.avatarItemSets&&Array.isArray(e.avatarItemSets)&&A.push(...e.avatarItemSets)});let I=[...Array.isArray(s)?s:[],...Array.isArray(o)?o:[],...A],E=Array.from(new Map(I.map(e=>[e.id,e])).values());d(E),m(Array.isArray(n)?n:[]);let L=a?Array.isArray(a)?a:"object"==typeof a&&"items"in a&&Array.isArray(a.items)?a.items:[]:[];if(L.length>0?console.log("[WovContext] \uD83D\uDD0D RAW API ITEM (First):",L[0]):E.length>0&&console.log("[WovContext] \uD83D\uDD0D RAW API SET (First):",E[0]),L.length>0)console.log("[WovContext] ✅ Direct items: ".concat(L.length)),r=S(L);else{console.log("[WovContext] ⚠️  Direct items empty – falling back to sets extraction");let e=function(e){if(!Array.isArray(e)||0===e.length)return[];let r=new Map;return e.forEach(e=>{let t=Array.isArray(e.items)?e.items:[],a=Array.isArray(e.avatarItemIds)?e.avatarItemIds:[];t.forEach(e=>{!(null==e?void 0:e.id)||r.has(e.id)||r.set(e.id,e)}),a.forEach(t=>{!t||r.has(t)||r.set(t,{id:t,name:e.name?"".concat(e.name," – ").concat(t.slice(0,8)):t,type:"SHIRT",rarity:"COMMON",imageUrl:""})})}),Array.from(r.values())}(E);console.log("[WovContext] ✅ Items from sets: ".concat(e.length)),r=S(e)}console.log("[WovContext] \uD83C\uDFAF Total items ready for grid: ".concat(r.length)),i(r)}catch(r){if(!e){let e=r instanceof Error?r.message:String(r);console.error("[WovContext] Init failed:",e),O(e)}}finally{e||C(!1)}}(),()=>{e=!0}},[]),(0,s.useEffect)(()=>{try{let e=localStorage.getItem("wov_wardrobe");e&&R(JSON.parse(e))}catch(e){}},[]),(0,s.useEffect)(()=>{try{localStorage.setItem("wov_wardrobe",JSON.stringify(L))}catch(e){}},[L]);let _=(0,s.useCallback)(e=>{R(r=>({...r,[e.type]:e}))},[]),T=(0,s.useCallback)(e=>{R(r=>{let t={};r.SKIN&&(t.SKIN=r.SKIN),r.EYES&&(t.EYES=r.EYES),r.MOUTH&&(t.MOUTH=r.MOUTH);let a=e=>o.find(r=>r.id===e);return e.items&&Array.isArray(e.items)&&e.items.forEach(e=>{let r=a(e.id);r||(r=S([e])[0]),r&&r.type&&"SET"!==r.type&&(t[r.type]=r)}),e.avatarItemIds&&Array.isArray(e.avatarItemIds)&&e.avatarItemIds.forEach(e=>{let r=a(e);r?t[r.type]=r:console.warn("[WovContext] Item ID ".concat(e," from set not found in global items."))}),t})},[o]),M=(0,s.useCallback)(e=>{R(r=>{let t={...r};return delete t[e],t})},[]),z=(0,s.useCallback)(()=>R({}),[]),D=(0,s.useCallback)(e=>Object.values(L).some(r=>r.id===e),[L]);return(0,a.jsx)(A.Provider,{value:{roles:t,items:o,sets:n,backgrounds:c,activeOffers:x,calendars:p,roleIcons:h,rankedSeason:f,leaderboard:y,highscores:N,loading:I,error:E,equippedItems:L,equipItem:_,equipSet:T,unequipItem:M,clearWardrobe:z,isEquipped:D},children:r})}function I(){let e=(0,s.useContext)(A);if(!e)throw Error("useWolvesville must be used within WolvesvilleProvider");return e}var C=t(1567),E=t(858),O=t(5059),L=t(1466),R=t(2316),_=t(7819),T=t(2823),M=t(3467);let z=[{id:"dashboard",label:"Dashboard",icon:E.A},{id:"wardrobe",label:"Guardaroba & Item",icon:O.A},{id:"roles",label:"Ruoli",icon:L.A},{id:"roleIcons",label:"Icone Ruolo",icon:R.A},{id:"profiles",label:"Cerca Giocatore",icon:L.A},{id:"ranked",label:"Ranked & Classifiche",icon:_.A},{id:"clans",label:"Clan & Quest",icon:T.A},{id:"wiki",label:"Wiki",icon:M.A}];function D(e){let{activeTab:r,onTabChange:t}=e;return(0,a.jsxs)("div",{className:"w-full md:w-64 shrink-0 flex flex-col gap-2",children:[(0,a.jsxs)("div",{className:"p-4 mb-2",children:[(0,a.jsx)("h2",{className:"text-2xl font-bold font-serif gold-text tracking-tight",children:"Wolvesville DB"}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground uppercase tracking-widest opacity-70",children:"Unofficial Tool"})]}),(0,a.jsx)("nav",{className:"flex flex-col gap-1 px-2",children:z.map(e=>{let s=r===e.id,l=e.icon;return(0,a.jsxs)("button",{onClick:()=>t(e.id),className:(0,C.cn)("flex items-center gap-3 px-4 py-3 rounded-lg text-sm font-medium transition-all duration-200",s?"bg-primary/10 text-primary shadow-[0_0_15px_rgba(234,179,8,0.1)] border border-primary/20":"text-muted-foreground hover:bg-card/50 hover:text-foreground"),children:[(0,a.jsx)(l,{size:18,className:s?"text-primary":"opacity-70"}),(0,a.jsx)("span",{children:e.label}),s&&(0,a.jsx)("div",{className:"ml-auto w-1.5 h-1.5 rounded-full bg-primary shadow-[0_0_5px_currentColor]"})]},e.id)})}),(0,a.jsx)("div",{className:"mt-auto p-4 opacity-50 text-[10px] text-center",children:"v2.4.0 • Powered by Trae"})]})}var B=t(5686),U=t(4505),P=t(4857),H=t(2792),G=t(836),W=t(767),F=t(5565);let Y={BODY:"https://cdn.wolvesville.com/avatarItems/body.store.png",HEAD:"https://cdn.wolvesville.com/avatarItems/head.store.png"},V=[{id:"pale",color:"#F5D0B0",filter:"brightness(1.1) sepia(0.2) hue-rotate(-10deg)"},{id:"tan",color:"#E0AC69",filter:"brightness(0.95) sepia(0.4) hue-rotate(-25deg)"},{id:"brown",color:"#8D5524",filter:"brightness(0.7) sepia(0.6) hue-rotate(-35deg)"},{id:"dark",color:"#3B2219",filter:"brightness(0.5) sepia(0.5) hue-rotate(-40deg)"},{id:"zombie",color:"#7FA075",filter:"grayscale(1) sepia(0.5) hue-rotate(70deg) brightness(0.9) contrast(0.9)"}],q={BACK:5,GRAVESTONE:6,BASE_BODY:10,SHIRT:20,BASE_HEAD:30,MOUTH:31,EYES:32,BEARD:33,HAIR:40,GLASSES:45,MASK:46,HAT:50,FRONT:70,EMOJI:80},K=["BACK","GRAVESTONE","SHIRT","BEARD","MOUTH","EYES","HAIR","GLASSES","MASK","HAT","FRONT","EMOJI"],X=["HAT","HAIR","GLASSES","EYES","MOUTH","MASK","BEARD","SHIRT","BACK","FRONT","GRAVESTONE","EMOJI"];function J(){var e,r,t,l,o,i;let{equippedItems:n,unequipItem:d,clearWardrobe:c}=I(),[m,x]=(0,s.useState)(!1),[u,p]=(0,s.useState)("pale"),[g,h]=(0,s.useState)(-4),[b,f]=(0,s.useState)(20),[v,y]=(0,s.useState)(40),[j,N]=(0,s.useState)(500),[A,S]=(0,s.useState)("HAT"),[k,C]=(0,s.useState)({HAT:{y:-10,x:0,scale:100},HAIR:{y:18,x:-1.5,scale:100},GLASSES:{y:14,x:0,scale:77},EYES:{y:17,x:0,scale:64},MOUTH:{y:0,x:0,scale:77},MASK:{y:0,x:0,scale:100},BEARD:{y:0,x:0,scale:100},SHIRT:{y:-10.5,x:0,scale:75},BACK:{y:0,x:0,scale:100},FRONT:{y:.5,x:18.5,scale:35},GRAVESTONE:{y:0,x:0,scale:100},EMOJI:{y:0,x:0,scale:100}}),[E,O]=(0,s.useState)(!1),[L,R]=(0,s.useState)({x:400,y:100}),[_,T]=(0,s.useState)(!1),[M,z]=(0,s.useState)({x:0,y:0});(0,s.useEffect)(()=>{let e=e=>{_&&R({x:e.clientX-M.x,y:e.clientY-M.y})},r=()=>T(!1);return _&&(window.addEventListener("mousemove",e),window.addEventListener("mouseup",r)),()=>{window.removeEventListener("mousemove",e),window.removeEventListener("mouseup",r)}},[_,M]);let D=(0,s.useMemo)(()=>V.find(e=>e.id===u)||V[0],[u]),J=async()=>{x(!0);let e=Object.values(n).map(e=>e.id),r=await w.generateSharedAvatarUrl(e);x(!1),r?window.open(r,"_blank"):alert("Impossibile generare l'avatar. Riprova pi\xf9 tardi.")},Q=0===Object.keys(n).length,$=e=>{let r=g;["HAIR","HAT","GLASSES","EYES","MOUTH","MASK","BEARD","BASE_HEAD"].includes(e)?r=b:"SHIRT"===e&&(r=10);let t=k[e]||{y:0,x:0,scale:100},a=r+t.y,s=t.x,l=v*(t.scale/100);return{bottom:"".concat(a,"%"),left:"calc(50% + ".concat(s,"%)"),width:"".concat(l,"%"),height:"auto",transform:"translateX(-50%)",zIndex:q[e]||10}},Z=function(e,r){let t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"delta";C(a=>{let s=a[A]||{y:0,x:0,scale:100},l="delta"===t?s[e]+r:r;return{...a,[A]:{...s,[e]:l}}})},[ee,er]=(0,s.useState)(""),[et,ea]=(0,s.useState)(""),[es,el]=(0,s.useState)(!1);return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"sticky top-24 bg-card/80 backdrop-blur-xl border border-border/60 rounded-2xl shadow-2xl p-6 flex flex-col items-center gap-6 w-full",children:[(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("h3",{className:"text-2xl font-bold font-serif gold-text mb-1",children:"Avatar Builder"}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground",children:"Crea il tuo stile unico"})]}),(0,a.jsxs)("div",{className:"relative w-full bg-[#1a1a1a] rounded-xl border border-white/10 shadow-2xl overflow-hidden group transition-all duration-300",style:{aspectRatio:"1 / 1",maxWidth:"".concat(j,"px")},children:[(0,a.jsx)("div",{className:"absolute inset-0 opacity-5 pointer-events-none",style:{backgroundImage:"radial-gradient(circle, #fff 1px, transparent 1px)",backgroundSize:"20px 20px"}}),(0,a.jsxs)("div",{className:"relative w-full h-full",children:[(0,a.jsx)("img",{src:Y.BODY,alt:"Body Base",className:"absolute object-contain pointer-events-none",style:{zIndex:q.BASE_BODY,filter:D.filter,bottom:"".concat(g,"%"),left:"50%",width:"".concat(v,"%"),height:"auto",transform:"translateX(-50%)"}}),(0,a.jsx)("img",{src:Y.HEAD,alt:"Head Base",className:"absolute object-contain pointer-events-none",style:{zIndex:q.BASE_HEAD,filter:D.filter,bottom:"".concat(b,"%"),left:"50%",width:"".concat(v,"%"),height:"auto",transform:"translateX(-50%)"}}),K.map(e=>{let r=n[e];if(!r||"SKIN"===e)return null;let t=$(e);return(0,a.jsx)("div",{className:"absolute transition-all duration-300 animate-in fade-in zoom-in-95 pointer-events-none",style:{...t,position:"absolute"},children:(0,a.jsx)(F.default,{src:w.resolveImageUrl(r.id,"avatar",r.imageUrl),alt:e,width:500,height:500,className:"w-full h-full object-contain drop-shadow-md",priority:!0,unoptimized:!0})},e)})]})]}),(0,a.jsx)("div",{className:"flex gap-2 justify-center py-2 bg-black/20 px-4 rounded-full border border-white/5",children:V.map(e=>(0,a.jsx)("button",{onClick:()=>p(e.id),className:"w-6 h-6 rounded-full border-2 transition-all hover:scale-110 ".concat(u===e.id?"border-white scale-110 shadow-[0_0_10px_rgba(255,255,255,0.3)]":"border-transparent opacity-80"),style:{backgroundColor:e.color},title:e.id},e.id))}),!Q&&(0,a.jsxs)("div",{className:"w-full",children:[(0,a.jsxs)("h4",{className:"text-xs font-bold text-muted-foreground uppercase tracking-wider mb-3",children:["Equipaggiati (",Object.keys(n).length,")"]}),(0,a.jsx)("div",{className:"grid grid-cols-5 gap-2 max-h-40 overflow-y-auto pr-1 custom-scrollbar",children:Object.entries(n).map(e=>{let[r,t]=e;return"SKIN"===r?null:(0,a.jsxs)("div",{className:"relative aspect-square bg-black/40 rounded-lg border border-white/10 p-1 group cursor-pointer hover:border-primary/50 transition-all",onClick:()=>d(r),title:"Rimuovi ".concat(t.name," (").concat(r,")"),children:[(0,a.jsx)(F.default,{src:w.resolveImageUrl(t.id,"avatar",t.imageUrl),alt:r,fill:!0,className:"object-contain p-1",unoptimized:!0}),(0,a.jsx)("div",{className:"absolute inset-0 bg-red-500/80 opacity-0 group-hover:opacity-100 flex items-center justify-center transition-all rounded-lg backdrop-blur-sm",children:(0,a.jsx)(B.A,{size:14,className:"text-white"})})]},r)})})]}),(0,a.jsxs)("div",{className:"flex gap-3 w-full mt-auto pt-4 border-t border-white/5",children:[(0,a.jsxs)("button",{onClick:c,className:"flex-1 flex items-center justify-center gap-2 px-4 py-3 rounded-xl bg-red-500/10 text-red-400 hover:bg-red-500/20 hover:text-red-300 disabled:opacity-50 disabled:cursor-not-allowed transition-all text-sm font-bold border border-red-500/20",children:[(0,a.jsx)(B.A,{size:16}),(0,a.jsx)("span",{children:"Svuota"})]}),(0,a.jsxs)("button",{onClick:J,disabled:Q||m,className:"flex-[2] flex items-center justify-center gap-2 px-4 py-3 rounded-xl bg-primary text-primary-foreground hover:bg-primary/90 hover:scale-[1.02] active:scale-95 disabled:opacity-50 disabled:cursor-not-allowed transition-all text-sm font-bold shadow-lg shadow-primary/20",children:[m?(0,a.jsx)(U.A,{size:16,className:"animate-spin"}):(0,a.jsx)(P.A,{size:16}),(0,a.jsx)("span",{children:"Genera Link"})]})]})]}),!E&&(0,a.jsx)("button",{onClick:()=>O(!0),className:"fixed bottom-4 right-4 bg-yellow-500 text-black p-3 rounded-full shadow-lg hover:scale-110 transition-transform z-[9999]",title:"Open Dev Calibration",children:(0,a.jsx)(H.A,{size:24})}),E&&(0,a.jsxs)("div",{className:"fixed bg-black/90 backdrop-blur-lg border border-yellow-500/50 rounded-xl shadow-2xl z-[9999] text-xs font-mono w-80 flex flex-col",style:{left:L.x,top:L.y},children:[(0,a.jsxs)("div",{className:"flex items-center justify-between p-2 border-b border-yellow-500/30 cursor-grab active:cursor-grabbing bg-yellow-500/10 rounded-t-xl",onMouseDown:e=>{T(!0),z({x:e.clientX-L.x,y:e.clientY-L.y})},children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 text-yellow-400 font-bold select-none",children:[(0,a.jsx)(G.A,{size:16}),(0,a.jsx)("span",{children:"CALIBRAZIONE DEV"})]}),(0,a.jsx)("button",{onClick:()=>O(!1),className:"text-gray-400 hover:text-white",children:(0,a.jsx)(W.A,{size:16})})]}),(0,a.jsx)("div",{className:"p-4 overflow-y-auto max-h-[70vh] custom-scrollbar",children:(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,a.jsxs)("span",{className:"text-gray-400",children:["Body Bottom: ",(0,a.jsxs)("span",{className:"text-white",children:[g,"%"]})]}),(0,a.jsxs)("div",{className:"flex gap-1",children:[(0,a.jsx)("button",{onClick:()=>h(e=>e-1),className:"bg-red-500/20 hover:bg-red-500/40 text-red-300 px-2 py-1 rounded border border-red-500/30",children:"-"}),(0,a.jsx)("button",{onClick:()=>h(e=>e+1),className:"bg-green-500/20 hover:bg-green-500/40 text-green-300 px-2 py-1 rounded border border-green-500/30",children:"+"})]})]}),(0,a.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,a.jsxs)("span",{className:"text-gray-400",children:["Head Bottom: ",(0,a.jsxs)("span",{className:"text-white",children:[b,"%"]})]}),(0,a.jsxs)("div",{className:"flex gap-1",children:[(0,a.jsx)("button",{onClick:()=>f(e=>e-1),className:"bg-red-500/20 hover:bg-red-500/40 text-red-300 px-2 py-1 rounded border border-red-500/30",children:"-"}),(0,a.jsx)("button",{onClick:()=>f(e=>e+1),className:"bg-green-500/20 hover:bg-green-500/40 text-green-300 px-2 py-1 rounded border border-green-500/30",children:"+"})]})]}),(0,a.jsxs)("div",{className:"flex flex-col gap-1 mt-2 border-t border-white/10 pt-2",children:[(0,a.jsxs)("span",{className:"text-gray-400",children:["Global Scale: ",(0,a.jsxs)("span",{className:"text-white",children:[v,"%"]})]}),(0,a.jsxs)("div",{className:"flex gap-1",children:[(0,a.jsx)("button",{onClick:()=>y(e=>e-1),className:"flex-1 bg-blue-500/20 hover:bg-blue-500/40 text-blue-300 px-2 py-1 rounded border border-blue-500/30",children:"-"}),(0,a.jsx)("button",{onClick:()=>y(e=>e+1),className:"flex-1 bg-blue-500/20 hover:bg-blue-500/40 text-blue-300 px-2 py-1 rounded border border-blue-500/30",children:"+"})]})]}),(0,a.jsxs)("div",{className:"flex flex-col gap-1 mt-2 border-t border-white/10 pt-2",children:[(0,a.jsxs)("span",{className:"text-gray-400",children:["Box Size: ",(0,a.jsxs)("span",{className:"text-white",children:[j,"px"]})]}),(0,a.jsxs)("div",{className:"flex gap-1",children:[(0,a.jsx)("button",{onClick:()=>N(e=>e-10),className:"flex-1 bg-purple-500/20 hover:bg-purple-500/40 text-purple-300 px-2 py-1 rounded border border-purple-500/30",children:"-10"}),(0,a.jsx)("button",{onClick:()=>N(e=>e+10),className:"flex-1 bg-purple-500/20 hover:bg-purple-500/40 text-purple-300 px-2 py-1 rounded border border-purple-500/30",children:"+10"})]})]}),(0,a.jsxs)("div",{className:"col-span-2 flex flex-col gap-1 mt-2 border-t border-white/10 pt-2",children:[(0,a.jsx)("span",{className:"text-gray-400",children:"Item Calibration"}),(0,a.jsx)("div",{className:"flex gap-2 mb-2",children:(0,a.jsx)("select",{value:A,onChange:e=>S(e.target.value),className:"bg-black/50 text-white text-xs border border-white/20 rounded px-2 py-1 flex-1",children:X.map(e=>(0,a.jsx)("option",{value:e,children:e},e))})}),(0,a.jsxs)("div",{className:"mb-2",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between text-[10px] text-gray-500 mb-1",children:[(0,a.jsx)("span",{children:"Vertical (Y)"}),(0,a.jsxs)("span",{className:"text-white font-mono",children:[((null===(e=k[A])||void 0===e?void 0:e.y)||0).toFixed(1),"%"]})]}),(0,a.jsx)("input",{type:"range",min:"-50",max:"50",step:"0.5",value:(null===(r=k[A])||void 0===r?void 0:r.y)||0,onChange:e=>Z("y",parseFloat(e.target.value),"set"),className:"w-full accent-orange-500 h-1 bg-white/10 rounded-lg appearance-none cursor-pointer mb-1"}),(0,a.jsxs)("div",{className:"flex gap-1",children:[(0,a.jsx)("button",{onClick:()=>Z("y",-.5),className:"flex-1 bg-orange-500/20 hover:bg-orange-500/40 text-orange-300 px-1 py-1 rounded border border-orange-500/30 text-[10px]",children:"-0.5"}),(0,a.jsx)("button",{onClick:()=>Z("y",.5),className:"flex-1 bg-orange-500/20 hover:bg-orange-500/40 text-orange-300 px-1 py-1 rounded border border-orange-500/30 text-[10px]",children:"+0.5"})]})]}),(0,a.jsxs)("div",{className:"mb-2",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between text-[10px] text-gray-500 mb-1",children:[(0,a.jsx)("span",{children:"Horizontal (X)"}),(0,a.jsxs)("span",{className:"text-white font-mono",children:[((null===(t=k[A])||void 0===t?void 0:t.x)||0).toFixed(1),"%"]})]}),(0,a.jsx)("input",{type:"range",min:"-50",max:"50",step:"0.5",value:(null===(l=k[A])||void 0===l?void 0:l.x)||0,onChange:e=>Z("x",parseFloat(e.target.value),"set"),className:"w-full accent-pink-500 h-1 bg-white/10 rounded-lg appearance-none cursor-pointer mb-1"}),(0,a.jsxs)("div",{className:"flex gap-1",children:[(0,a.jsx)("button",{onClick:()=>Z("x",-.5),className:"flex-1 bg-pink-500/20 hover:bg-pink-500/40 text-pink-300 px-1 py-1 rounded border border-pink-500/30 text-[10px]",children:"-0.5"}),(0,a.jsx)("button",{onClick:()=>Z("x",.5),className:"flex-1 bg-pink-500/20 hover:bg-pink-500/40 text-pink-300 px-1 py-1 rounded border border-pink-500/30 text-[10px]",children:"+0.5"})]})]}),(0,a.jsxs)("div",{className:"mb-2",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between text-[10px] text-gray-500 mb-1",children:[(0,a.jsx)("span",{children:"Scale %"}),(0,a.jsxs)("span",{className:"text-white font-mono",children:[((null===(o=k[A])||void 0===o?void 0:o.scale)||100).toFixed(0),"%"]})]}),(0,a.jsx)("input",{type:"range",min:"10",max:"200",step:"1",value:(null===(i=k[A])||void 0===i?void 0:i.scale)||100,onChange:e=>Z("scale",parseFloat(e.target.value),"set"),className:"w-full accent-cyan-500 h-1 bg-white/10 rounded-lg appearance-none cursor-pointer mb-1"}),(0,a.jsxs)("div",{className:"flex gap-1",children:[(0,a.jsx)("button",{onClick:()=>Z("scale",-1),className:"flex-1 bg-cyan-500/20 hover:bg-cyan-500/40 text-cyan-300 px-1 py-1 rounded border border-cyan-500/30 text-[10px]",children:"-1%"}),(0,a.jsx)("button",{onClick:()=>Z("scale",1),className:"flex-1 bg-cyan-500/20 hover:bg-cyan-500/40 text-cyan-300 px-1 py-1 rounded border border-cyan-500/30 text-[10px]",children:"+1%"})]})]}),(0,a.jsx)("div",{className:"mt-2 pt-2 border-t border-white/10 flex gap-2",children:es?(0,a.jsxs)("div",{className:"w-full flex flex-col gap-1 animate-in fade-in slide-in-from-bottom-2",children:[(0,a.jsx)("textarea",{className:"w-full h-24 bg-black/50 text-[10px] text-blue-400 p-1 rounded border border-blue-500/30 font-mono",placeholder:"Paste JSON config here...",value:et,onChange:e=>ea(e.target.value)}),(0,a.jsxs)("div",{className:"flex gap-1",children:[(0,a.jsx)("button",{onClick:()=>{try{let s=et.trim();if(!s)return;let l=JSON.parse(s);if(l.global){var e,r,t,a;h(null!==(e=l.global.bodyBottom)&&void 0!==e?e:-4),f(null!==(r=l.global.headBottom)&&void 0!==r?r:22),y(null!==(t=l.global.scale)&&void 0!==t?t:64),N(null!==(a=l.global.containerSize)&&void 0!==a?a:320)}l.categories&&C(l.categories),el(!1),ea(""),alert("Configurazione caricata con successo!")}catch(e){alert("Errore nel caricamento della configurazione: Assicurati di aver copiato tutto il JSON correttamente.")}},className:"flex-1 bg-green-500/20 hover:bg-green-500/40 text-green-300 px-2 py-1 rounded border border-green-500/30 text-[10px]",children:"APPLY"}),(0,a.jsx)("button",{onClick:()=>el(!1),className:"flex-1 bg-red-500/20 hover:bg-red-500/40 text-red-300 px-2 py-1 rounded border border-red-500/30 text-[10px]",children:"CANCEL"})]})]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("button",{onClick:()=>{let e={};X.forEach(r=>{e[r]=k[r]||{y:0,x:0,scale:100}}),er(JSON.stringify({global:{bodyBottom:g,headBottom:b,scale:v,containerSize:j},categories:e},null,2))},className:"flex-1 bg-green-500/20 hover:bg-green-500/40 text-green-300 px-2 py-1 rounded border border-green-500/30 text-[10px] font-bold",children:"EXPORT"}),(0,a.jsx)("button",{onClick:()=>el(!0),className:"flex-1 bg-blue-500/20 hover:bg-blue-500/40 text-blue-300 px-2 py-1 rounded border border-blue-500/30 text-[10px] font-bold",children:"IMPORT"})]})}),ee&&!es&&(0,a.jsxs)("div",{className:"mt-2 flex flex-col gap-1 animate-in fade-in slide-in-from-bottom-2",children:[(0,a.jsx)("textarea",{className:"w-full h-24 bg-black/50 text-[10px] text-green-400 p-1 rounded border border-green-500/30 font-mono",readOnly:!0,value:ee,onClick:e=>e.currentTarget.select()}),(0,a.jsx)("button",{onClick:()=>er(""),className:"w-full bg-red-500/20 hover:bg-red-500/40 text-red-300 px-2 py-1 rounded border border-red-500/30 text-[10px]",children:"CLOSE"})]}),(0,a.jsx)("button",{onClick:()=>{confirm("Reset all calibration settings to defaults?")&&(h(-4),f(20),y(40),N(500))},className:"mt-4 w-full bg-red-500/10 text-red-400 py-2 rounded border border-red-500/20 hover:bg-red-500/30 text-[10px] uppercase font-bold tracking-wider transition-all",children:"Reset Global Calibration"})]})]})})]})]})}var Q=t(8867),$=t(853);let Z=["ALL","SET","HAIR","HAT","EYES","MOUTH","GLASSES","SHIRT","MASK","BACK","FRONT","GRAVESTONE","SKIN"],ee=["ALL","COMMON","RARE","EPIC","LEGENDARY","MYTHICAL","MYTHIC"],er={COMMON:"text-gray-400 border-gray-500/30 bg-gray-500/10",RARE:"text-blue-400 border-blue-500/30 bg-blue-500/10",EPIC:"text-purple-400 border-purple-500/30 bg-purple-500/10",LEGENDARY:"text-yellow-400 border-yellow-500/30 bg-yellow-500/10",MYTHICAL:"text-pink-400 border-pink-500/30 bg-pink-500/10",MYTHIC:"text-pink-400 border-pink-500/30 bg-pink-500/10"},et=e=>{var r;let t=new Set,a=String(e.id).trim(),s=String(e.imageKey||e.iconUrl||(null===(r=e.name)||void 0===r?void 0:r.replace(/\s+/g,"-"))||a).trim();return t.add("https://cdn.wolvesville.com/avatarItems/".concat(a,".png")),t.add("https://cdn.wolvesville.com/avatarItems/".concat(a,"@2x.png")),s!==a&&t.add("https://cdn.wolvesville.com/avatarItems/".concat(s,".png")),Array.from(t)},ea=(0,s.memo)(function(e){let{item:r}=e;if(r.imageUrl&&r.imageUrl.startsWith("color:"))return(0,a.jsx)("div",{className:"w-full h-full rounded-full border border-white/20 shadow-inner",style:{backgroundColor:r.imageUrl.replace("color:","")}});let t=(0,s.useMemo)(()=>{let e=r.imageUrl&&!r.imageUrl.includes("dicebear")?[r.imageUrl]:[];return r._fallbackImage&&e.push(r._fallbackImage),[...e,...et(r).filter(r=>!e.includes(r))]},[r]),[l,o]=(0,s.useState)(0),i=(0,s.useCallback)(()=>{o(e=>e+1)},[r.id,t,l]);return l>=t.length?(0,a.jsx)("div",{className:"w-full h-full flex items-center justify-center text-white/20 text-xs bg-white/5 rounded",children:"?"}):(0,a.jsx)(F.default,{src:t[l],alt:r.name||r.id,fill:!0,loading:"lazy",className:"object-contain",sizes:"140px",onError:i,unoptimized:!0},t[l])}),es=(0,s.memo)(function(e){var r,t;let{item:s,equipped:l,onEquip:o}=e;return(0,a.jsxs)("div",{onClick:()=>o(s),style:{width:152,height:202},className:["flex flex-col items-center rounded-lg p-2 border transition-all cursor-pointer select-none",l?"border-primary/70 bg-primary/10 shadow-[0_0_12px_hsl(43_90%_55%/0.3)]":"border-white/10 bg-black/20 hover:border-primary/40 hover:bg-black/30"].join(" "),children:[(0,a.jsxs)("div",{className:"relative w-full flex-1 mb-1",children:[(0,a.jsx)(ea,{item:s}),l&&(0,a.jsx)("div",{className:"absolute top-0 right-0 bg-primary rounded-full p-0.5",children:(0,a.jsx)(Q.A,{size:9,className:"text-primary-foreground"})})]}),(0,a.jsx)("span",{className:"text-[9px] uppercase font-bold px-1 py-0.5 rounded border mb-0.5 ".concat(null!==(r=er[s.rarity])&&void 0!==r?r:"text-gray-400"),children:s.rarity}),(0,a.jsx)("div",{className:"text-[10px] text-center text-white/60 truncate w-full leading-tight",children:null!==(t=s.name)&&void 0!==t?t:s.id})]})});function el(e){let{items:r,isEquipped:t,equipItem:l}=e,o=(0,s.useRef)(null),[i,n]=(0,s.useState)(0),[d,c]=(0,s.useState)(600),[m,x]=(0,s.useState)(800);(0,s.useEffect)(()=>{let e=o.current;if(!e)return;let r=new ResizeObserver(e=>{let[r]=e;c(r.contentRect.height),x(r.contentRect.width)});return r.observe(e),c(e.clientHeight),x(e.clientWidth),()=>r.disconnect()},[]);let u=Math.max(1,Math.floor(m/160)),p=Math.ceil(r.length/u),g=Math.max(0,Math.floor(i/210)-3),h=Math.min(p-1,Math.ceil((i+d)/210)+3),b=[];for(let e=g;e<=h;e++)b.push(e);let f=(0,s.useCallback)(e=>{n(e.currentTarget.scrollTop)},[]);return(0,a.jsx)("div",{ref:o,onScroll:f,className:"overflow-y-auto overflow-x-hidden w-full h-full",style:{position:"relative"},children:(0,a.jsx)("div",{style:{height:210*p,position:"relative"},children:b.map(e=>(0,a.jsx)("div",{style:{position:"absolute",top:210*e,left:0,right:0,height:210,display:"flex",gap:8,padding:"4px 0"},children:Array.from({length:u}).map((s,o)=>{let i=e*u+o;if(i>=r.length)return(0,a.jsx)("div",{style:{width:152}},o);let n=r[i];return(0,a.jsx)(es,{item:n,equipped:t(n.id),onEquip:l},n.id)})},e))})})}function eo(e){let{items:r,loading:t}=e,{equipItem:l,equipSet:o,isEquipped:i,sets:n}=I();(0,s.useEffect)(()=>{r.length>0&&console.log("Sample Item Structure:",r[0])},[r]);let[d,c]=(0,s.useState)(""),[m,x]=(0,s.useState)("ALL"),[u,p]=(0,s.useState)("ALL"),h=(0,s.useMemo)(()=>{let e=d.trim().toLowerCase();return"SET"===m?n.filter(r=>!e||!!r.name.toLowerCase().includes(e)).map(e=>{let r=e.items&&e.items.length>0&&e.items[0].imageUrl||e.avatarItemIds&&e.avatarItemIds.length>0&&g(e.avatarItemIds[0],"avatar")||e.avatarItemSets&&e.avatarItemSets.length>0&&g(e.avatarItemSets[0],"set")||"";return{id:e.id,name:e.name,type:"SET",rarity:"COMMON",imageUrl:e.promoImageUrl||g(e.id,"set"),_fallbackImage:r,_originalSet:e}}):r.filter(r=>{var t;return("ALL"===m||r.type===m)&&("ALL"===u||r.rarity===u)&&(!e||!!(r.id.toLowerCase().includes(e)||(null!==(t=r.name)&&void 0!==t?t:"").toLowerCase().includes(e)))})},[r,n,d,m,u]),b=(0,s.useCallback)(e=>{"SET"===e.type&&e._originalSet?o(e._originalSet):l(e)},[l,o]);return t?(0,a.jsxs)("div",{className:"flex items-center justify-center h-64 text-muted-foreground gap-3",children:[(0,a.jsx)(U.A,{className:"animate-spin",size:20}),(0,a.jsx)("span",{children:"Caricamento oggetti..."})]}):(0,a.jsxs)("div",{className:"flex flex-col",style:{height:"calc(100vh - 180px)",minHeight:400},children:[(0,a.jsxs)("div",{className:"shrink-0 flex flex-col gap-4 mb-4 bg-card/40 backdrop-blur-sm border border-border/60 rounded-xl p-4 shadow-sm",children:[(0,a.jsxs)("div",{className:"flex gap-3 items-center",children:[(0,a.jsxs)("div",{className:"relative flex-1",children:[(0,a.jsx)($.A,{size:16,className:"absolute left-3 top-1/2 -translate-y-1/2 text-muted-foreground pointer-events-none"}),(0,a.jsx)("input",{type:"text",placeholder:"Cerca oggetto...",value:d,onChange:e=>c(e.target.value),className:"w-full pl-9 pr-9 py-2.5 text-sm bg-black/20 border border-white/10 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary/50 transition-all placeholder:text-muted-foreground/70"}),d&&(0,a.jsx)("button",{onClick:()=>c(""),className:"absolute right-3 top-1/2 -translate-y-1/2 text-muted-foreground hover:text-foreground p-1 rounded-full hover:bg-white/10 transition-colors",children:(0,a.jsx)(W.A,{size:14})})]}),(0,a.jsxs)("div",{className:"relative min-w-[140px]",children:[(0,a.jsx)("select",{value:u,onChange:e=>p(e.target.value),className:"w-full appearance-none bg-black/20 border border-white/10 text-sm rounded-lg pl-3 pr-8 py-2.5 focus:outline-none focus:ring-2 focus:ring-primary/50 cursor-pointer hover:bg-black/30 transition-colors",children:ee.map(e=>(0,a.jsx)("option",{value:e,className:"bg-gray-900",children:"ALL"===e?"Tutte le rarit\xe0":e},e))}),(0,a.jsx)("div",{className:"absolute right-3 top-1/2 -translate-y-1/2 pointer-events-none text-muted-foreground",children:(0,a.jsx)("svg",{width:"10",height:"6",viewBox:"0 0 10 6",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,a.jsx)("path",{d:"M1 1L5 5L9 1",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})})})]})]}),(0,a.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center px-1",children:[(0,a.jsx)("span",{className:"text-xs font-bold text-muted-foreground uppercase tracking-wider",children:"Categorie"}),(0,a.jsxs)("span",{className:"text-xs text-muted-foreground font-mono bg-black/20 px-2 py-0.5 rounded",children:[h.length.toLocaleString()," items"]})]}),(0,a.jsx)("div",{className:"flex gap-2 overflow-x-auto pb-2 -mx-1 px-1 custom-scrollbar scrollbar-hide select-none",children:Z.map(e=>(0,a.jsx)("button",{onClick:()=>x(e),className:"whitespace-nowrap px-4 py-1.5 rounded-lg text-xs font-bold transition-all border shrink-0 ".concat(m===e?"bg-primary text-primary-foreground border-primary shadow-lg shadow-primary/20 scale-105":"bg-black/20 text-muted-foreground border-white/5 hover:bg-black/40 hover:text-foreground hover:border-white/20"),children:"ALL"===e?"TUTTI":"SET"===e?"\uD83C\uDF81 SET":e},e))})]})]}),0===h.length?(0,a.jsx)("div",{className:"flex-1 flex items-center justify-center text-muted-foreground text-sm",children:"Nessun oggetto corrisponde ai filtri"}):(0,a.jsx)("div",{className:"flex-1 overflow-hidden rounded-xl border border-white/5",children:(0,a.jsx)(el,{items:h,isEquipped:"SET"===m?()=>!1:i,equipItem:b})})]})}var ei=t(2640);let en={VILLAGER:"Villaggio",WEREWOLF:"Lupi",SOLO:"Solitario",RANDOM:"Casuale",VOTING:"Voto"},ed={GOOD:"Buona",EVIL:"Malvagia",UNKNOWN:"Sconosciuta",NONE:"Nessuna"};function ec(e){let{roles:r}=e,[t,l]=(0,s.useState)(""),[o,i]=(0,s.useState)("ALL"),n=Array.isArray(r)?r:Object.values(r||{}),d=n.filter(e=>!!((e.name||"").toLowerCase().includes(t.toLowerCase())||(e.team||"").toLowerCase().includes(t.toLowerCase()))&&("BASE"===o?!e.isAdvanced:"ADVANCED"!==o||e.isAdvanced));return((0,s.useEffect)(()=>{console.log("[RoleGallery] Received roles:",n.length,n[0])},[n]),0===n.length)?(0,a.jsxs)("div",{className:"flex flex-col items-center justify-center py-20 text-muted-foreground border border-dashed border-border rounded-xl",children:[(0,a.jsx)("p",{className:"text-lg font-bold",children:"Nessun ruolo ricevuto dall'API"}),(0,a.jsx)("p",{className:"text-sm",children:"Sto usando i dati di backup..."})]}):(0,a.jsxs)("div",{className:"flex flex-col gap-6",children:[(0,a.jsx)("div",{className:"flex justify-center gap-2",children:["ALL","BASE","ADVANCED"].map(e=>(0,a.jsx)("button",{onClick:()=>i(e),className:"px-6 py-2 rounded-full text-sm font-bold transition-all border ".concat(o===e?"bg-primary text-primary-foreground border-primary shadow-lg scale-105":"bg-card/50 text-muted-foreground border-border hover:bg-card hover:text-foreground"),children:"ALL"===e?"Tutti":"BASE"===e?"Base":"Avanzati"},e))}),(0,a.jsxs)("div",{className:"relative max-w-md mx-auto w-full",children:[(0,a.jsx)($.A,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-muted-foreground",size:18}),(0,a.jsx)("input",{type:"text",placeholder:"Cerca ruolo (es. Veggente, Villico)...",value:t,onChange:e=>l(e.target.value),className:"w-full bg-card/30 border border-border rounded-full py-3 pl-10 pr-4 focus:outline-none focus:ring-2 focus:ring-primary/50 transition-all"})]}),(0,a.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4",children:d.map((e,r)=>{var t;let s=en[e.team||""]||e.team||"Sconosciuto",l=ed[e.aura||""]||e.aura;return(0,a.jsxs)("div",{className:"group bg-card/30 border border-border rounded-xl overflow-hidden hover:border-primary/50 hover:bg-card/50 transition-all duration-300 flex flex-col h-full",children:[(0,a.jsxs)("div",{className:"flex items-center gap-4 p-4 border-b border-border/50 bg-black/10",children:[(0,a.jsx)("div",{className:"relative w-14 h-14 shrink-0 bg-black/20 rounded-lg p-1 border border-white/5 shadow-inner",children:(0,a.jsx)(F.default,{src:w.resolveImageUrl(e.id,"role",null===(t=e.image)||void 0===t?void 0:t.url),alt:e.name||"Role Image",fill:!0,className:"object-contain drop-shadow-md group-hover:scale-110 transition-transform",unoptimized:!0})}),(0,a.jsxs)("div",{className:"min-w-0",children:[(0,a.jsx)("h3",{className:"font-bold text-lg truncate text-foreground group-hover:text-primary transition-colors",children:e.name}),(0,a.jsx)("div",{className:"flex flex-wrap gap-2 mt-1",children:(0,a.jsxs)("span",{className:"inline-flex items-center gap-1 px-1.5 py-0.5 rounded text-[10px] font-bold uppercase tracking-wider border ".concat("VILLAGER"===e.team?"bg-blue-500/10 text-blue-400 border-blue-500/20":"WEREWOLF"===e.team?"bg-red-500/10 text-red-400 border-red-500/20":"bg-purple-500/10 text-purple-400 border-purple-500/20"),children:[(0,a.jsx)(T.A,{size:10}),s]})})]})]}),(0,a.jsxs)("div",{className:"p-4 flex flex-col gap-3 flex-grow",children:[e.description&&(0,a.jsx)("p",{className:"text-sm text-muted-foreground leading-relaxed flex-grow",children:e.description}),e.aura&&(0,a.jsxs)("div",{className:"flex items-center gap-2 text-xs font-medium pt-2 border-t border-border/30",children:[(0,a.jsx)(ei.A,{size:12,className:"GOOD"===e.aura?"text-green-400":"EVIL"===e.aura?"text-red-400":"text-gray-400"}),(0,a.jsx)("span",{className:"text-muted-foreground",children:"Aura:"}),(0,a.jsx)("span",{className:"GOOD"===e.aura?"text-green-400":"EVIL"===e.aura?"text-red-400":"text-gray-400",children:l})]})]})]},e.id||"role-".concat(r))})}),0===d.length&&(0,a.jsx)("div",{className:"text-center py-10 opacity-50",children:"Nessun ruolo trovato con questo nome."})]})}var em=t(4267),ex=t(1902),eu=t(1719),ep=t(6368),eg=t(98),eh=t(7825);function eb(){let[e,r]=(0,s.useState)("search"),[t,l]=(0,s.useState)([]),[o,i]=(0,s.useState)(!0),[n,d]=(0,s.useState)(""),[c,m]=(0,s.useState)([]),[x,u]=(0,s.useState)(!1),[p,g]=(0,s.useState)(!1),[h,b]=(0,s.useState)(!1),[f,v]=(0,s.useState)({joinType:"ALL",language:"",notFull:!1,minLevel:0,sortBy:"XP"});(0,s.useEffect)(()=>{async function e(){try{u(!0);let e=await w.searchClans("a");m(e),g(!0)}catch(e){console.error("Initial clan search failed",e)}finally{u(!1)}}(async function(){l(await w.getClanQuests()),i(!1)})(),e()},[]);let y=async e=>{e&&e.preventDefault(),u(!0),g(!0);try{let e={name:n,sortBy:f.sortBy,notFull:f.notFull,minLevel:f.minLevel>0?f.minLevel:void 0,language:f.language||void 0};"ALL"!==f.joinType&&(e.joinType=f.joinType);let r=await w.searchClans(e);m(r)}catch(e){console.error("Clan search failed",e),m([])}finally{u(!1)}},j=(e,r)=>{if(!e)return(0,a.jsx)(T.A,{size:20,className:"text-muted-foreground"});if(e.startsWith("font-awesome-5:")){let t=e.split(":");if(t.length>=2){let e=t[1],s=t[2]||"solid",l="fas";return"solid"===s?l="fas":"regular"===s?l="far":"light"===s?l="fal":"brands"===s&&(l="fab"),(0,a.jsx)("i",{className:"".concat(l," fa-").concat(e," text-xl"),style:{color:r||"#ffffff"}})}}return(0,a.jsx)(T.A,{size:20,className:"text-muted-foreground"})},N=t.filter(e=>e.rewards.some(e=>"GEMS"===e.type)),A=t.filter(e=>e.rewards.some(e=>"GOLD"===e.type)&&!e.rewards.some(e=>"GEMS"===e.type)),S=t.filter(e=>!e.rewards.some(e=>"GEMS"===e.type||"GOLD"===e.type));return(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)("div",{className:"p-3 bg-primary/20 rounded-xl text-primary",children:(0,a.jsx)(ei.A,{size:32})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h2",{className:"text-2xl font-bold font-serif",children:"Clan & Quest"}),(0,a.jsx)("p",{className:"text-muted-foreground",children:"Gestisci le missioni e cerca clan"})]})]}),(0,a.jsxs)("div",{className:"flex bg-black/20 p-1 rounded-lg border border-white/10",children:[(0,a.jsx)("button",{onClick:()=>r("search"),className:"px-4 py-2 rounded-md text-sm font-bold transition-all ".concat("search"===e?"bg-primary text-primary-foreground shadow-lg":"text-muted-foreground hover:text-foreground"),children:"Cerca Clan"}),(0,a.jsx)("button",{onClick:()=>r("quests"),className:"px-4 py-2 rounded-md text-sm font-bold transition-all ".concat("quests"===e?"bg-primary text-primary-foreground shadow-lg":"text-muted-foreground hover:text-foreground"),children:"Quest Attive"})]})]}),"search"===e?(0,a.jsxs)("div",{className:"animate-in fade-in slide-in-from-bottom-2",children:[(0,a.jsxs)("form",{onSubmit:y,className:"relative max-w-2xl mx-auto mb-8 space-y-4",children:[(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)($.A,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-muted-foreground",size:20}),(0,a.jsx)("input",{type:"text",placeholder:"Cerca un clan per nome...",value:n,onChange:e=>d(e.target.value),className:"w-full bg-card/30 border border-border rounded-xl py-4 pl-12 pr-6 text-lg focus:outline-none focus:ring-2 focus:ring-primary/50 transition-all"}),(0,a.jsx)("button",{type:"submit",disabled:x,className:"absolute right-2 top-1/2 -translate-y-1/2 bg-primary text-primary-foreground px-4 py-2 rounded-lg text-sm font-bold hover:bg-primary/90 disabled:opacity-50 transition-colors",children:x?(0,a.jsx)(U.A,{className:"animate-spin",size:16}):"Cerca"})]}),(0,a.jsx)("div",{className:"flex justify-end",children:(0,a.jsxs)("button",{type:"button",onClick:()=>b(!h),className:"flex items-center gap-2 text-sm text-muted-foreground hover:text-foreground transition-colors",children:[(0,a.jsx)(em.A,{size:16}),(0,a.jsx)("span",{children:"Ricerca Avanzata"}),h?(0,a.jsx)(ex.A,{size:16}):(0,a.jsx)(eu.A,{size:16})]})}),h&&(0,a.jsx)("div",{className:"bg-card/20 border border-border rounded-xl p-6 animate-in fade-in slide-in-from-top-2",children:(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)("label",{className:"text-xs font-bold uppercase text-muted-foreground",children:"Tipo Clan"}),(0,a.jsxs)("select",{value:f.joinType,onChange:e=>v(r=>({...r,joinType:e.target.value})),className:"w-full bg-black/40 border border-white/10 rounded-lg p-2 text-sm focus:outline-none focus:border-primary/50",children:[(0,a.jsx)("option",{value:"ALL",children:"Tutti"}),(0,a.jsx)("option",{value:"PUBLIC",children:"Pubblico"}),(0,a.jsx)("option",{value:"JOIN_BY_REQUEST",children:"Su Richiesta"}),(0,a.jsx)("option",{value:"PRIVATE",children:"Privato / Solo Invito"})]})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)("label",{className:"text-xs font-bold uppercase text-muted-foreground",children:"Lingua"}),(0,a.jsxs)("select",{value:f.language,onChange:e=>v(r=>({...r,language:e.target.value})),className:"w-full bg-black/40 border border-white/10 rounded-lg p-2 text-sm focus:outline-none focus:border-primary/50",children:[(0,a.jsx)("option",{value:"",children:"Tutte le lingue"}),(0,a.jsx)("option",{value:"EN",children:"Inglese"}),(0,a.jsx)("option",{value:"DE",children:"Tedesco"}),(0,a.jsx)("option",{value:"FR",children:"Francese"}),(0,a.jsx)("option",{value:"ES",children:"Spagnolo"}),(0,a.jsx)("option",{value:"IT",children:"Italiano"}),(0,a.jsx)("option",{value:"PT",children:"Portoghese"}),(0,a.jsx)("option",{value:"RU",children:"Russo"}),(0,a.jsx)("option",{value:"TR",children:"Turco"}),(0,a.jsx)("option",{value:"PL",children:"Polacco"})]})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)("label",{className:"text-xs font-bold uppercase text-muted-foreground",children:"Livello Minimo"}),(0,a.jsx)("input",{type:"number",min:"0",value:f.minLevel,onChange:e=>v(r=>({...r,minLevel:parseInt(e.target.value)||0})),className:"w-full bg-black/40 border border-white/10 rounded-lg p-2 text-sm focus:outline-none focus:border-primary/50"})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)("label",{className:"text-xs font-bold uppercase text-muted-foreground",children:"Ordina per"}),(0,a.jsxs)("select",{value:f.sortBy,onChange:e=>v(r=>({...r,sortBy:e.target.value})),className:"w-full bg-black/40 border border-white/10 rounded-lg p-2 text-sm focus:outline-none focus:border-primary/50",children:[(0,a.jsx)("option",{value:"XP",children:"XP"}),(0,a.jsx)("option",{value:"CREATION_TIME",children:"Data di Creazione"}),(0,a.jsx)("option",{value:"QUEST_HISTORY_COUNT",children:"Quest Completate"}),(0,a.jsx)("option",{value:"NAME",children:"Nome"}),(0,a.jsx)("option",{value:"MIN_LEVEL",children:"Livello Richiesto"})]})]}),(0,a.jsxs)("div",{className:"md:col-span-2 flex items-center gap-2 pt-2",children:[(0,a.jsx)("div",{className:"w-5 h-5 rounded border border-white/20 flex items-center justify-center cursor-pointer transition-colors ".concat(f.notFull?"bg-primary border-primary":"bg-black/40"),onClick:()=>v(e=>({...e,notFull:!e.notFull})),children:f.notFull&&(0,a.jsx)(Q.A,{size:14,className:"text-primary-foreground"})}),(0,a.jsx)("span",{className:"text-sm cursor-pointer select-none",onClick:()=>v(e=>({...e,notFull:!e.notFull})),children:"Solo clan non pieni"})]})]})})]}),p&&(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("h3",{className:"text-lg font-bold opacity-80",children:["Risultati (",c.length,")"]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[c.map(e=>(0,a.jsxs)("div",{className:"bg-card/20 border border-border rounded-xl p-4 flex items-center gap-4 hover:bg-card/40 transition-colors",children:[(0,a.jsx)("div",{className:"w-12 h-12 rounded-full bg-black/40 flex items-center justify-center border border-white/10 shrink-0",children:j(e.icon,e.iconColor)}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h4",{className:"font-bold text-lg leading-none mb-1",children:e.name}),(0,a.jsxs)("div",{className:"flex items-center gap-3 text-xs text-muted-foreground",children:[(0,a.jsxs)("span",{children:["Membri: ",e.memberCount]}),e.language&&(0,a.jsx)("span",{className:"uppercase border border-white/10 px-1 rounded",children:e.language})]}),e.description&&(0,a.jsx)("p",{className:"text-xs text-muted-foreground/80 mt-2 line-clamp-1",children:e.description})]})]},e.id)),0===c.length&&!x&&(0,a.jsx)("div",{className:"col-span-full text-center py-10 opacity-50 border border-dashed border-border rounded-xl",children:"Nessun clan trovato con questo nome."})]})]})]}):(0,a.jsx)("div",{className:"animate-in fade-in slide-in-from-bottom-2",children:o?(0,a.jsxs)("div",{className:"flex flex-col items-center justify-center py-20 animate-pulse text-muted-foreground",children:[(0,a.jsx)(U.A,{className:"animate-spin mb-2"}),(0,a.jsx)("p",{children:"Caricamento Clan Quest..."})]}):(0,a.jsxs)("div",{className:"space-y-12 pb-20",children:[N.length>0&&(0,a.jsxs)("section",{children:[(0,a.jsxs)("h3",{className:"text-xl font-bold mb-6 flex items-center gap-2 text-pink-400 border-b border-pink-500/20 pb-2",children:[(0,a.jsx)(ep.A,{className:"fill-current",size:24}),"Missioni Gemme (",N.length,")"]}),(0,a.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:N.map(e=>(0,a.jsxs)("div",{className:"group bg-card/20 border border-border rounded-xl overflow-hidden hover:bg-card/40 hover:border-pink-500/30 transition-all hover:-translate-y-1 duration-300 shadow-lg",children:[(0,a.jsxs)("div",{className:"relative aspect-video w-full bg-black/40",children:[e.promoImageUrl?(0,a.jsx)("img",{src:e.promoImageUrl,alt:e.name,className:"w-full h-full object-cover transition-transform group-hover:scale-105 duration-500",onError:e=>{e.target.style.display="none",e.target.parentElement.classList.add("flex","items-center","justify-center")}}):(0,a.jsx)("div",{className:"w-full h-full flex items-center justify-center text-muted-foreground bg-gradient-to-br from-pink-900/20 to-transparent",children:(0,a.jsx)(eg.A,{size:48,className:"opacity-20"})}),(0,a.jsx)("div",{className:"absolute inset-0 bg-gradient-to-t from-black/90 via-black/40 to-transparent pointer-events-none"}),(0,a.jsx)("div",{className:"absolute bottom-0 left-0 right-0 p-4",children:(0,a.jsx)("h3",{className:"font-bold text-lg text-white leading-tight drop-shadow-md line-clamp-2",children:e.name})})]}),(0,a.jsxs)("div",{className:"p-4 space-y-4",children:[(0,a.jsx)("p",{className:"text-sm text-muted-foreground line-clamp-3 min-h-[3rem]",children:e.description}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)("h4",{className:"text-[10px] font-bold uppercase tracking-widest text-muted-foreground/60",children:"Ricompense"}),(0,a.jsx)("div",{className:"flex flex-wrap gap-2",children:e.rewards.map((e,r)=>(0,a.jsxs)("div",{className:"flex items-center gap-2 px-3 py-1.5 rounded-lg border text-sm font-bold ".concat("GEMS"===e.type?"bg-pink-500/10 border-pink-500/30 text-pink-200":"GOLD"===e.type?"bg-yellow-500/10 border-yellow-500/30 text-yellow-200":"bg-black/40 border-white/10 text-muted-foreground"),children:["GOLD"===e.type&&(0,a.jsx)(eh.A,{size:14,className:"text-yellow-400"}),"GEMS"===e.type&&(0,a.jsx)(ep.A,{size:14,className:"text-pink-400"}),"XP"===e.type&&(0,a.jsx)(eg.A,{size:14,className:"text-blue-400"}),(0,a.jsxs)("span",{children:[e.amount," ",e.type]})]},r))})]})]})]},e.id))})]}),A.length>0&&(0,a.jsxs)("section",{children:[(0,a.jsxs)("h3",{className:"text-xl font-bold mb-6 flex items-center gap-2 text-yellow-400 border-b border-yellow-500/20 pb-2",children:[(0,a.jsx)(eh.A,{className:"fill-current",size:24}),"Missioni Oro (",A.length,")"]}),(0,a.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:A.map(e=>(0,a.jsxs)("div",{className:"group bg-card/20 border border-border rounded-xl overflow-hidden hover:bg-card/40 hover:border-yellow-500/30 transition-all hover:-translate-y-1 duration-300 shadow-lg",children:[(0,a.jsxs)("div",{className:"relative aspect-video w-full bg-black/40",children:[e.promoImageUrl?(0,a.jsx)("img",{src:e.promoImageUrl,alt:e.name,className:"w-full h-full object-cover transition-transform group-hover:scale-105 duration-500",onError:e=>{e.target.style.display="none",e.target.parentElement.classList.add("flex","items-center","justify-center")}}):(0,a.jsx)("div",{className:"w-full h-full flex items-center justify-center text-muted-foreground bg-gradient-to-br from-yellow-900/20 to-transparent",children:(0,a.jsx)(eg.A,{size:48,className:"opacity-20"})}),(0,a.jsx)("div",{className:"absolute inset-0 bg-gradient-to-t from-black/90 via-black/40 to-transparent pointer-events-none"}),(0,a.jsx)("div",{className:"absolute bottom-0 left-0 right-0 p-4",children:(0,a.jsx)("h3",{className:"font-bold text-lg text-white leading-tight drop-shadow-md line-clamp-2",children:e.name})})]}),(0,a.jsxs)("div",{className:"p-4 space-y-4",children:[(0,a.jsx)("p",{className:"text-sm text-muted-foreground line-clamp-3 min-h-[3rem]",children:e.description}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)("h4",{className:"text-[10px] font-bold uppercase tracking-widest text-muted-foreground/60",children:"Ricompense"}),(0,a.jsx)("div",{className:"flex flex-wrap gap-2",children:e.rewards.map((e,r)=>(0,a.jsxs)("div",{className:"flex items-center gap-2 px-3 py-1.5 rounded-lg border text-sm font-bold ".concat("GEMS"===e.type?"bg-pink-500/10 border-pink-500/30 text-pink-200":"GOLD"===e.type?"bg-yellow-500/10 border-yellow-500/30 text-yellow-200":"bg-black/40 border-white/10 text-muted-foreground"),children:["GOLD"===e.type&&(0,a.jsx)(eh.A,{size:14,className:"text-yellow-400"}),"GEMS"===e.type&&(0,a.jsx)(ep.A,{size:14,className:"text-pink-400"}),"XP"===e.type&&(0,a.jsx)(eg.A,{size:14,className:"text-blue-400"}),(0,a.jsxs)("span",{children:[e.amount," ",e.type]})]},r))})]})]})]},e.id))})]}),S.length>0&&(0,a.jsxs)("section",{children:[(0,a.jsxs)("h3",{className:"text-xl font-bold mb-6 flex items-center gap-2 text-blue-400 border-b border-blue-500/20 pb-2",children:[(0,a.jsx)(eg.A,{className:"fill-current",size:24}),"Altre Missioni (",S.length,")"]}),(0,a.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:S.map(e=>(0,a.jsxs)("div",{className:"group bg-card/20 border border-border rounded-xl overflow-hidden hover:bg-card/40 transition-all hover:-translate-y-1 duration-300 shadow-lg",children:[(0,a.jsxs)("div",{className:"relative aspect-video w-full bg-black/40",children:[e.promoImageUrl?(0,a.jsx)("img",{src:e.promoImageUrl,alt:e.name,className:"w-full h-full object-cover transition-transform group-hover:scale-105 duration-500",onError:e=>{e.target.style.display="none",e.target.parentElement.classList.add("flex","items-center","justify-center")}}):(0,a.jsx)("div",{className:"w-full h-full flex items-center justify-center text-muted-foreground bg-gradient-to-br from-blue-900/20 to-transparent",children:(0,a.jsx)(eg.A,{size:48,className:"opacity-20"})}),(0,a.jsx)("div",{className:"absolute inset-0 bg-gradient-to-t from-black/90 via-black/40 to-transparent pointer-events-none"}),(0,a.jsx)("div",{className:"absolute bottom-0 left-0 right-0 p-4",children:(0,a.jsx)("h3",{className:"font-bold text-lg text-white leading-tight drop-shadow-md line-clamp-2",children:e.name})})]}),(0,a.jsxs)("div",{className:"p-4 space-y-4",children:[(0,a.jsx)("p",{className:"text-sm text-muted-foreground line-clamp-3 min-h-[3rem]",children:e.description}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)("h4",{className:"text-[10px] font-bold uppercase tracking-widest text-muted-foreground/60",children:"Ricompense"}),(0,a.jsx)("div",{className:"flex flex-wrap gap-2",children:e.rewards.map((e,r)=>(0,a.jsx)("div",{className:"flex items-center gap-2 px-3 py-1.5 rounded-lg bg-black/40 border border-white/10 text-sm font-bold text-muted-foreground",children:(0,a.jsxs)("span",{children:[e.amount," ",e.type]})},r))})]})]})]},e.id))})]}),0===t.length&&(0,a.jsx)("div",{className:"col-span-full text-center py-20 opacity-50 border border-dashed border-border rounded-xl",children:"Nessuna quest attiva al momento."})]})})]})}var ef=t(2423),ev=t(6644);function ey(){var e,r,t;let{rankedSeason:l,leaderboard:o,highscores:i}=I(),[n,d]=(0,s.useState)("leaderboard"),[c,m]=(0,s.useState)({}),[x,u]=(0,s.useState)(!1),[p,g]=(0,s.useState)(""),[h,b]=(0,s.useState)(null),[f,v]=(0,s.useState)(!1),[y,j]=(0,s.useState)(null),N=async e=>{if(e.preventDefault(),p.trim()){v(!0),j(null),b(null);try{let e=await w.searchPlayer(p.trim());e?b(e):j("Giocatore non trovato.")}catch(e){j("Errore durante la ricerca.")}finally{v(!1)}}};(0,s.useEffect)(()=>{let e=!0;return(async()=>{let r="leaderboard"===n?o:i;if(!r.length)return;let t=r.map(e=>e.playerId).filter(e=>!c[e]);if(0!==t.length){u(!0);for(let r=0;r<t.length&&e;r+=5){let a=t.slice(r,r+5),s={};await Promise.all(a.map(async e=>{try{let r=await w.getPlayerProfile(e);r&&r.equippedAvatar&&r.equippedAvatar.url&&(s[e]=r.equippedAvatar.url)}catch(r){console.error("Failed to fetch avatar for ".concat(e),r)}})),e&&(m(e=>({...e,...s})),await new Promise(e=>setTimeout(e,1e3)))}e&&u(!1)}})(),()=>{e=!1}},[n,o,i]);let A=e=>new Date(e).toLocaleDateString("it-IT",{day:"numeric",month:"long",year:"numeric"});return(0,a.jsxs)("div",{className:"space-y-8 animate-in fade-in slide-in-from-bottom-4 duration-500",children:[l&&(0,a.jsxs)("div",{className:"relative overflow-hidden rounded-2xl bg-gradient-to-r from-purple-900/50 via-indigo-900/50 to-blue-900/50 border border-indigo-500/30 p-8 shadow-2xl",children:[(0,a.jsx)("div",{className:"absolute top-0 right-0 p-4 opacity-10",children:(0,a.jsx)(_.A,{size:200})}),(0,a.jsxs)("div",{className:"relative z-10 flex flex-col md:flex-row items-start md:items-center justify-between gap-6",children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[(0,a.jsxs)("span",{className:"px-3 py-1 rounded-full bg-indigo-500/20 text-indigo-300 border border-indigo-500/30 text-xs font-bold uppercase tracking-wider",children:["Stagione ",l.number]}),new Date>=new Date(l.startTime)&&new Date<=new Date(l.endTime)&&(0,a.jsxs)("span",{className:"flex items-center gap-1 text-green-400 text-xs font-bold animate-pulse",children:[(0,a.jsx)("span",{className:"w-2 h-2 rounded-full bg-green-400"})," LIVE"]})]}),(0,a.jsx)("h2",{className:"text-3xl md:text-4xl font-serif font-bold text-white mb-2",children:"Competizione Ranked"}),(0,a.jsxs)("p",{className:"text-indigo-200 flex items-center gap-2",children:[(0,a.jsx)(ef.A,{size:16}),A(l.startTime)," - ",A(l.endTime)]})]}),(0,a.jsxs)("div",{className:"bg-black/30 backdrop-blur-md rounded-xl p-4 border border-white/10 min-w-[200px]",children:[(0,a.jsx)("div",{className:"text-sm text-gray-400 mb-1",children:"Status Stagione"}),(0,a.jsx)("div",{className:"text-lg font-bold text-white",children:"In Corso"}),(0,a.jsx)("div",{className:"w-full bg-gray-700 h-1.5 rounded-full mt-3 overflow-hidden",children:(0,a.jsx)("div",{className:"bg-indigo-500 h-full w-3/4"})})]})]})]}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsxs)("form",{onSubmit:N,className:"flex gap-2",children:[(0,a.jsxs)("div",{className:"relative flex-1",children:[(0,a.jsx)($.A,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-muted-foreground w-4 h-4"}),(0,a.jsx)("input",{type:"text",placeholder:"Cerca un giocatore per username...",value:p,onChange:e=>g(e.target.value),className:"w-full pl-9 pr-4 py-2 bg-black/20 border border-border/50 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-primary/50"}),p&&(0,a.jsx)("button",{type:"button",onClick:()=>{g(""),b(null),j(null)},className:"absolute right-3 top-1/2 -translate-y-1/2 text-muted-foreground hover:text-white",children:(0,a.jsx)(W.A,{className:"w-4 h-4"})})]}),(0,a.jsx)("button",{type:"submit",disabled:f||!p.trim(),className:"px-4 py-2 bg-primary/20 hover:bg-primary/30 text-primary border border-primary/30 rounded-lg text-sm font-bold transition-colors disabled:opacity-50",children:f?"Cercando...":"Cerca"})]}),h&&(0,a.jsx)("div",{className:"mt-4 p-6 bg-card/40 border border-primary/30 rounded-xl animate-in fade-in slide-in-from-top-2",children:(0,a.jsxs)("div",{className:"flex flex-col md:flex-row gap-6 items-center md:items-start",children:[(0,a.jsx)("div",{className:"w-24 h-24 md:w-32 md:h-32 rounded-full border-4 border-primary/20 bg-black/40 overflow-hidden flex-shrink-0",children:(null===(e=h.equippedAvatar)||void 0===e?void 0:e.url)?(0,a.jsx)("img",{src:h.equippedAvatar.url,alt:h.username,className:"w-full h-full object-cover"}):(0,a.jsx)("div",{className:"w-full h-full flex items-center justify-center text-muted-foreground",children:(0,a.jsx)(L.A,{size:48})})}),(0,a.jsxs)("div",{className:"flex-1 text-center md:text-left space-y-4 w-full",children:[(0,a.jsx)("div",{children:(0,a.jsxs)("h3",{className:"text-2xl font-bold text-white flex items-center justify-center md:justify-start gap-2",children:[h.username,(0,a.jsxs)("span",{className:"text-sm px-2 py-0.5 bg-primary/20 text-primary rounded-full border border-primary/20 font-mono",children:["Lvl ",h.level]})]})}),(0,a.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[(0,a.jsxs)("div",{className:"bg-black/20 p-3 rounded-lg border border-white/5",children:[(0,a.jsx)("div",{className:"text-xs text-muted-foreground uppercase tracking-wider mb-1",children:"Vittorie"}),(0,a.jsx)("div",{className:"text-lg font-bold text-green-400",children:(null===(r=h.gameStats)||void 0===r?void 0:r.totalWinCount)||0})]}),(0,a.jsxs)("div",{className:"bg-black/20 p-3 rounded-lg border border-white/5",children:[(0,a.jsx)("div",{className:"text-xs text-muted-foreground uppercase tracking-wider mb-1",children:"Sconfitte"}),(0,a.jsx)("div",{className:"text-lg font-bold text-red-400",children:(null===(t=h.gameStats)||void 0===t?void 0:t.totalLoseCount)||0})]}),(0,a.jsxs)("div",{className:"bg-black/20 p-3 rounded-lg border border-white/5",children:[(0,a.jsx)("div",{className:"text-xs text-muted-foreground uppercase tracking-wider mb-1",children:"Ranked Skill"}),(0,a.jsx)("div",{className:"text-lg font-bold text-indigo-400",children:h.rankedSeasonSkill&&h.rankedSeasonSkill>-1?h.rankedSeasonSkill:"N/A"})]}),(0,a.jsxs)("div",{className:"bg-black/20 p-3 rounded-lg border border-white/5",children:[(0,a.jsx)("div",{className:"text-xs text-muted-foreground uppercase tracking-wider mb-1",children:"Best Rank"}),(0,a.jsx)("div",{className:"text-lg font-bold text-yellow-400",children:h.rankedSeasonBestRank&&h.rankedSeasonBestRank>0?"#".concat(h.rankedSeasonBestRank):"N/A"})]})]})]})]})}),y&&(0,a.jsx)("div",{className:"mt-4 p-4 bg-red-500/10 border border-red-500/20 text-red-400 rounded-lg text-sm text-center",children:y})]}),(0,a.jsxs)("div",{className:"flex items-center gap-4 border-b border-border/40 pb-1",children:[(0,a.jsxs)("button",{onClick:()=>d("leaderboard"),className:"pb-3 px-4 text-sm font-bold transition-all relative ".concat("leaderboard"===n?"text-primary":"text-muted-foreground hover:text-foreground"),children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(_.A,{size:18}),"Classifica Stagionale"]}),"leaderboard"===n&&(0,a.jsx)("div",{className:"absolute bottom-0 left-0 w-full h-0.5 bg-primary rounded-t-full"})]}),(0,a.jsxs)("button",{onClick:()=>d("highscores"),className:"pb-3 px-4 text-sm font-bold transition-all relative ".concat("highscores"===n?"text-primary":"text-muted-foreground hover:text-foreground"),children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(ev.A,{size:18}),"Hall of Fame (XP)"]}),"highscores"===n&&(0,a.jsx)("div",{className:"absolute bottom-0 left-0 w-full h-0.5 bg-primary rounded-t-full"})]})]}),(0,a.jsx)("div",{className:"bg-card/20 rounded-2xl border border-border/50 overflow-hidden",children:(0,a.jsx)("div",{className:"overflow-x-auto",children:(0,a.jsxs)("table",{className:"w-full text-left border-collapse",children:[(0,a.jsx)("thead",{children:(0,a.jsxs)("tr",{className:"bg-black/20 text-muted-foreground text-xs uppercase tracking-wider border-b border-border/30",children:[(0,a.jsx)("th",{className:"p-4 w-20 text-center",children:"Rank"}),(0,a.jsx)("th",{className:"p-4",children:"Giocatore"}),(0,a.jsx)("th",{className:"p-4 text-right",children:"leaderboard"===n?"Skill Rating":"Totale XP"})]})}),(0,a.jsx)("tbody",{className:"divide-y divide-border/20",children:0===("leaderboard"===n?o:i).length?(0,a.jsx)("tr",{children:(0,a.jsx)("td",{colSpan:3,className:"p-8 text-center text-muted-foreground",children:"Nessun dato disponibile per questa classifica."})}):("leaderboard"===n?o:i).map((e,r)=>{let t=r+1,s=t<=3;return(0,a.jsxs)("tr",{className:"\n                        hover:bg-primary/5 transition-colors\n                        ".concat(1===t?"bg-yellow-500/5":"","\n                        ").concat(2===t?"bg-gray-400/5":"","\n                        ").concat(3===t?"bg-amber-700/5":"","\n                      "),children:[(0,a.jsxs)("td",{className:"p-4 text-center font-bold",children:[1===t&&(0,a.jsx)("span",{className:"text-2xl",children:"\uD83E\uDD47"}),2===t&&(0,a.jsx)("span",{className:"text-2xl",children:"\uD83E\uDD48"}),3===t&&(0,a.jsx)("span",{className:"text-2xl",children:"\uD83E\uDD49"}),t>3&&(0,a.jsxs)("span",{className:"text-muted-foreground",children:["#",t]})]}),(0,a.jsx)("td",{className:"p-4",children:(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)("div",{className:"w-10 h-10 rounded-full flex items-center justify-center text-sm font-bold border overflow-hidden ".concat(s?"border-primary/50 bg-primary/10 text-primary":"border-border bg-card text-muted-foreground"),children:c[e.playerId]?(0,a.jsx)("img",{src:c[e.playerId],alt:e.username,className:"w-full h-full object-cover"}):(0,a.jsx)(L.A,{size:16})}),(0,a.jsx)("div",{children:(0,a.jsx)("div",{className:"font-bold ".concat(s?"text-foreground":"text-muted-foreground"),children:e.username})})]})}),(0,a.jsx)("td",{className:"p-4 text-right font-mono font-bold text-lg",children:"leaderboard"===n?(e.skill||0).toLocaleString():(e.xp||0).toLocaleString()})]},e.playerId||r)})})]})})})]})}var ej=t(865),eN=t(6233),ew=t(7508),eA=t(6889),eS=t(7072);let ek={"xp-increase-win":"https://www.wolvesville.com/static/media/ability_icon_xp_boost_win.1d22572ff98a1f18838c.png","xp-increase-quest":"https://www.wolvesville.com/static/media/ability_icon_xp_boost_quest.1d22572ff98a1f18838c.png","xp-increase-play-with-friends":"https://www.wolvesville.com/static/media/ability_icon_xp_boost_friends.1d22572ff98a1f18838c.png","xp-increase-bp":"https://www.wolvesville.com/static/media/ability_icon_xp_boost_battle_pass.1d22572ff98a1f18838c.png","xp-increase-talisman":"https://www.wolvesville.com/static/media/ability_icon_talisman_boost.0d22572ff98a1f18838c.png","xp-increase-play-with-clan":"https://www.wolvesville.com/static/media/ability_icon_xp_boost_quest.1d22572ff98a1f18838c.png","talismans-no-consume":"https://www.wolvesville.com/static/media/ability_icon_talismans_no_consume.1d22572ff98a1f18838c.png","talismans-increase-effect":"https://www.wolvesville.com/static/media/ability_icon_talisman_boost.0d22572ff98a1f18838c.png","rose-increase-received":"https://www.wolvesville.com/static/media/ability_icon_rose_boost.1d22572ff98a1f18838c.png","rose-single-boost":"https://www.wolvesville.com/static/media/ability_icon_rose_boost.1d22572ff98a1f18838c.png","rose-single-no-consume":"https://www.wolvesville.com/static/media/ability_icon_rose_boost.1d22572ff98a1f18838c.png","rose-server-boost":"https://www.wolvesville.com/static/media/ability_icon_rose_boost.1d22572ff98a1f18838c.png","clan-quest-time-reduction":"https://www.wolvesville.com/static/media/ability_icon_clan_quest_time.1d22572ff98a1f18838c.png","clan-quest-time-increase-by-play-time":"https://www.wolvesville.com/static/media/ability_icon_clan_quest_time.1d22572ff98a1f18838c.png","chat-stats":"https://www.wolvesville.com/static/media/ability_icon_xp_boost_win.1d22572ff98a1f18838c.png","voting-history":"https://www.wolvesville.com/static/media/ability_icon_xp_boost_win.1d22572ff98a1f18838c.png"},eI={"xp-increase-win":"Bonus XP Vittoria","xp-increase-quest":"Bonus XP Missioni Clan","xp-increase-play-with-friends":"Bonus XP Amici","xp-increase-bp":"Bonus XP Battle Pass","xp-increase-talisman":"Bonus XP Talismani","xp-increase-play-with-clan":"Bonus XP Giocando con Clan","talismans-no-consume":"Talismani Infiniti","talismans-increase-effect":"Potenziamento Talismani","rose-increase-received":"Bonus Rose Ricevute","rose-single-boost":"Bonus Rose Singole","rose-single-no-consume":"Rose Singole Infinite","rose-server-boost":"Bonus Rose Server","clan-quest-time-reduction":"Riduzione Tempo Missioni","clan-quest-time-increase-by-play-time":"Tempo Missioni (Playtime)","chat-stats":"Statistiche Chat","voting-history":"Cronologia Voti"},eC=e=>{if(!e)return null;let r=e.replace(/-\d+$/,"").trim();return ek[r]?ek[r]:r.includes("xp")?"https://www.wolvesville.com/static/media/ability_icon_xp_boost_win.1d22572ff98a1f18838c.png":r.includes("talisman")?"https://www.wolvesville.com/static/media/ability_icon_talisman_boost.0d22572ff98a1f18838c.png":r.includes("rose")?"https://www.wolvesville.com/static/media/ability_icon_rose_boost.1d22572ff98a1f18838c.png":null},eE=e=>{if(!e)return"";let r=e.replace(/-\d+$/,"").trim();return eI[r]||r};function eO(){var e,r,t,l,o,i,n;let{roles:d}=I(),[c,m]=(0,s.useState)(""),[x,u]=(0,s.useState)(!1),[p,g]=(0,s.useState)(null),[h,b]=(0,s.useState)(null),[f,v]=(0,s.useState)("overview"),y=async e=>{if(e.preventDefault(),c.trim()){u(!0),b(null),g(null);try{let e=await w.searchPlayer(c.trim());if(!e){b("Giocatore non trovato."),u(!1);return}let r=await w.getPlayerProfile(e.id);r?(!r.personalMessage&&e.personalMessage&&(r.personalMessage=e.personalMessage),g(r)):g(e)}catch(e){console.error("Profile search error:",e),b("Si \xe8 verificato un errore durante la ricerca.")}finally{u(!1)}}},j=e=>{var r;let t=d.find(r=>r.id===e);return(null==t?void 0:null===(r=t.image)||void 0===r?void 0:r.url)||null},N=e=>{let r=d.find(r=>r.id===e);return(null==r?void 0:r.name)||e},A=(()=>{var e;if(!(null==p?void 0:null===(e=p.gameStats)||void 0===e?void 0:e.achievements))return[];let r=p.gameStats.achievements;return Array.isArray(r)?r:"object"==typeof r?Object.values(r):[]})();return(0,a.jsxs)("div",{className:"max-w-6xl mx-auto space-y-8",children:[(0,a.jsxs)("div",{className:"transition-all duration-500 ".concat(p?"":"py-20 flex flex-col items-center"),children:[!p&&(0,a.jsxs)("div",{className:"text-center mb-8 space-y-2",children:[(0,a.jsx)("h2",{className:"text-3xl font-bold font-serif gold-text",children:"Cerca Giocatore"}),(0,a.jsx)("p",{className:"text-muted-foreground",children:"Trova profili, statistiche e carte ruolo"})]}),(0,a.jsxs)("form",{onSubmit:y,className:"relative w-full ".concat(p?"max-w-md":"max-w-xl"),children:[(0,a.jsx)($.A,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-muted-foreground w-5 h-5"}),(0,a.jsx)("input",{type:"text",placeholder:"Inserisci username...",value:c,onChange:e=>m(e.target.value),className:"w-full pl-12 pr-12 py-4 bg-black/20 border border-border/50 rounded-xl text-lg focus:outline-none focus:ring-2 focus:ring-primary/50 transition-all shadow-lg backdrop-blur-sm"}),c&&(0,a.jsx)("button",{type:"button",onClick:()=>m(""),className:"absolute right-4 top-1/2 -translate-y-1/2 text-muted-foreground hover:text-white",children:(0,a.jsx)(W.A,{className:"w-5 h-5"})})]}),x&&(0,a.jsxs)("div",{className:"mt-8 flex flex-col items-center gap-2 animate-pulse text-muted-foreground",children:[(0,a.jsx)("div",{className:"w-8 h-8 border-4 border-primary/30 border-t-primary rounded-full animate-spin"}),(0,a.jsx)("span",{className:"text-sm font-serif",children:"Ricerca in corso..."})]}),h&&(0,a.jsx)("div",{className:"mt-6 p-4 bg-red-500/10 border border-red-500/20 text-red-400 rounded-xl text-center animate-in fade-in slide-in-from-top-2",children:h})]}),p&&!x&&(0,a.jsxs)("div",{className:"space-y-8 animate-in fade-in slide-in-from-bottom-4 duration-500",children:[(0,a.jsxs)("div",{className:"relative overflow-hidden bg-card/40 border border-border/50 rounded-2xl p-6 md:p-10 shadow-2xl",children:[(0,a.jsx)("div",{className:"absolute inset-0 bg-gradient-to-br from-primary/5 to-transparent pointer-events-none"}),(0,a.jsxs)("div",{className:"relative z-10 flex flex-col md:flex-row items-center md:items-start gap-8",children:[(0,a.jsxs)("div",{className:"w-40 h-40 md:w-48 md:h-48 rounded-full border-4 border-primary/20 bg-black/40 overflow-hidden shadow-2xl flex-shrink-0 relative group",children:[(null===(e=p.equippedAvatar)||void 0===e?void 0:e.url)?(0,a.jsx)("img",{src:p.equippedAvatar.url,alt:p.username,className:"w-full h-full object-cover transition-transform duration-500 group-hover:scale-110"}):(0,a.jsx)("div",{className:"w-full h-full flex items-center justify-center text-muted-foreground",children:(0,a.jsx)(L.A,{size:64})}),(0,a.jsx)("div",{className:"absolute inset-0 ring-1 ring-inset ring-white/10 rounded-full"})]}),(0,a.jsxs)("div",{className:"flex-1 text-center md:text-left space-y-4 pt-2",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-4xl md:text-5xl font-bold font-serif gold-text mb-2 tracking-tight",children:p.username}),(0,a.jsxs)("div",{className:"flex flex-wrap items-center justify-center md:justify-start gap-3",children:[(0,a.jsxs)("span",{className:"px-3 py-1 bg-primary/20 text-primary border border-primary/20 rounded-full font-mono font-bold text-sm",children:["LVL ",p.level]}),p.clanId&&(0,a.jsxs)("span",{className:"px-3 py-1 bg-purple-500/20 text-purple-300 border border-purple-500/20 rounded-full text-sm font-bold flex items-center gap-2",children:[(0,a.jsx)(ei.A,{size:14}),"Clan Member"]}),p.rankedSeasonSkill&&(0,a.jsxs)("span",{className:"px-3 py-1 bg-indigo-500/20 text-indigo-300 border border-indigo-500/20 rounded-full text-sm font-bold flex items-center gap-2",children:[(0,a.jsx)(_.A,{size:14}),"Skill ",p.rankedSeasonSkill]})]})]}),p.personalMessage?(0,a.jsxs)("p",{className:"text-lg text-gray-300 italic max-w-2xl border-l-4 border-primary/30 pl-4 py-1",children:['"',p.personalMessage,'"']}):(0,a.jsx)("p",{className:"text-muted-foreground italic text-sm",children:"Nessuna biografia disponibile"}),(0,a.jsxs)("div",{className:"pt-4 flex flex-col gap-1 text-xs text-muted-foreground font-mono",children:[(0,a.jsxs)("span",{children:["ID: ",p.id]}),p.lastOnline&&(0,a.jsxs)("span",{children:["Ultimo accesso: ",new Date(p.lastOnline).toLocaleDateString()]}),p.creationTime&&(0,a.jsxs)("span",{children:["Membro dal: ",new Date(p.creationTime).toLocaleDateString()]})]})]})]})]}),(0,a.jsx)("div",{className:"flex justify-center md:justify-start border-b border-border/40 overflow-x-auto",children:[{id:"overview",label:"Panoramica",icon:ej.A},{id:"roles",label:"Progressi Ruoli",icon:L.A},{id:"cards",label:"Carte Equipaggiate",icon:eN.A},{id:"badges",label:"Badges",icon:ew.A}].map(e=>(0,a.jsxs)("button",{onClick:()=>v(e.id),className:"flex items-center gap-2 px-6 py-4 text-sm font-bold transition-all relative whitespace-nowrap ".concat(f===e.id?"text-primary":"text-muted-foreground hover:text-foreground hover:bg-white/5"),children:[(0,a.jsx)(e.icon,{size:18}),e.label,f===e.id&&(0,a.jsx)("div",{className:"absolute bottom-0 left-0 w-full h-0.5 bg-primary rounded-t-full shadow-[0_-2px_10px_rgba(234,179,8,0.5)]"})]},e.id))}),(0,a.jsxs)("div",{className:"min-h-[300px]",children:["overview"===f&&(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[(0,a.jsxs)("div",{className:"bg-card/20 p-6 rounded-xl border border-border/50 hover:border-primary/30 transition-colors",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3 text-muted-foreground mb-4",children:[(0,a.jsx)(_.A,{size:20,className:"text-yellow-500"}),(0,a.jsx)("span",{className:"text-xs uppercase tracking-wider font-bold",children:"Vittorie Totali"})]}),(0,a.jsx)("div",{className:"text-4xl font-bold text-white mb-1",children:(null===(t=p.gameStats)||void 0===t?void 0:null===(r=t.totalWinCount)||void 0===r?void 0:r.toLocaleString())||0}),(0,a.jsx)("div",{className:"text-xs text-green-400 font-mono",children:"Partite vinte"})]}),(0,a.jsxs)("div",{className:"bg-card/20 p-6 rounded-xl border border-border/50 hover:border-primary/30 transition-colors",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3 text-muted-foreground mb-4",children:[(0,a.jsx)(W.A,{size:20,className:"text-red-500"}),(0,a.jsx)("span",{className:"text-xs uppercase tracking-wider font-bold",children:"Sconfitte Totali"})]}),(0,a.jsx)("div",{className:"text-4xl font-bold text-white mb-1",children:(null===(o=p.gameStats)||void 0===o?void 0:null===(l=o.totalLoseCount)||void 0===l?void 0:l.toLocaleString())||0}),(0,a.jsx)("div",{className:"text-xs text-red-400 font-mono",children:"Partite perse"})]}),(0,a.jsxs)("div",{className:"bg-card/20 p-6 rounded-xl border border-border/50 hover:border-primary/30 transition-colors",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3 text-muted-foreground mb-4",children:[(0,a.jsx)(eA.A,{size:20,className:"text-blue-500"}),(0,a.jsx)("span",{className:"text-xs uppercase tracking-wider font-bold",children:"Tempo di Gioco"})]}),(0,a.jsx)("div",{className:"text-4xl font-bold text-white mb-1",children:(e=>{let r=Math.floor(e/60);return"".concat(r.toLocaleString()," ore")})((null===(i=p.gameStats)||void 0===i?void 0:i.totalPlayTimeInMinutes)||0)}),(0,a.jsx)("div",{className:"text-xs text-blue-400 font-mono",children:"Totale ore"})]}),(0,a.jsxs)("div",{className:"bg-card/20 p-6 rounded-xl border border-border/50 hover:border-primary/30 transition-colors relative overflow-hidden",children:[(0,a.jsx)("div",{className:"absolute right-0 top-0 p-4 opacity-5",children:(0,a.jsx)(ew.A,{size:100})}),(0,a.jsxs)("div",{className:"flex items-center gap-3 text-muted-foreground mb-4",children:[(0,a.jsx)(ew.A,{size:20,className:"text-purple-500"}),(0,a.jsx)("span",{className:"text-xs uppercase tracking-wider font-bold",children:"Win Rate"})]}),(0,a.jsxs)("div",{className:"text-4xl font-bold text-white mb-1",children:[p.gameStats?(p.gameStats.totalWinCount/(p.gameStats.totalWinCount+p.gameStats.totalLoseCount)*100).toFixed(1):0,"%"]}),(0,a.jsx)("div",{className:"text-xs text-purple-400 font-mono",children:"Percentuale vittorie"})]})]}),"roles"===f&&(0,a.jsx)("div",{children:A&&0!==A.length?(0,a.jsx)("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 gap-4",children:A.sort((e,r)=>r.level-e.level).map(e=>{let r=N(e.roleId),t=j(e.roleId);return(0,a.jsxs)("div",{className:"bg-card/20 border border-border/50 rounded-xl p-4 flex flex-col items-center gap-3 hover:bg-card/40 transition-all group",children:[(0,a.jsxs)("div",{className:"w-16 h-16 relative",children:[t?(0,a.jsx)("img",{src:t,alt:r,className:"w-full h-full object-contain drop-shadow-lg group-hover:scale-110 transition-transform"}):(0,a.jsx)("div",{className:"w-full h-full bg-primary/10 rounded-full flex items-center justify-center",children:(0,a.jsx)(L.A,{size:24,className:"text-primary/50"})}),(0,a.jsxs)("div",{className:"absolute -bottom-2 -right-2 bg-black/80 border border-primary/30 text-primary text-xs font-bold px-2 py-0.5 rounded-full shadow-lg",children:["Lvl ",e.level]})]}),(0,a.jsxs)("div",{className:"text-center w-full",children:[(0,a.jsx)("div",{className:"font-bold text-sm truncate w-full",title:r,children:r}),(0,a.jsxs)("div",{className:"text-xs text-muted-foreground mt-1",children:[e.points," / ",e.pointsNextLevel," XP"]}),(0,a.jsx)("div",{className:"w-full bg-gray-700 h-1 rounded-full mt-2 overflow-hidden",children:(0,a.jsx)("div",{className:"bg-primary h-full transition-all duration-1000",style:{width:"".concat(Math.min(100,e.points/e.pointsNextLevel*100),"%")}})})]})]},e.roleId)})}):(0,a.jsxs)("div",{className:"text-center py-20 text-muted-foreground",children:[(0,a.jsx)(L.A,{size:48,className:"mx-auto mb-4 opacity-20"}),(0,a.jsx)("p",{children:"Nessun progresso ruolo trovato."})]})}),"cards"===f&&(0,a.jsx)("div",{children:p.roleCards&&0!==p.roleCards.length?(0,a.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6",children:[...p.roleCards].sort((e,r)=>{let t={MYTHICAL:5,MYTHIC:5,LEGENDARY:4,EPIC:3,RARE:2,COMMON:1},a=t[e.rarity]||0;return(t[r.rarity]||0)-a}).map((e,r)=>{let t=e.roleIdBase||e.roleId1,s=e.roleIdsAdvanced||(e.roleId2?[e.roleId2]:[]),l=N(t||""),o=j(t||""),i=[e.abilityId1,e.abilityId2,e.abilityId3,e.abilityId4,e.abilityId5].filter(Boolean);return(0,a.jsx)("div",{className:"relative p-1 rounded-xl bg-gradient-to-br ".concat("MYTHICAL"===e.rarity||"MYTHIC"===e.rarity?"from-pink-500/50 via-red-500/50 to-purple-900/50 border border-red-500/50":"LEGENDARY"===e.rarity?"from-yellow-500/50 to-yellow-900/50":"EPIC"===e.rarity?"from-purple-500/50 to-purple-900/50":"RARE"===e.rarity?"from-blue-500/50 to-blue-900/50":"from-gray-500/50 to-gray-900/50"),children:(0,a.jsxs)("div",{className:"bg-black/80 rounded-lg p-4 h-full relative overflow-hidden",children:[o&&(0,a.jsx)("img",{src:o,className:"absolute -right-4 -bottom-4 w-32 h-32 opacity-10 rotate-12",alt:""}),(0,a.jsx)("div",{className:"flex items-start justify-between mb-4 relative z-10",children:(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)("div",{className:"w-12 h-12 relative",children:o?(0,a.jsx)("img",{src:o,alt:l,className:"w-full h-full object-contain"}):(0,a.jsx)(L.A,{})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"font-bold text-lg",children:l}),(0,a.jsx)("div",{className:"text-xs px-2 py-0.5 rounded-full inline-block border ".concat("MYTHICAL"===e.rarity||"MYTHIC"===e.rarity?"text-pink-400 border-pink-500/30 bg-pink-500/10":"LEGENDARY"===e.rarity?"text-yellow-400 border-yellow-500/30 bg-yellow-500/10":"EPIC"===e.rarity?"text-purple-400 border-purple-500/30 bg-purple-500/10":"RARE"===e.rarity?"text-blue-400 border-blue-500/30 bg-blue-500/10":"text-gray-400 border-gray-500/30 bg-gray-500/10"),children:e.rarity})]})]})}),s.length>0&&(0,a.jsxs)("div",{className:"space-y-2 mb-4 relative z-10",children:[(0,a.jsx)("div",{className:"text-xs text-muted-foreground uppercase tracking-wider",children:"Ruoli Avanzati"}),(0,a.jsx)("div",{className:"flex flex-wrap gap-2",children:s.map(e=>(0,a.jsxs)("div",{className:"flex items-center gap-2 bg-white/5 p-1.5 rounded-lg border border-white/10",children:[j(e)&&(0,a.jsx)("img",{src:j(e),className:"w-6 h-6 object-contain",alt:e}),(0,a.jsx)("span",{className:"text-sm",children:N(e)})]},e))})]}),i.length>0&&(0,a.jsxs)("div",{className:"space-y-2 relative z-10",children:[(0,a.jsxs)("div",{className:"text-xs text-muted-foreground uppercase tracking-wider",children:["Abilit\xe0 (",i.length,")"]}),(0,a.jsx)("div",{className:"space-y-1",children:i.map((e,r)=>{let t=eC(e),s=eE(e);return(0,a.jsxs)("div",{className:"flex items-center gap-2 text-sm text-gray-300",children:[t?(0,a.jsx)("img",{src:t,alt:"",className:"w-5 h-5 object-contain",onError:e=>{e.currentTarget.style.display="none";let r=e.currentTarget.nextElementSibling;r&&r.classList.remove("hidden")}}):null,(0,a.jsx)(eS.A,{size:14,className:"text-yellow-500 ".concat(t?"hidden":"")}),(0,a.jsx)("span",{className:"truncate",children:s})]},r)})})]})]})},r)})}):(0,a.jsxs)("div",{className:"text-center py-20 text-muted-foreground",children:[(0,a.jsx)(eN.A,{size:48,className:"mx-auto mb-4 opacity-20"}),(0,a.jsx)("p",{children:"Nessuna carta equipaggiata trovata."})]})}),"badges"===f&&(0,a.jsxs)("div",{className:"text-center py-20 bg-card/10 rounded-2xl border border-dashed border-border/50",children:[(0,a.jsx)(ew.A,{size:64,className:"mx-auto mb-6 text-muted-foreground/30"}),(0,a.jsxs)("h3",{className:"text-xl font-bold mb-2",children:["Badge Collezionati: ",(null===(n=p.badgeIds)||void 0===n?void 0:n.length)||0]}),(0,a.jsx)("p",{className:"text-muted-foreground max-w-md mx-auto mb-6",children:"Le icone e i dettagli dei badge non sono ancora disponibili."}),p.badgeIds&&p.badgeIds.length>0&&(0,a.jsx)("div",{className:"flex flex-wrap justify-center gap-2 max-w-2xl mx-auto",children:p.badgeIds.map(e=>(0,a.jsx)("span",{className:"px-2 py-1 bg-white/5 rounded border border-white/10 text-xs font-mono text-muted-foreground",children:e},e))})]})]})]})]})}function eL(){let{roles:e,items:r,roleIcons:t,activeOffers:d,loading:c}=I(),[m,x]=(0,s.useState)("dashboard");return(0,a.jsxs)("div",{className:"flex min-h-screen",children:[(0,a.jsx)(D,{activeTab:m,onTabChange:e=>{x(e)}}),(0,a.jsx)("main",{className:"flex-1 p-8 ml-64 overflow-y-auto h-screen custom-scrollbar",children:c?(0,a.jsxs)("div",{className:"flex flex-col items-center justify-center h-full space-y-4 animate-pulse",children:[(0,a.jsx)("div",{className:"w-16 h-16 border-4 border-primary/30 border-t-primary rounded-full animate-spin"}),(0,a.jsx)("p",{className:"text-muted-foreground font-serif text-lg",children:"Caricamento Wolvesville DB..."})]}):(()=>{let s=e=>{let{title:r}=e;return(0,a.jsxs)("div",{className:"flex items-center gap-4 mb-8 pb-4 border-b border-border/40 animate-in fade-in slide-in-from-left-4 duration-500",children:[(0,a.jsx)("button",{onClick:()=>x("dashboard"),className:"p-2 rounded-full bg-primary/10 hover:bg-primary/20 text-primary transition-colors group",title:"Torna alla Dashboard",children:(0,a.jsx)(l.A,{className:"w-5 h-5 group-hover:-translate-x-1 transition-transform"})}),(0,a.jsx)("h2",{className:"text-3xl font-serif font-bold text-foreground",children:r})]})};switch(m){case"dashboard":return(0,a.jsxs)("div",{className:"space-y-6 animate-in fade-in slide-in-from-bottom-4 duration-500",children:[(0,a.jsxs)("div",{className:"p-8 rounded-2xl bg-gradient-to-br from-primary/20 via-primary/5 to-transparent border border-primary/20 relative overflow-hidden shadow-xl",children:[(0,a.jsxs)("div",{className:"relative z-10",children:[(0,a.jsx)("h1",{className:"text-4xl font-serif font-bold mb-2",children:"Benvenuto su Wolvesville DB"}),(0,a.jsx)("p",{className:"text-lg text-muted-foreground max-w-xl",children:"Il tuo hub definitivo per esplorare ruoli, creare outfit e gestire le attivit\xe0 del clan. Sincronizzato in tempo reale con i server ufficiali."})]}),(0,a.jsx)("div",{className:"absolute -right-10 -bottom-20 opacity-20 rotate-12 pointer-events-none",children:(0,a.jsx)(F.default,{src:"https://cdn.wolvesville.com/roleIcons/werewolf.png",width:300,height:300,alt:"Werewolf"})})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[(0,a.jsxs)("div",{className:"bg-card/40 p-6 rounded-xl border border-border hover:border-primary/50 transition-all cursor-pointer group",onClick:()=>x("roles"),children:[(0,a.jsx)("h3",{className:"text-2xl font-bold mb-1 group-hover:text-primary transition-colors",children:e.length}),(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:"Ruoli Indicizzati"})]}),(0,a.jsxs)("div",{className:"bg-card/40 p-6 rounded-xl border border-border hover:border-primary/50 transition-all cursor-pointer group",onClick:()=>x("wardrobe"),children:[(0,a.jsx)("h3",{className:"text-2xl font-bold mb-1 group-hover:text-primary transition-colors",children:r.length}),(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:"Oggetti Cosmetici"})]}),(0,a.jsxs)("div",{className:"bg-card/40 p-6 rounded-xl border border-border hover:border-primary/50 transition-all cursor-pointer group",onClick:()=>x("roleIcons"),children:[(0,a.jsx)("h3",{className:"text-2xl font-bold mb-1 group-hover:text-primary transition-colors",children:t.length}),(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:"Icone Ruoli"})]}),(0,a.jsxs)("div",{className:"bg-card/40 p-6 rounded-xl border border-border hover:border-primary/50 transition-all cursor-pointer group",onClick:()=>x("ranked"),children:[(0,a.jsx)("h3",{className:"text-2xl font-bold mb-1 group-hover:text-primary transition-colors",children:"Ranked"}),(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:"Classifiche"})]})]}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3 pb-2 border-b border-border/40",children:[(0,a.jsx)("div",{className:"p-2 rounded-lg bg-yellow-500/10 text-yellow-500",children:(0,a.jsx)(o.A,{size:24})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h2",{className:"text-2xl font-serif font-bold text-foreground",children:"Offerte del Giorno"}),(0,a.jsxs)("p",{className:"text-sm text-muted-foreground flex items-center gap-2",children:[(0,a.jsx)("span",{className:"w-2 h-2 rounded-full bg-green-500 animate-pulse"}),"Live dal Negozio"]})]})]}),0===d.length?(0,a.jsx)("div",{className:"p-8 text-center border border-dashed border-border rounded-xl bg-card/20",children:(0,a.jsx)("p",{className:"text-muted-foreground",children:"Nessuna offerta attiva al momento o caricamento in corso..."})}):(0,a.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:d.map(e=>{var r,t,s;return(0,a.jsxs)("div",{className:"group relative bg-card/40 rounded-xl overflow-hidden border border-border hover:border-primary/50 transition-all hover:shadow-lg hover:shadow-primary/10",children:[(0,a.jsxs)("div",{className:"aspect-[2/1] relative overflow-hidden bg-black/20",children:[e.promoImageUrl?(0,a.jsx)(F.default,{src:e.promoImageUrl,alt:"Offer Promo",fill:!0,className:"object-cover transition-transform duration-700 group-hover:scale-110"}):(0,a.jsx)("div",{className:"w-full h-full flex items-center justify-center bg-gradient-to-br from-primary/10 to-transparent",children:(0,a.jsx)(i.A,{className:"w-12 h-12 text-primary/20"})}),(0,a.jsxs)("div",{className:"absolute top-3 right-3 flex flex-col gap-1 items-end",children:[e.costInGems?(0,a.jsxs)("span",{className:"bg-black/60 backdrop-blur border border-pink-500/30 text-pink-400 px-3 py-1 rounded-full text-sm font-bold shadow-lg flex items-center gap-1",children:["\uD83D\uDC8E ",e.costInGems]}):null,e.costInGold?(0,a.jsxs)("span",{className:"bg-black/60 backdrop-blur border border-yellow-500/30 text-yellow-400 px-3 py-1 rounded-full text-sm font-bold shadow-lg flex items-center gap-1",children:["\uD83E\uDE99 ",e.costInGold]}):null]})]}),(0,a.jsxs)("div",{className:"p-4 space-y-3",children:[(0,a.jsx)("div",{className:"flex items-start justify-between",children:(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"font-bold text-lg leading-tight",children:e.avatarItemSets&&e.avatarItemSets.length>0?e.avatarItemSets[0].name:"Bundle Speciale"}),(0,a.jsxs)("p",{className:"text-xs text-muted-foreground mt-1 flex items-center gap-1",children:[(0,a.jsx)(n.A,{size:12})," Scade presto"]})]})}),(0,a.jsxs)("div",{className:"flex gap-2 overflow-x-auto pb-2 scrollbar-thin scrollbar-thumb-primary/20",children:[null===(r=e.avatarItemSets)||void 0===r?void 0:r.map(e=>(0,a.jsxs)("span",{className:"text-xs bg-primary/10 text-primary px-2 py-1 rounded border border-primary/20 whitespace-nowrap",children:["Set: ",e.name]},e.id)),null===(t=e.items)||void 0===t?void 0:t.map(e=>(0,a.jsxs)("span",{className:"text-xs bg-secondary/20 text-secondary-foreground px-2 py-1 rounded border border-secondary/20 whitespace-nowrap",children:["Item: ",e.rarity]},e.id)),null===(s=e.rewards)||void 0===s?void 0:s.map((e,r)=>(0,a.jsxs)("span",{className:"text-xs bg-white/5 text-muted-foreground px-2 py-1 rounded border border-white/10 whitespace-nowrap",children:[e.amount," ",e.type]},r))]})]})]},e.id)})})]})]});case"wardrobe":return(0,a.jsxs)("div",{className:"animate-in fade-in duration-500",children:[(0,a.jsx)(s,{title:"Guardaroba & Item"}),(0,a.jsxs)("div",{className:"flex flex-col xl:flex-row gap-8",children:[(0,a.jsx)("div",{className:"xl:w-80 shrink-0 xl:sticky xl:top-4 self-start z-50",children:(0,a.jsx)(J,{})}),(0,a.jsx)("div",{className:"flex-grow",children:(0,a.jsx)("div",{className:"bg-card/20 rounded-xl border border-border/50 p-1",children:(0,a.jsx)(eo,{items:r,loading:c})})})]})]});case"roles":return(0,a.jsxs)("div",{className:"animate-in fade-in duration-500",children:[(0,a.jsx)(s,{title:"Galleria Ruoli"}),(0,a.jsx)(ec,{roles:e})]});case"clans":return(0,a.jsxs)("div",{className:"animate-in fade-in duration-500",children:[(0,a.jsx)(s,{title:"Gestione Clan"}),(0,a.jsx)(eb,{})]});case"ranked":return(0,a.jsxs)("div",{className:"animate-in fade-in duration-500",children:[(0,a.jsx)(s,{title:"Classifiche & Ranked"}),(0,a.jsx)(ey,{})]});case"profiles":return(0,a.jsxs)("div",{className:"animate-in fade-in duration-500",children:[(0,a.jsx)(s,{title:"Cerca Giocatore"}),(0,a.jsx)(eO,{})]});case"roleIcons":let u={},p=[];t.forEach(e=>{e.roleId?(u[e.roleId]||(u[e.roleId]=[]),u[e.roleId].push(e)):p.push(e)});let g=Object.keys(u).sort((r,t)=>{let a=e.find(e=>e.id===r),s=e.find(e=>e.id===t),l=a?a.name:r,o=s?s.name:t;return l.localeCompare(o)});return(0,a.jsxs)("div",{className:"animate-in fade-in duration-500 space-y-8 pb-20",children:[(0,a.jsx)(s,{title:"Icone Ruoli"}),g.map(r=>{let t=e.find(e=>e.id===r),s=t?t.name:r,l=u[r];return(0,a.jsxs)("div",{className:"bg-card/20 p-6 rounded-2xl border border-border/50",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3 mb-4 border-b border-border/30 pb-2",children:[t&&t.image&&(0,a.jsx)("div",{className:"w-8 h-8 relative",children:(0,a.jsx)(F.default,{src:t.image.url,alt:s,fill:!0,className:"object-contain"})}),(0,a.jsx)("h3",{className:"text-xl font-bold font-serif capitalize",children:s}),(0,a.jsxs)("span",{className:"text-xs text-muted-foreground bg-primary/10 px-2 py-0.5 rounded-full ml-auto",children:[l.length," Varianti"]})]}),(0,a.jsx)("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-5 lg:grid-cols-8 gap-4",children:l.map(e=>(0,a.jsxs)("div",{className:"group relative aspect-square bg-card/40 rounded-xl flex items-center justify-center border border-border hover:border-primary transition-all shadow-sm hover:shadow-primary/20",children:[(0,a.jsx)("div",{className:"relative w-2/3 h-2/3",children:(0,a.jsx)(F.default,{src:e.image.url,alt:e.id,fill:!0,className:"object-contain transition-transform duration-300 group-hover:scale-110"})}),(0,a.jsx)("div",{className:"absolute top-2 right-2",children:(0,a.jsx)("span",{className:"text-[10px] px-1.5 py-0.5 rounded border ".concat("MYTHICAL"===e.rarity||"MYTHIC"===e.rarity?"bg-pink-500/20 text-pink-400 border-pink-500/30":"LEGENDARY"===e.rarity?"bg-yellow-500/20 text-yellow-400 border-yellow-500/30":"EPIC"===e.rarity?"bg-purple-500/20 text-purple-400 border-purple-500/30":"RARE"===e.rarity?"bg-blue-500/20 text-blue-400 border-blue-500/30":"COMMON"===e.rarity?"bg-gray-500/20 text-gray-400 border-gray-500/30":"bg-white/10 text-white/70 border-white/20"),children:e.rarity?e.rarity.substring(0,1):"?"})})]},e.id))})]},r)}),p.length>0&&(0,a.jsxs)("div",{className:"bg-card/20 p-6 rounded-2xl border border-border/50",children:[(0,a.jsx)("h3",{className:"text-xl font-bold font-serif mb-4",children:"Altro"}),(0,a.jsx)("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-5 lg:grid-cols-8 gap-4",children:p.map(e=>(0,a.jsx)("div",{className:"group relative aspect-square bg-card/40 rounded-xl flex items-center justify-center border border-border hover:border-primary transition-all shadow-sm hover:shadow-primary/20",children:(0,a.jsx)("div",{className:"relative w-2/3 h-2/3",children:(0,a.jsx)(F.default,{src:e.image.url,alt:e.id,fill:!0,className:"object-contain transition-transform duration-300 group-hover:scale-110"})})},e.id))})]})]});case"wiki":return(0,a.jsxs)("div",{className:"animate-in fade-in duration-500",children:[(0,a.jsx)(s,{title:"Wiki & Changelog"}),(0,a.jsxs)("div",{className:"flex flex-col items-center justify-center py-20 opacity-50 border border-dashed border-border rounded-xl",children:[(0,a.jsx)("p",{className:"font-mono text-xl font-bold",children:"v2.3.0 - Stable"}),(0,a.jsx)("p",{className:"mt-2 text-sm",children:"Documentazione in aggiornamento..."})]})]});default:return null}})()})]})}function eR(){return(0,a.jsx)(k,{children:(0,a.jsx)(eL,{})})}},1567:(e,r,t)=>{"use strict";t.d(r,{cn:()=>l});var a=t(3463),s=t(9795);function l(){for(var e=arguments.length,r=Array(e),t=0;t<e;t++)r[t]=arguments[t];return(0,s.QP)((0,a.$)(r))}}},e=>{var r=r=>e(e.s=r);e.O(0,[541,503,441,517,358],()=>r(535)),_N_E=e.O()}]);